{"version":3,"file":"static/chunks/8714-5fc6abc0b549ba8b.js","mappings":"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","sources":["webpack://_N_E/./src/ui/components/Avatar.tsx","webpack://_N_E/./src/ui/components/Library/LibraryDropdown.tsx","webpack://_N_E/./src/ui/components/shared/APIKeys.tsx","webpack://_N_E/./src/ui/components/shared/Base64Image.tsx","webpack://_N_E/./src/ui/components/shared/Icon.tsx","webpack://_N_E/./src/ui/components/shared/NewWorkspaceModal/InvitationLink.tsx","webpack://_N_E/./src/ui/components/shared/PortalDropdown.tsx","webpack://_N_E/./src/ui/components/shared/SettingsModal/SettingsBody.tsx","webpack://_N_E/./src/ui/components/shared/Modal.tsx","webpack://_N_E/./src/ui/components/shared/SettingsModal/SettingsNavigation.tsx","webpack://_N_E/./src/ui/components/shared/SettingsModal/index.tsx","webpack://_N_E/./src/ui/components/shared/SettingsModal/SettingsModal.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/useDebounceState.ts","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/GeneralSettings.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/utils.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/OrganizationSettings.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/WorkspaceMember.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/FieldRow.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/Field.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/SelectField.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/CountrySelect.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/InputField.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/AddPaymentMethod.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/DeleteConfirmation.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/Banner.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/formatDate.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/BillingBanners.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/ExpirationRow.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/PlanDetails.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/Details.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/PricingPage.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/WorkspaceSubscription.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/WorkspaceSettingsModal.tsx","webpack://_N_E/./src/ui/components/shared/WorkspaceSettingsModal/WorkspaceAPIKeys.tsx","webpack://_N_E/./src/ui/components/Avatar.module.css","webpack://_N_E/./src/ui/components/Library/Library.module.css"],"sourcesContent":["import classNames from \"classnames/bind\";\nimport React from \"react\";\n\nimport { User } from \"ui/types\";\nimport useAuth0 from \"ui/utils/useAuth0\";\nimport { getAvatarColor } from \"ui/utils/user\";\n\nimport css from \"./Avatar.module.css\";\n\nconst cx = classNames.bind(css);\n\n// The user image URLs that we get from Google sometimes fail to load, in that case\n// we fall back to a transparent image (instead of showing the browser's icon for broken images)\ntype AvatarImageProps = Omit<React.ImgHTMLAttributes<HTMLImageElement>, \"src\"> & {\n  src: string | null | undefined;\n};\nexport const AvatarImage = (props: AvatarImageProps) => (\n  <img\n    data-private\n    {...props}\n    src={props.src || undefined}\n    onError={e => (e.currentTarget.src = \"/images/clear.png\")}\n  />\n);\n\nexport const AuthAvatar = ({ user }: { user: User }) => {\n  return (\n    <div className={cx(\"avatar authenticated firstPlayer\")}>\n      <AvatarImage src={user.picture} />\n    </div>\n  );\n};\n\nexport interface AvatarProps {\n  player: any;\n  isFirstPlayer: boolean;\n  index?: number;\n}\n\nexport default function Avatar({ player, isFirstPlayer, index }: AvatarProps) {\n  let auth = useAuth0();\n\n  if (auth.isAuthenticated && isFirstPlayer) {\n    return <AuthAvatar user={auth.user} />;\n  }\n\n  if (player.name) {\n    return (\n      <div className={cx(\"avatar\")} title={player.name}>\n        <AvatarImage src={player.picture} />\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className={cx(\"avatar\")}\n      title={\"Anonymous User\"}\n      style={{ background: getAvatarColor(index) }}\n    />\n  );\n}\n","import { Menu } from \"@headlessui/react\";\nimport classNames from \"classnames\";\nimport React from \"react\";\n\nimport Icon from \"../shared/Icon\";\nimport styles from \"./Library.module.css\";\n\n// This should be the standard dropdown component for the Library\n// but then we should slowly make it even more general purpose\n// so that all dropdowns look the same.\n\nexport function DropdownButton({\n  className,\n  children,\n  disabled,\n}: {\n  className?: string;\n  children: React.ReactElement;\n  disabled?: boolean;\n}) {\n  return (\n    <Menu.Button\n      className={classNames(className, \"flex items-center px-1 py-2 text-sm\")}\n      disabled={disabled}\n    >\n      {children}\n    </Menu.Button>\n  );\n}\n\nexport function Dropdown({\n  children,\n  menuItemsClassName,\n  widthClass = \"w-56\",\n  fontSizeClass = \"text-sm\",\n}: {\n  children: React.ReactNode;\n  menuItemsClassName?: string;\n  widthClass?: \"\" | \"w-56\" | \"w-64\" | \"w-80\";\n  fontSizeClass?: \"text-sm\" | \"text-base\";\n}) {\n  return (\n    <Menu as=\"div\" className=\"recording-options inline-block text-left shadow-lg\">\n      {({ open }) => (\n        <Menu.Items\n          static\n          className={classNames(\n            menuItemsClassName,\n            widthClass,\n            fontSizeClass,\n            \"right-0 origin-top-right rounded-md border-modalBorder bg-menuBgcolor shadow-lg ring-1 ring-black ring-opacity-5 backdrop-blur-sm focus:outline-none\"\n          )}\n        >\n          <div className=\"py-1\">{children}</div>\n        </Menu.Items>\n      )}\n    </Menu>\n  );\n}\n\nexport function DropdownItem({\n  children,\n  onClick,\n}: {\n  children: string | React.ReactElement;\n  onClick: (e: React.MouseEvent) => void;\n}) {\n  return (\n    <Menu.Item>\n      {({ active }) => (\n        <a\n          href=\"#\"\n          className={classNames(\n            active ? \"bg-menuHoverBgcolor text-menuHoverColor\" : \"text-menuColor\",\n            \"block px-4 py-2\"\n          )}\n          onClick={onClick}\n        >\n          {children}\n        </a>\n      )}\n    </Menu.Item>\n  );\n}\n\nexport function DropdownItemContent({\n  children,\n  icon,\n  selected,\n}: {\n  children: string | React.ReactElement;\n  icon: string;\n  selected: boolean;\n}) {\n  return (\n    <div className=\"flex flex-row space-x-4\">\n      <div className={classNames(\"flex w-4 flex-row items-center\")}>\n        <Icon\n          filename={icon}\n          className={classNames(\n            \"group-hover:bg-primaryAccent\",\n            selected ? \"bg-primaryAccent\" : \"bg-gray-400\"\n          )}\n        />\n      </div>\n      <span className=\"overflow-hidden overflow-ellipsis whitespace-pre\">{children}</span>\n    </div>\n  );\n}\n\nexport function DropdownDivider() {\n  return <div className={`w-full ${styles.dropdownDivider}`} />;\n}\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\n\nimport { ApiKey, ApiKeyResponse, ApiKeyScope } from \"ui/types\";\n\nimport { useConfirm } from \"./Confirm\";\nimport TextInput from \"./Forms/TextInput\";\nimport MaterialIcon from \"./MaterialIcon\";\n\nconst scopeLabels: Record<ApiKeyScope, string> = {\n  \"admin:all\": \"Create recordings\",\n  \"write:sourcemap\": \"Upload source maps\",\n};\n\nfunction NewApiKey({ keyValue, onDone }: { keyValue: string; onDone: () => void }) {\n  const [copied, setCopied] = useState(false);\n\n  useEffect(() => {\n    if (copied) {\n      setTimeout(() => setCopied(false), 2000);\n    }\n  }, [copied, setCopied]);\n\n  return (\n    <>\n      <div className=\"flex items-center justify-between space-x-3\">\n        <div className=\"w-0 flex-auto\">\n          <div className=\"flex h-9 w-full items-center rounded-md border border-textFieldBorder bg-themeTextFieldBgcolor px-2.5 text-themeTextFieldColor text-primaryAccent\">\n            <input\n              readOnly\n              value={keyValue}\n              className=\"flex-auto truncate bg-themeTextFieldBgcolor focus:outline-none\"\n              onFocus={ev => ev.target.setSelectionRange(0, keyValue.length)}\n            />\n            {copied ? (\n              <div className=\"text-primaryAccent\">Copied</div>\n            ) : (\n              <MaterialIcon\n                className=\"material-icons w-5 cursor-pointer text-primaryAccent hover:text-primaryAccentHover\"\n                iconSize=\"lg\"\n                onClick={() => navigator.clipboard.writeText(keyValue!).then(() => setCopied(true))}\n              >\n                assignment_outline\n              </MaterialIcon>\n            )}\n          </div>\n        </div>\n        <button\n          className=\"inline-flex h-9 items-center rounded-md border border-transparent bg-primaryAccent px-2.5 py-1.5 font-medium leading-4 text-buttontextColor shadow-sm hover:bg-primaryAccentHover focus:bg-primaryAccentHover focus:outline-none\"\n          onClick={onDone}\n        >\n          Done\n        </button>\n      </div>\n      <div className=\"flex items-center rounded-md border border-textFieldBorder bg-red-100 p-2.5 text-red-800\">\n        Make sure to copy your API key now. You won{\"'\"}t be able to see it again!\n      </div>\n    </>\n  );\n}\n\nfunction ApiKeyList({ apiKeys, onDelete }: { apiKeys: ApiKey[]; onDelete: (id: string) => void }) {\n  const { confirmDestructive } = useConfirm();\n  if (apiKeys.length === 0) {\n    return null;\n  }\n\n  return (\n    <section className=\"flex flex-auto flex-col\">\n      <h3 className=\"text-base font-semibold uppercase\">API Keys</h3>\n      <div className=\"h-0 flex-auto overflow-auto\">\n        {apiKeys.map(apiKey => {\n          const usage =\n            typeof apiKey.maxRecordings === \"number\"\n              ? `(${apiKey.recordingCount} / ${apiKey.maxRecordings} recordings)`\n              : `(${apiKey.recordingCount} recordings)`;\n          return (\n            <div className=\"flex flex-row items-center py-1.5\" key={apiKey.id}>\n              <span className=\"flex-auto\" data-private>\n                {apiKey.label}\n                <span className=\"ml-2 text-gray-500\">{usage}</span>\n              </span>\n              <button\n                className=\"inline-flex items-center rounded-md bg-gray-100 p-2.5 text-sm leading-4 text-red-500 shadow-sm hover:text-red-700 focus:text-red-700 focus:outline-none\"\n                onClick={() => {\n                  confirmDestructive({\n                    message: \"Delete API key?\",\n                    description:\n                      \"This action will permanently delete this API key. \\n\\nAre you sure you want to proceed?\",\n                    acceptLabel: \"Delete API key\",\n                  }).then(confirmed => {\n                    if (confirmed) {\n                      onDelete(apiKey.id);\n                    }\n                  });\n                }}\n              >\n                Delete\n              </button>\n            </div>\n          );\n        })}\n      </div>\n    </section>\n  );\n}\n\nexport default function APIKeys({\n  apiKeys,\n  description,\n  error,\n  loading,\n  addKey,\n  deleteKey,\n  scopes = [],\n}: {\n  apiKeys: ApiKey[];\n  scopes?: ApiKeyScope[];\n  description: string;\n  error: any;\n  loading: boolean;\n  addKey: (label: string, scopes?: ApiKeyScope[]) => Promise<ApiKeyResponse>;\n  deleteKey: (id: string) => void;\n}) {\n  const labelRef = useRef<HTMLInputElement>(null);\n  const [keyValue, setKeyValue] = useState<string>();\n  const [selectedScopes, selectScopes] = useState<ApiKeyScope[]>(scopes);\n  const [label, setLabel] = useState<string>(\"\");\n\n  const canSubmit = label && !loading && selectedScopes.length > 0;\n  const sortedKeys = useMemo(\n    () =>\n      [...apiKeys].sort(\n        (a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n      ),\n    [apiKeys]\n  );\n\n  // focus the input on mount and when returning to the form (when keyValue changes)\n  useEffect(() => {\n    labelRef.current?.focus();\n  }, [keyValue]);\n\n  return (\n    <div className=\"flex h-0 flex-auto flex-col space-y-8\">\n      <label className=\"setting-item\">\n        <div className=\"description\">{description}</div>\n      </label>\n      {error ? (\n        <div>Unable to add an API key at this time. Please try again later.</div>\n      ) : keyValue ? (\n        <NewApiKey keyValue={keyValue} onDone={() => setKeyValue(undefined)} />\n      ) : (\n        <>\n          <section className=\"space-y-2.5 text-sm\">\n            <h3 className=\"text-xs font-semibold uppercase\">Create new API Key</h3>\n            <form\n              className=\"space-y-3\"\n              onSubmit={ev => {\n                canSubmit &&\n                  addKey(label, selectedScopes).then(resp => {\n                    selectScopes(scopes);\n                    setKeyValue(resp.keyValue);\n                    setLabel(\"\");\n                  });\n\n                ev.preventDefault();\n              }}\n            >\n              <fieldset className=\"flex w-full flex-row space-x-1.5\">\n                <TextInput\n                  disabled={loading}\n                  placeholder=\"API Key Label\"\n                  onChange={e => setLabel((e.target as HTMLInputElement).value)}\n                  ref={labelRef}\n                  value={label}\n                />\n                <button\n                  type=\"submit\"\n                  disabled={!canSubmit}\n                  className={`inline-flex items-center rounded-md border border-transparent bg-primaryAccent px-2.5 py-1.5 font-medium leading-4 text-buttontextColor shadow-sm focus:outline-none ${\n                    canSubmit\n                      ? \"hover:bg-primaryAccentHover focus:bg-primaryAccentHover\"\n                      : \"opacity-60\"\n                  }`}\n                >\n                  Add\n                </button>\n              </fieldset>\n              {scopes && scopes.length > 1 ? (\n                <fieldset className=\"w-full\">\n                  <h4 className=\"text-sm font-semibold uppercase\">Permissions</h4>\n                  {scopes.map(scope => (\n                    <label key={scope} className=\"mx-1.5 inline-block space-x-1.5\">\n                      <input\n                        type=\"checkbox\"\n                        onChange={e =>\n                          selectScopes(current => {\n                            if ((e.target as HTMLInputElement).checked) {\n                              return [...current, scope];\n                            } else {\n                              return current.filter(s => s !== scope);\n                            }\n                          })\n                        }\n                        checked={selectedScopes.includes(scope)}\n                      />\n                      <span>{scopeLabels[scope]}</span>\n                    </label>\n                  ))}\n                  {selectedScopes.length === 0 ? (\n                    <div className=\"mt-2.5 flex items-center rounded-md border border-textFieldBorder bg-red-100 p-2.5\">\n                      At least one permission must be selected.\n                    </div>\n                  ) : null}\n                </fieldset>\n              ) : null}\n            </form>\n          </section>\n          <ApiKeyList\n            apiKeys={sortedKeys}\n            onDelete={id => {\n              deleteKey(id);\n              labelRef.current?.focus();\n            }}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function Base64Image({ src, ...rest }: React.ImgHTMLAttributes<HTMLImageElement>) {\n  if (!src) {\n    return null;\n  }\n\n  return <img {...rest} src={`data:image/png;base64,${src}`} />;\n}\n","import React from \"react\";\n\nconst SIZES = {\n  custom: {},\n  small: { height: \"1rem\", width: \"1rem\" },\n  medium: { height: \"1.25rem\", width: \"1.25rem\" },\n  large: { height: \"1.5rem\", width: \"1.5rem\" },\n  \"extra-large\": { height: \"2rem\", width: \"2rem\" },\n};\nexport default function Icon({\n  filename,\n  className = \"bg-gray-800\",\n  size = \"medium\",\n  style = {},\n}: {\n  size?: \"small\" | \"medium\" | \"large\" | \"extra-large\" | \"custom\";\n  filename: string;\n  className?: string;\n  style?: object;\n}) {\n  const sizeStyles = SIZES[size];\n  return <div className={`icon ${filename} ${className}`} style={{ ...sizeStyles, ...style }} />;\n}\n","import classNames from \"classnames\";\nimport React, { useRef, useState } from \"react\";\n\nimport hooks from \"ui/hooks\";\nimport { Workspace } from \"ui/types\";\n\nexport function TextInputCopy({\n  text,\n  isLarge = false,\n  isCenter = false,\n}: {\n  text: string;\n  isLarge?: boolean;\n  isCenter?: boolean;\n}) {\n  const [showCopied, setShowCopied] = useState(false);\n  const timeoutKey = useRef<NodeJS.Timeout | null>(null);\n\n  const onClick = () => {\n    navigator.clipboard.writeText(text);\n\n    if (timeoutKey.current) {\n      clearTimeout(timeoutKey.current);\n    }\n\n    setShowCopied(true);\n    timeoutKey.current = setTimeout(() => setShowCopied(false), 2000);\n  };\n\n  return (\n    <div className=\"relative flex w-full flex-col items-center p-0.5\">\n      <input\n        className={classNames(\n          isLarge ? \"text-xl\" : \"text-sm\",\n          isCenter ? \"text-center\" : \"\",\n          \"block w-full rounded-md border border-textFieldBorder bg-themeTextFieldBgcolor px-2.5 py-1.5 text-themeTextFieldColor focus:border-primaryAccent focus:ring-primaryAccent\"\n        )}\n        type=\"text\"\n        value={text}\n        onKeyPress={e => e.preventDefault()}\n        onChange={e => e.preventDefault()}\n        onClick={onClick}\n      />\n      {showCopied ? (\n        <div className=\"absolute bottom-full mb-1.5 rounded-lg bg-gray-500 bg-opacity-90 p-1.5 text-base text-gray-200 shadow-2xl\">\n          Copied\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nfunction InvationDomainCheck({ workspace }: { workspace: Workspace }) {\n  const updateWorkspaceCodeDomainLimitations = hooks.useUpdateWorkspaceCodeDomainLimitations();\n  const handleToggle = () => {\n    if (!workspace) {\n      return;\n    }\n    updateWorkspaceCodeDomainLimitations({\n      variables: { workspaceId: workspace.id, isLimited: !workspace.isDomainLimitedCode },\n    });\n  };\n\n  if (workspace?.domain == \"gmail.com\") {\n    return null;\n  }\n\n  const emptyWorkspaceLink = \"Give access with anyone with a replay.io email address\";\n  const workspaceLink = (\n    <span>\n      Restrict this invite link to users with a{\" \"}\n      <span className=\"font-medium \">{workspace.domain}</span> email address\n    </span>\n  );\n\n  return (\n    <div className=\"flex flex-row items-center space-x-3 px-1.5\">\n      <input\n        id=\"domain-limited\"\n        className=\"outline-none focus:outline-none\"\n        type=\"checkbox\"\n        disabled={!workspace}\n        checked={!!workspace?.isDomainLimitedCode}\n        onChange={handleToggle}\n      />\n      <label htmlFor=\"domain-limited\">{workspace ? workspaceLink : emptyWorkspaceLink}</label>\n    </div>\n  );\n}\n\nexport default function InvitationLink({\n  workspaceId,\n  showDomainCheck = true,\n  isLarge = false,\n  hideHeader = false,\n  overlay = false,\n}: {\n  workspaceId: string;\n  showDomainCheck?: boolean;\n  isLarge?: boolean;\n  hideHeader?: boolean;\n  overlay?: boolean;\n}) {\n  const { workspaces, loading } = hooks.useGetNonPendingWorkspaces();\n\n  const workspace = workspaces?.find(w => workspaceId == w.id);\n  if (!workspace) {\n    return null;\n  }\n\n  const inputText = loading\n    ? \"Loading URL\"\n    : `https://app.replay.io/team/invitation?code=${workspace.invitationCode}`;\n\n  return (\n    <div className=\"relative flex w-full flex-col space-y-3\">\n      {overlay ? (\n        <div className=\"pointer-events-none absolute -inset-8 top-0 bg-themeBase-60 opacity-10\" />\n      ) : null}\n      {!hideHeader ? <div className=\"font-bold\">{`Invite link`}</div> : null}\n      <TextInputCopy text={inputText} isLarge={isLarge} />\n      {showDomainCheck ? <InvationDomainCheck workspace={workspace} /> : null}\n    </div>\n  );\n}\n","import React, { CSSProperties, RefObject, useCallback, useRef, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nimport { getToolboxLayout } from \"ui/reducers/layout\";\nimport { useAppSelector } from \"ui/setup/hooks\";\n\nimport { DropdownProps } from \"./Dropdown\";\n\ninterface PortalDropdownProps extends DropdownProps {\n  disabled?: boolean;\n  distance?: number;\n  style?: CSSProperties;\n}\n\ntype Direction = \"top\" | \"bottom\";\ntype Position = \"top-right\" | \"bottom-right\" | \"top-left\" | \"bottom-left\";\n\ntype ViewportOverflows = Direction[];\n\nexport default function PortalDropdown(props: PortalDropdownProps) {\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const [dropdownNode, setDropdownNode] = useState<HTMLDivElement | null>(null);\n\n  const expand = (e: React.MouseEvent) => {\n    if (e.button === 0) {\n      e.stopPropagation();\n      e.preventDefault();\n      props.setExpanded(true);\n    }\n  };\n  const collapse = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    props.setExpanded(false);\n  };\n\n  const {\n    buttonContent,\n    children,\n    position = \"bottom-left\",\n    buttonStyle = \"primary\",\n    style,\n    expanded,\n  } = props;\n\n  const contentPosition = getContentPosition(props, buttonRef, dropdownNode);\n  const toolboxLayout = useAppSelector(getToolboxLayout);\n\n  return (\n    <div className=\"portal-dropdown-wrapper\">\n      <button\n        type=\"button\"\n        className={`expand-dropdown flex w-full ${buttonStyle}`}\n        disabled={props.disabled}\n        id=\"portal-dropdown-button\"\n        data-test-id=\"consoleDockButton\"\n        data-test-state={toolboxLayout}\n        onMouseDown={expand}\n        ref={buttonRef}\n      >\n        {buttonContent}\n      </button>\n      {expanded\n        ? createPortal(\n            <div className=\"portal-dropdown-container\">\n              <div className=\"mask\" onClick={collapse} />\n              <div\n                className={`content ${position}`}\n                style={{ ...style, ...contentPosition }}\n                ref={setDropdownNode}\n              >\n                {children}\n              </div>\n            </div>,\n            document.body\n          )\n        : null}\n    </div>\n  );\n}\n\nfunction getContentPosition(\n  props: PortalDropdownProps,\n  buttonRef: RefObject<HTMLButtonElement>,\n  dropdownNode: HTMLDivElement | null\n): CSSProperties {\n  if (props.expanded && buttonRef.current) {\n    const buttonRect = buttonRef.current.getBoundingClientRect();\n    const docRect = document.body.getBoundingClientRect();\n    const dropdownRect = dropdownNode?.getBoundingClientRect();\n\n    const { left, right, top, bottom } = buttonRect;\n    const { width, height } = docRect;\n    const distance = props.distance || 5;\n\n    let position = props.position || \"bottom-left\";\n    const viewportOverflows = getViewportOverflows(docRect, dropdownRect);\n\n    viewportOverflows.forEach(overflow => {\n      if (position.includes(overflow)) {\n        position = adjustPosition(position, overflow);\n      }\n    });\n\n    switch (position) {\n      case \"top-right\":\n        return { bottom: height - top + distance + \"px\", left: left + \"px\" };\n      case \"bottom-right\":\n        return { top: bottom + distance + \"px\", left: left + \"px\" };\n      case \"top-left\":\n        return { bottom: height - top + distance + \"px\", right: width - right + \"px\" };\n      case \"bottom-left\":\n        return { top: bottom + distance + \"px\", right: width - right + \"px\" };\n    }\n  }\n\n  return {};\n}\n\nfunction getViewportOverflows(doc: ClientRect, dropdown?: ClientRect): ViewportOverflows {\n  const overflows: ViewportOverflows = [];\n\n  if (!dropdown) {\n    return [];\n  }\n\n  if (doc.bottom < dropdown.bottom) {\n    overflows.push(\"bottom\");\n  }\n\n  if (doc.top > dropdown.top) {\n    overflows.push(\"top\");\n  }\n\n  return overflows;\n}\n\nfunction adjustPosition(position: Position, overflow: Direction) {\n  const oppositeMap = { top: \"bottom\", bottom: \"top\" };\n\n  return position.replace(overflow, oppositeMap[overflow]) as Position;\n}\n","import React from \"react\";\n\nimport { Setting } from \"./types\";\n\ninterface SettingsBodyProps<T extends string, P extends Record<string, unknown>> {\n  selectedSetting: Setting<T, P>;\n  panelProps: P;\n}\n\nfunction SettingsBodyWrapper({ children }: { children: (React.ReactChild | null)[] }) {\n  return <main className=\"flex w-full flex-col overflow-hidden p-8 pr-2 text-sm\">{children}</main>;\n}\n\nexport function SettingsHeader({ children }: { children: React.ReactNode }) {\n  return <h1 className=\"text-2xl\">{children}</h1>;\n}\n\nexport function SettingsBodyHeader({ children }: { children: React.ReactChild }) {\n  return <h2 className=\"text-lg\">{children}</h2>;\n}\n\nexport default function SettingsBody<T extends string, P extends Record<string, unknown>>({\n  panelProps,\n  selectedSetting,\n}: SettingsBodyProps<T, P>) {\n  const { title } = selectedSetting;\n\n  return (\n    <SettingsBodyWrapper>\n      {selectedSetting.noTitle ? null : <SettingsHeader>{title}</SettingsHeader>}\n      <selectedSetting.component {...panelProps} />\n    </SettingsBodyWrapper>\n  );\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport * as actions from \"ui/actions/app\";\n\ninterface ModalProps {\n  hideModal(): any;\n  showClose?: boolean;\n  children?: React.ReactNode;\n}\n\nfunction Modal({ hideModal, children, showClose = true }: ModalProps) {\n  return (\n    <div className=\"modal-container\">\n      <div className=\"modal-mask\" onClick={hideModal} />\n      <div className=\"modal-content overflow-hidden text-sm\">\n        {showClose && (\n          <button className=\"modal-close\" onClick={hideModal}>\n            <div className=\"img close\" />\n          </button>\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default connect(null, { hideModal: actions.hideModal })(Modal);\n","import classnames from \"classnames\";\nimport React from \"react\";\n\nimport MaterialIcon from \"../MaterialIcon\";\nimport { SettingsHeader } from \"./SettingsBody\";\nimport { Setting, Settings } from \"./types\";\n\ninterface SettingNavigationItemProps<T extends string, P extends Record<string, unknown>> {\n  setting: Setting<T, P>;\n  selectedTab?: T;\n  setSelectedTab: (title: T) => void;\n}\n\ninterface SettingNavigationProps<T extends string, P extends Record<string, unknown>> {\n  settings: Settings<T, P>;\n  selectedTab?: T;\n  setSelectedTab: (title: T) => void;\n  title?: React.ReactNode;\n  hiddenTabs?: T[];\n}\n\nfunction SettingNavigationItem<T extends string, P extends Record<string, unknown>>({\n  setting,\n  selectedTab,\n  setSelectedTab,\n}: SettingNavigationItemProps<T, P>) {\n  const { title, icon } = setting;\n  const onClick = () => {\n    setSelectedTab(title);\n  };\n\n  return (\n    <li onClick={onClick} className={classnames({ selected: title === selectedTab })}>\n      <MaterialIcon iconSize=\"lg\">{icon!}</MaterialIcon>\n      <span>{title}</span>\n    </li>\n  );\n}\n\nexport default function SettingNavigation<T extends string, P extends Record<string, unknown>>({\n  hiddenTabs,\n  settings,\n  selectedTab,\n  setSelectedTab,\n  title = \"Settings\",\n}: SettingNavigationProps<T, P>) {\n  return (\n    <nav style={{ maxWidth: 240 }}>\n      <SettingsHeader>{title}</SettingsHeader>\n      <ul>\n        {settings\n          .filter(setting => !hiddenTabs || !hiddenTabs.includes(setting.title))\n          .map((setting, index) => (\n            <SettingNavigationItem {...{ setting, selectedTab, setSelectedTab }} key={index} />\n          ))}\n      </ul>\n    </nav>\n  );\n}\n","import SettingsModal from \"./SettingsModal\";\n\nexport default SettingsModal;\n","import classnames from \"classnames\";\nimport React, { useEffect, useState } from \"react\";\n\nimport Modal from \"ui/components/shared/Modal\";\n\nimport SettingsBody from \"./SettingsBody\";\nimport SettingsNavigation from \"./SettingsNavigation\";\nimport { Settings } from \"./types\";\n\nexport default function SettingsModal<T extends string, P extends Record<string, unknown>>({\n  tab,\n  hiddenTabs,\n  loading,\n  panelProps,\n  settings,\n  size = \"sm\",\n  title,\n}: {\n  tab?: T;\n  hiddenTabs?: T[];\n  loading?: boolean;\n  panelProps: P;\n  settings: Settings<T, P>;\n  size?: \"sm\" | \"lg\";\n  title?: React.ReactNode;\n}) {\n  const [selectedTab, setSelectedTab] = useState<T | undefined>(tab);\n  const selectedSetting = settings.find(setting => setting.title === selectedTab)!;\n\n  useEffect(() => {\n    if (tab) {\n      setSelectedTab(tab);\n    }\n  }, [tab]);\n\n  if (loading) {\n    return (\n      <div className=\"settings-modal\">\n        <Modal></Modal>\n      </div>\n    );\n  }\n\n  return (\n    <div className={classnames(\"settings-modal\", { \"settings-modal-large\": size === \"lg\" })}>\n      <Modal>\n        <SettingsNavigation {...{ hiddenTabs, settings, selectedTab, setSelectedTab, title }} />\n        <SettingsBody selectedSetting={selectedSetting} panelProps={panelProps} />\n      </Modal>\n    </div>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\n\nexport default function useDebounceState<T>(\n  original: T | undefined,\n  callback: (value: T) => void,\n  timeout = 500\n): [T | undefined, (value: T) => void, (value: T) => void] {\n  const [value, updateValue] = useState(original); // nosemgrep typescript.react.best-practice.react-props-in-state.react-props-in-state\n  const ref = useRef<NodeJS.Timeout | undefined>();\n\n  const setValue = (updated: T) => {\n    updateValue(updated);\n\n    if (ref.current) {\n      clearTimeout(ref.current);\n    }\n\n    ref.current = setTimeout(() => callback(updated), timeout);\n  };\n\n  return [value, setValue, updateValue];\n}\n","import classNames from \"classnames\";\nimport React, { useEffect, useRef, useState } from \"react\";\n\nimport hooks from \"ui/hooks\";\n\nimport useDebounceState from \"./useDebounceState\";\n\nconst Label = ({ className, children }: { className?: string; children: React.ReactNode }) => {\n  return (\n    <div className={classNames(className, \"w-4/12 flex-shrink-0\")}>\n      <label>{children}</label>\n    </div>\n  );\n};\n\nconst Input = ({ children }: { children: React.ReactNode }) => {\n  return <div className=\"w-8/12\">{children}</div>;\n};\n\nconst Row = ({ children }: { children: React.ReactNode }) => {\n  return <div className=\"flex items-center\">{children}</div>;\n};\n\nconst useImageUpload = (\n  image: string | null | undefined,\n  maxSize: number,\n  callback: (img: string) => void\n) => {\n  const [err, setErr] = useState<string>();\n  const [img, setImg] = useState(image);\n\n  const onUpload = (input: HTMLInputElement) => {\n    if (!input.files?.[0]) {\n      return;\n    }\n\n    input.files[0].arrayBuffer().then(b => {\n      if (maxSize && b.byteLength > maxSize * 1024) {\n        setErr(`Image must be less than ${maxSize} kilobytes`);\n        return;\n      }\n\n      const ua = new Uint8Array(b);\n      const str = ua.reduce((a, b) => a + String.fromCharCode(b), \"\");\n      const newImage = btoa(str);\n      setErr(undefined);\n      setImg(newImage);\n      callback(newImage);\n    });\n  };\n\n  return { img, err, onUpload };\n};\n\nconst GeneralSettings = ({ workspaceId }: { workspaceId: string }) => {\n  const { workspace } = hooks.useGetWorkspace(workspaceId);\n  const updateWorkspaceSettings = hooks.useUpdateWorkspaceSettings();\n  const updateWorkspaceLogo = hooks.useUpdateWorkspaceLogo();\n  const { img, err, onUpload } = useImageUpload(workspace?.logo, 50, logo =>\n    updateWorkspaceLogo({\n      variables: {\n        workspaceId,\n        logo,\n      },\n    })\n  );\n\n  const [name, setName] = useDebounceState(\n    workspace?.name,\n    name =>\n      name &&\n      updateWorkspaceSettings({\n        variables: {\n          workspaceId,\n          name,\n        },\n      })\n  );\n\n  if (!workspace) {\n    return null;\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <Row>\n        <Label>Name</Label>\n        {/* Only enable workspace name edit if team is organization https://github.com/RecordReplay/devtools/issues/6799 */}\n        {workspace.isOrganization ? (\n          <Input>\n            <input\n              className=\"w-full rounded-md border-textFieldBorder bg-themeTextFieldBgcolor text-sm\"\n              type=\"text\"\n              value={name}\n              onChange={e => setName(e.currentTarget.value)}\n            />\n          </Input>\n        ) : (\n          <div className=\"w-8/12\">\n            <div className=\"py-2 text-sm\">{name}</div>\n          </div>\n        )}\n      </Row>\n      <Row>\n        <Label className=\"self-start\">Logo</Label>\n        <Input>\n          <div className=\"flex flex-col items-start space-y-4\">\n            {img ? <img className=\"block max-h-12\" src={`data:image/png;base64,${img}`} /> : null}\n            <label className=\"flex-inline cursor-pointer items-center justify-center rounded-md border p-2\">\n              <input\n                type=\"file\"\n                className=\"invisible h-1 w-0\"\n                accept=\"image/png\"\n                onChange={e => onUpload(e.currentTarget)}\n              />\n              <span>Upload</span>\n              <span className=\"material-icons ml-2 text-sm\">upload</span>\n            </label>\n            {err ? <div className=\"text-red-500\">{err}</div> : null}\n          </div>\n        </Input>\n      </Row>\n    </div>\n  );\n};\n\nexport default GeneralSettings;\n","import { assert } from \"protocol/utils\";\nimport { PaymentMethod, PlanPricing, Subscription, SubscriptionWithPricing } from \"ui/types\";\n\nexport type Views =\n  | \"details\"\n  | \"trial-details\"\n  | \"add-payment-method\"\n  | \"enter-payment-method\"\n  | \"confirm-payment-method\"\n  | \"delete-payment-method\";\n\nexport function isSubscriptionCancelled(subscription: Subscription) {\n  return subscription.status === \"canceled\" && subscription.effectiveUntil;\n}\n\nexport const isTrial = (subscription: Subscription): boolean => {\n  return (\n    subscription.status === \"trialing\" &&\n    subscription.paymentMethods != null &&\n    subscription.paymentMethods.length === 0\n  );\n};\n\nexport function formatPaymentMethod(paymentMethod: PaymentMethod) {\n  return `${cardToDisplayType(paymentMethod.card.brand)} ending with ${paymentMethod.card.last4}`;\n}\n\nexport const cardToDisplayType = (type: string) => {\n  switch (type) {\n    case \"visa\":\n      return \"Visa\";\n    case \"amex\":\n      return \"American Express\";\n    case \"diners\":\n      return \"Diners Club\";\n    case \"jcb\":\n      return \"JCB\";\n    case \"mastercard\":\n      return \"Mastercard\";\n    default:\n      return \"Card\";\n  }\n};\n\nexport const pricingDetailsForSubscription = (subscription: Subscription): PlanPricing => {\n  assert(subscription.plan?.key, \"Workspace does not have a planKey\");\n  switch (subscription.plan.key) {\n    case \"beta-v1\":\n    case \"test-beta-v1\":\n      return {\n        billingSchedule: null,\n        displayName: \"Beta Tester Appreciation\",\n        seatPrice: 0,\n        discount: 0,\n        trial: isTrial(subscription),\n      };\n    case \"team-oss-v1\":\n      return {\n        billingSchedule: \"monthly\",\n        displayName: \"OSS Team\",\n        seatPrice: 0,\n        discount: 0,\n        trial: false,\n      };\n    case \"team-internal-v1\":\n      return {\n        billingSchedule: \"monthly\",\n        displayName: \"Replay Team\",\n        seatPrice: 0,\n        discount: 0,\n        trial: false,\n      };\n    case \"team-v1\":\n    case \"test-team-v1\":\n      return {\n        billingSchedule: \"monthly\",\n        displayName: \"Team\",\n        seatPrice: 20,\n        discount: 0,\n        trial: isTrial(subscription),\n      };\n    case \"team-annual-v1\":\n      return {\n        billingSchedule: \"annual\",\n        displayName: \"Team\",\n        seatPrice: 20,\n        discount: 0.1,\n        trial: isTrial(subscription),\n      };\n    case \"org-v1\":\n      return {\n        billingSchedule: \"monthly\",\n        displayName: \"Organization\",\n        seatPrice: 75,\n        discount: 0,\n        trial: isTrial(subscription),\n      };\n    case \"org-annual-v1\":\n      return {\n        billingSchedule: \"annual\",\n        displayName: \"Organization\",\n        seatPrice: 75,\n        discount: 0.1,\n        trial: isTrial(subscription),\n      };\n    case \"ent-v1\":\n      return {\n        billingSchedule: \"contract\",\n        displayName: \"Enterprise\",\n        seatPrice: 0,\n        discount: 0,\n        trial: false,\n      };\n  }\n};\n\nexport const getSubscriptionWithPricing = (subscription: Subscription): SubscriptionWithPricing => {\n  return { ...subscription, ...pricingDetailsForSubscription(subscription) };\n};\n\nconst monthsPerCycle = (planPricing: SubscriptionWithPricing): number => {\n  return planPricing.billingSchedule === \"annual\" ? 12 : 1;\n};\n\nconst calcSubtotal = (planPricing: SubscriptionWithPricing): number => {\n  if (!planPricing.billingSchedule || !planPricing.seatCount) {\n    return 0;\n  }\n\n  return planPricing.seatPrice * planPricing.seatCount * monthsPerCycle(planPricing);\n};\n\nexport const cycleDiscount = (planPricing: SubscriptionWithPricing): string => {\n  if (!planPricing.billingSchedule) {\n    return formatCurrency(0);\n  }\n\n  return formatCurrency(-1 * calcSubtotal(planPricing) * planPricing.discount);\n};\n\nexport const cycleSubtotal = (planPricing: SubscriptionWithPricing): string => {\n  return formatCurrency(calcSubtotal(planPricing));\n};\n\nexport const cycleCharge = (planPricing: SubscriptionWithPricing): string => {\n  return formatCurrency(calcSubtotal(planPricing) * (1 - planPricing.discount));\n};\n\nexport function formatCurrency(amount: number) {\n  const formatter = new Intl.NumberFormat(\"en-us\", { style: \"currency\", currency: \"USD\" });\n  return formatter.format(amount);\n}\n\nexport function formatPercentage(amount: number) {\n  const formatter = new Intl.NumberFormat(\"en-us\", { style: \"percent\" });\n  return formatter.format(amount);\n}\n\nconst extractUrlParts = new RegExp(\n  \"^\" +\n    // protocol\n    \"([^:/?#.]+:)\" +\n    \"//\" +\n    // domain - adapted from https://stackoverflow.com/questions/3117218/matching-url-with-wildcards\n    // full supported list https://www.icann.org/en/system/files/files/idna-protocol-2003-2008.txt\n    \"([*\\\\w\\\\d\\\\-\\\\u0100-\\\\uffff.%]*)\" +\n    // port\n    \"(?::([*0-9]+))?\",\n  \"u\"\n);\n\nexport function sanitizeUrlList(input: string) {\n  return input\n    .split(\",\")\n    .map(s => s.trim())\n    .map(v => {\n      try {\n        const [, protocol, hostname, port] = v.match(extractUrlParts) || [];\n\n        if (!protocol || !hostname) {\n          return \"\";\n        }\n\n        return `${protocol}//${hostname}${port ? \":\" + port : \"\"}`;\n      } catch {\n        return \"\";\n      }\n    })\n    .filter(Boolean);\n}\n","import { QuestionMarkCircleIcon } from \"@heroicons/react/outline\";\nimport classNames from \"classnames\";\nimport React, { useEffect } from \"react\";\n\nimport hooks from \"ui/hooks\";\nimport { PartialWorkspaceSettingsFeatures } from \"ui/types\";\n\nimport useDebounceState from \"./useDebounceState\";\nimport { sanitizeUrlList } from \"./utils\";\n\nfunction CSVInput({\n  disabled,\n  id,\n  value,\n  onChange,\n}: {\n  disabled: boolean;\n  id: string;\n  value?: string;\n  onChange: (value: string[]) => void;\n}) {\n  const [currentValue, setCurrentValue] = useDebounceState(value, v =>\n    onChange(sanitizeUrlList(v))\n  );\n\n  return (\n    <textarea\n      id={id}\n      className={classNames(\"h-20 w-full rounded-md text-sm\", {\n        \"bg-themeTextFieldBgcolor\": disabled,\n        \"border-textFieldBorder\": disabled,\n      })}\n      disabled={disabled}\n      onChange={e => setCurrentValue(e.currentTarget.value)}\n      value={currentValue}\n    />\n  );\n}\n\nconst Label = ({\n  className,\n  children,\n  help,\n}: {\n  className?: string;\n  children: React.ReactNode;\n  help?: string;\n}) => {\n  return (\n    <div className={classNames(className, \"w-5/12 flex-shrink-0 justify-between space-x-2\")}>\n      <label>{children}</label>\n      {help ? (\n        <span title={help}>\n          <QuestionMarkCircleIcon className=\"h-4 w-4\" />\n        </span>\n      ) : null}\n    </div>\n  );\n};\n\nconst Input = ({ children }: { children: React.ReactNode }) => {\n  return <div className=\"w-8/12\">{children}</div>;\n};\n\nconst Row = ({ children }: { children: React.ReactNode }) => {\n  return <div className=\"flex items-center space-x-2\">{children}</div>;\n};\n\nconst OrganizationSettings = ({ workspaceId }: { workspaceId: string }) => {\n  const { workspace, loading } = hooks.useGetWorkspace(workspaceId);\n  const updateWorkspaceSettings = hooks.useUpdateWorkspaceSettings();\n  const [message, setMessage, resetMessage] = useDebounceState(\n    workspace?.settings?.motd || undefined,\n    motd =>\n      updateWorkspaceSettings({\n        variables: {\n          workspaceId,\n          motd,\n        },\n      })\n  );\n\n  const features: PartialWorkspaceSettingsFeatures = workspace?.settings?.features || {};\n  const updateFeature = (features: PartialWorkspaceSettingsFeatures) => {\n    updateWorkspaceSettings({\n      variables: {\n        workspaceId,\n        features,\n      },\n    });\n  };\n\n  useEffect(() => {\n    if (workspace) {\n      resetMessage(workspace.settings?.motd || \"\");\n    }\n    // workspace can referentially change from polling for changes without the\n    // workspace actually having changed so we're tying this hook invocation to\n    // the id change which will indicate when the workspace becomes loaded (or if\n    // a new workspace is somehow selected) eslint-disable-line\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [workspace?.id, resetMessage]);\n\n  if (!workspace) {\n    return null;\n  }\n\n  const disabled = !workspace.isOrganization;\n\n  return (\n    <div\n      className={classNames(\"-mr-4 max-h-full space-y-4 overflow-y-auto pr-4\", {\n        \"text-gray-500\": disabled,\n      })}\n    >\n      {disabled ? (\n        <p>\n          These features are only available to teams on our Organization Plan. Want to upgrade?{\" \"}\n          <a\n            href=\"mailto:sales@replay.io\"\n            rel=\"noreferrer noopener\"\n            target=\"_blank\"\n            className=\"underline\"\n          >\n            Get in touch!\n          </a>\n        </p>\n      ) : null}\n      <div className=\"text-xs font-semibold uppercase\">Recordings</div>\n      <Row>\n        <Label>Disable Public Recordings</Label>\n        <Input>\n          <label className=\"flex items-center\" htmlFor=\"disable_public_recordings\">\n            <input\n              className={classNames(\"ml-0 rounded-sm text-sm\", {\n                \"bg-toolbarBackground\": disabled,\n                \"border-gray-300\": disabled,\n              })}\n              disabled={disabled}\n              type=\"checkbox\"\n              id=\"disable_public_recordings\"\n              name=\"disable_public_recordings\"\n              onChange={e => updateFeature({ recording: { public: !e.currentTarget.checked } })}\n              checked={!features?.recording?.public}\n            />\n          </label>\n        </Input>\n      </Row>\n\n      <Row>\n        <Label\n          className=\"flex flex-row items-center self-start\"\n          help=\"If set, any recorded URL must match at least one of these domains.\"\n        >\n          Allow Recordings From\n        </Label>\n        <Input>\n          <CSVInput\n            id=\"allow_list\"\n            value={features?.recording?.allowList?.join(\", \")}\n            disabled={disabled}\n            onChange={allowList => updateFeature({ recording: { allowList } })}\n          />\n        </Input>\n      </Row>\n      <Row>\n        <Label\n          className=\"flex flex-row items-center self-start\"\n          help=\"If set, any recorded URL must not match any of these domains.\"\n        >\n          Block Recordings From\n        </Label>\n        <Input>\n          <CSVInput\n            id=\"block_list\"\n            value={features?.recording?.blockList?.join(\", \")}\n            disabled={disabled}\n            onChange={blockList => updateFeature({ recording: { blockList } })}\n          />\n        </Input>\n      </Row>\n      <div className=\"text-xs font-semibold uppercase\">Members</div>\n      <Row>\n        <Label>Disable My Library</Label>\n        <Input>\n          <label className=\"flex items-center\" htmlFor=\"restrict_users_to_domain\">\n            <input\n              className={classNames(\"ml-0 rounded-sm text-sm\", {\n                \"bg-toolbarBackground\": disabled,\n                \"border-gray-300\": disabled,\n              })}\n              disabled={disabled}\n              type=\"checkbox\"\n              id=\"restrict_users_to_domain\"\n              name=\"restrict_users_to_domain\"\n              checked={!features?.user?.library}\n              onChange={e => updateFeature({ user: { library: !e.currentTarget.checked } })}\n            />\n          </label>\n        </Input>\n      </Row>\n      <Row>\n        <Label>Automatically Add Users</Label>\n        <Input>\n          <label className=\"flex items-center\" htmlFor=\"auto_add_users\">\n            <select\n              className={classNames(\"ml-0 rounded-sm text-sm\", {\n                \"bg-toolbarBackground\": disabled,\n                \"border-gray-300\": disabled,\n              })}\n              disabled={disabled}\n              id=\"auto_add_users\"\n              name=\"auto_add_users\"\n              value={features?.user?.autoJoin || 0}\n              onChange={e =>\n                updateFeature({\n                  user: {\n                    autoJoin: Number(e.currentTarget.selectedOptions.item(0)?.value) || null,\n                  },\n                })\n              }\n            >\n              <option value=\"0\">None</option>\n              <option value=\"1\">Viewer</option>\n              <option value=\"3\">Developer</option>\n              <option value=\"131\">Admin</option>\n            </select>\n          </label>\n        </Input>\n      </Row>\n      {/* <Row>\n        <Label>Limit users to {workspace?.domain}</Label>\n        <Input>\n          <label className=\"flex items-center\" htmlFor=\"restrict_users_to_domain\">\n            <input\n              className={classNames(\"rounded-sm ml-0 text-sm\", {\n                \"bg-toolbarBackground\": disabled,\n                \"border-gray-300\": disabled,\n              })}\n              disabled={disabled}\n              type=\"checkbox\"\n              id=\"restrict_users_to_domain\"\n              name=\"restrict_users_to_domain\"\n            />\n          </label>\n        </Input>\n      </Row> */}\n      <Row>\n        <Label className=\"self-start\">Welcome Message</Label>\n        <div>\n          <textarea\n            className={classNames(\"h-20 w-full rounded-md text-sm\", {\n              \"bg-themeTextFieldBgcolor\": disabled,\n              \"border-textFieldBorder\": disabled,\n            })}\n            disabled={disabled}\n            onChange={e => setMessage(e.currentTarget.value)}\n            value={message}\n          />\n          {disabled ? null : (\n            <a href=\"/browser/new-tab\" rel=\"noreferrer noopener\" target=\"_blank\">\n              Preview\n            </a>\n          )}\n        </div>\n      </Row>\n    </div>\n  );\n};\n\nexport default OrganizationSettings;\n","import classnames from \"classnames\";\nimport React, { useEffect, useState } from \"react\";\nimport { ConnectedProps, connect } from \"react-redux\";\n\nimport * as actions from \"ui/actions/app\";\nimport { AvatarImage } from \"ui/components/Avatar\";\nimport { Dropdown, DropdownDivider, DropdownItem } from \"ui/components/Library/LibraryDropdown\";\nimport { useRedirectToTeam } from \"ui/components/Library/Team/utils\";\nimport PortalDropdown from \"ui/components/shared/PortalDropdown\";\nimport hooks from \"ui/hooks\";\nimport { WorkspaceUser, WorkspaceUserRole } from \"ui/types\";\n\nimport { useConfirm } from \"../Confirm\";\nimport MaterialIcon from \"../MaterialIcon\";\n\ntype WorkspaceMemberProps = {\n  member: WorkspaceUser;\n  isAdmin: boolean;\n  canLeave?: boolean;\n} & PropsFromRedux;\n\nconst memberRoleLabels: Record<WorkspaceUserRole, string> = {\n  admin: \"Admin\",\n  debugger: \"Developer\",\n  viewer: \"User\",\n};\n\nfunction getMemberRole(member: WorkspaceUser) {\n  return member.roles?.includes(\"debugger\") ? \"debugger\" : \"viewer\";\n}\n\nfunction getIsAdmin(member: WorkspaceUser) {\n  return member.roles?.includes(\"admin\") || false;\n}\n\nfunction WorkspaceMemberRoleOption({\n  value,\n  selected,\n  onSelect,\n}: {\n  value: WorkspaceUserRole;\n  selected: boolean;\n  onSelect: (value: WorkspaceUserRole) => void;\n}) {\n  return (\n    <label\n      className={classnames(\"permissions-dropdown-item block\", {\n        \"font-bold\": selected,\n      })}\n    >\n      <input\n        type={value == \"admin\" ? \"checkbox\" : \"radio\"}\n        name=\"workspaceUserRole\"\n        className=\"appearance-none checked:bg-blue-500 indeterminate:bg-gray-300\"\n        value={value}\n        checked={selected}\n        onChange={e => onSelect(value)}\n      />\n      <span className=\"pl-2\">{memberRoleLabels[value]}</span>\n    </label>\n  );\n}\n\nfunction WorkspaceMemberRoles({\n  isAdmin,\n  member,\n  onClick,\n}: {\n  isAdmin: boolean;\n  member: WorkspaceUser;\n  onClick: () => void;\n}) {\n  const role: WorkspaceUserRole = getMemberRole(member);\n  const memberIsAdmin = getIsAdmin(member);\n  const { updateWorkspaceMemberRole } = hooks.useUpdateWorkspaceMemberRole();\n  const [selectedRole, setSelectedRole] = useState<WorkspaceUserRole>(role);\n\n  useEffect(() => setSelectedRole(role), [role]);\n\n  const selectRole = (updated: WorkspaceUserRole) => {\n    onClick();\n    let roles: WorkspaceUserRole[];\n\n    if (updated !== \"admin\") {\n      roles = [updated];\n      if (memberIsAdmin) {\n        roles.push(\"admin\");\n      }\n    } else {\n      roles = [role];\n      if (!memberIsAdmin) {\n        roles.push(\"admin\");\n      }\n    }\n\n    setSelectedRole(updated);\n\n    updateWorkspaceMemberRole({\n      variables: {\n        id: member.membershipId,\n        roles,\n      },\n    }).catch(e => {\n      console.error(e);\n      setSelectedRole(selectedRole);\n    });\n  };\n\n  return (\n    <div>\n      <WorkspaceMemberRoleOption value=\"viewer\" onSelect={selectRole} selected={role == \"viewer\"} />\n      <WorkspaceMemberRoleOption\n        value=\"debugger\"\n        onSelect={selectRole}\n        selected={role == \"debugger\"}\n      />\n      {isAdmin ? (\n        <WorkspaceMemberRoleOption value=\"admin\" onSelect={selectRole} selected={memberIsAdmin} />\n      ) : null}\n    </div>\n  );\n}\n\nfunction Status({\n  member,\n  hideArrow = false,\n  title,\n}: {\n  member: WorkspaceUser;\n  hideArrow?: boolean;\n  title?: string;\n}) {\n  return (\n    <div\n      className={classnames(\"flex flex-row items-center\", { italic: member.pending })}\n      title={title}\n    >\n      <span className=\"whitespace-pre\">\n        {memberRoleLabels[getMemberRole(member)]}\n        {member.pending ? \" (pending)\" : \"\"}\n      </span>\n      <MaterialIcon\n        className={classnames(\"material-icons opacity-0\", {\n          \"group-hover:opacity-100\": !hideArrow,\n        })}\n        iconSize=\"xl\"\n      >\n        expand_more\n      </MaterialIcon>\n    </div>\n  );\n}\n\nexport function NonRegisteredWorkspaceMember({\n  member,\n  isAdmin,\n}: {\n  member: WorkspaceUser;\n  isAdmin: boolean;\n}) {\n  const deleteUserFromWorkspace = hooks.useDeleteUserFromWorkspace();\n  const [expanded, setExpanded] = useState(false);\n  const { confirmDestructive } = useConfirm();\n\n  const handleDelete = () => {\n    setExpanded(false);\n    confirmDestructive({\n      message: \"Remove team member?\",\n      description: `Are you sure you want to remove ${member.email} from this team?`,\n      acceptLabel: \"Remove them\",\n    }).then(confirmed => {\n      if (confirmed) {\n        deleteUserFromWorkspace({ variables: { membershipId: member.membershipId } });\n      }\n    });\n  };\n\n  return (\n    <li className=\"flex flex-row items-center space-x-1.5\">\n      <div className=\"grid items-center justify-center\" style={{ width: \"28px\", height: \"28px\" }}>\n        <MaterialIcon iconSize=\"xl\">mail_outline</MaterialIcon>\n      </div>\n      <div className=\"flex-grow overflow-hidden overflow-ellipsis whitespace-pre\">\n        {member.email}\n      </div>\n      <PortalDropdown\n        buttonContent={<Status member={member} />}\n        setExpanded={setExpanded}\n        expanded={expanded}\n        buttonStyle=\"group\"\n        position=\"bottom-right\"\n      >\n        <Dropdown>\n          <WorkspaceMemberRoles\n            member={member}\n            isAdmin={isAdmin}\n            onClick={() => setExpanded(false)}\n          />\n          <DropdownDivider />\n          <DropdownItem onClick={handleDelete}>Remove</DropdownItem>\n        </Dropdown>\n      </PortalDropdown>\n    </li>\n  );\n}\n\nfunction Role({\n  canLeave,\n  member,\n  hideModal,\n  isAdmin,\n}: {\n  member: WorkspaceUser;\n  hideModal: any;\n  isAdmin: boolean;\n  canLeave: boolean;\n}) {\n  const redirectToTeam = useRedirectToTeam(true);\n  const [expanded, setExpanded] = useState(false);\n  const deleteUserFromWorkspace = hooks.useDeleteUserFromWorkspace();\n  const updateDefaultWorkspace = hooks.useUpdateDefaultWorkspace();\n  const { userId: localUserId } = hooks.useGetUserId();\n  const { userId, membershipId } = member;\n\n  const handleDelete = () => {\n    setExpanded(false);\n\n    const leaveMsg = `Are you sure you want to leave this team?`;\n    const kickMsg = `Are you sure you want to remove ${member.user!.name} from this team?`;\n    const isPersonal = localUserId == userId;\n    const message = isPersonal ? leaveMsg : kickMsg;\n\n    if (window.confirm(message)) {\n      deleteUserFromWorkspace({ variables: { membershipId } });\n\n      // If the user is the member leaving, hide the modal and go back\n      // to the personal workspace.\n      if (isPersonal) {\n        hideModal();\n        updateDefaultWorkspace({ variables: { workspaceId: null } });\n        redirectToTeam(\"me\");\n      }\n    }\n  };\n\n  if (!canLeave) {\n    return (\n      <Status\n        member={member}\n        hideArrow\n        title=\"Promote another team member to admin in order to leave this team\"\n      />\n    );\n  }\n\n  return (\n    <PortalDropdown\n      buttonContent={<Status member={member} />}\n      setExpanded={setExpanded}\n      expanded={expanded}\n      buttonStyle=\"group\"\n      position=\"bottom-right\"\n    >\n      <Dropdown>\n        {localUserId !== userId ? (\n          <>\n            <WorkspaceMemberRoles\n              member={member}\n              isAdmin={isAdmin}\n              onClick={() => setExpanded(false)}\n            />\n            <DropdownDivider />\n          </>\n        ) : null}\n        <DropdownItem onClick={handleDelete}>\n          {member.pending ? \"Cancel\" : localUserId == userId ? \"Leave\" : \"Remove\"}\n        </DropdownItem>\n      </Dropdown>\n    </PortalDropdown>\n  );\n}\n\nfunction WorkspaceMember({ member, hideModal, isAdmin, canLeave = false }: WorkspaceMemberProps) {\n  return (\n    <li className=\"flex flex-row items-center space-x-1.5\">\n      <AvatarImage\n        src={member.user!.picture}\n        className=\"avatar rounded-full\"\n        style={{ width: \"28px\", height: \"28px\" }}\n      />\n      <div className=\"flex-grow overflow-hidden overflow-ellipsis whitespace-pre\" data-private>\n        {member.user!.name}\n      </div>\n      <Role member={member} hideModal={hideModal} isAdmin={isAdmin} canLeave={canLeave} />\n    </li>\n  );\n}\n\nconst connector = connect(() => ({}), {\n  hideModal: actions.hideModal,\n});\nexport type PropsFromRedux = ConnectedProps<typeof connector>;\n\nexport default connector(WorkspaceMember);\n","import { Elements } from \"@stripe/react-stripe-js\";\nimport classNames from \"classnames\";\nimport React from \"react\";\n\nexport function FieldRow({ children, className, ...rest }: React.HTMLProps<HTMLDivElement>) {\n  return (\n    <div\n      className={classNames(\n        className,\n        \"grid grid-cols-3 items-center gap-4 border-t border-themeBase-90 pt-5\"\n      )}\n    >\n      {children}\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport { FieldRow } from \"./FieldRow\";\n\nexport interface FieldProps {\n  label: string;\n  id: string;\n  className?: string;\n}\nexport function Field({\n  children,\n  className,\n  id,\n  label,\n}: FieldProps & { children: React.ReactNode }) {\n  return (\n    <FieldRow className={className}>\n      <label htmlFor={id} className=\"mt-px block pt-2 text-sm font-medium text-bodyColor\">\n        {label}\n      </label>\n      <div className=\"col-span-2 mt-1 mt-0\">{children}</div>\n    </FieldRow>\n  );\n}\n","import React from \"react\";\n\nimport { Field, FieldProps } from \"./Field\";\n\nexport function SelectField({\n  children,\n  className,\n  id,\n  label,\n  ...rest\n}: FieldProps & React.HTMLProps<HTMLSelectElement>) {\n  return (\n    <Field id={id} className={className} label={label}>\n      <select\n        {...rest}\n        className=\"mt-1 block w-full rounded-md border-themeBorder bg-themeTextFieldBgcolor py-2 pl-3 pr-10 text-base focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\"\n      >\n        {children}\n      </select>\n    </Field>\n  );\n}\n","import React from \"react\";\n\nimport { SelectField } from \"./SelectField\";\n\nexport function CountrySelect() {\n  return (\n    <SelectField id=\"country\" required label=\"Country\" autoComplete=\"country\">\n      <option value=\"\" disabled selected>\n        Choose your country\n      </option>\n      <option value=\"AF\">Afghanistan</option>\n      <option value=\"AX\">land</option>\n      <option value=\"AL\">Albania</option>\n      <option value=\"DZ\">Algeria</option>\n      <option value=\"AS\">American Samoa</option>\n      <option value=\"AD\">Andorra</option>\n      <option value=\"AO\">Angola</option>\n      <option value=\"AI\">Anguilla</option>\n      <option value=\"AQ\">Antarctica</option>\n      <option value=\"AG\">Antigua and Barbuda</option>\n      <option value=\"AR\">Argentina</option>\n      <option value=\"AM\">Armenia</option>\n      <option value=\"AW\">Aruba</option>\n      <option value=\"AU\">Australia</option>\n      <option value=\"AT\">Austria</option>\n      <option value=\"AZ\">Azerbaijan</option>\n      <option value=\"BS\">Bahamas</option>\n      <option value=\"BH\">Bahrain</option>\n      <option value=\"BD\">Bangladesh</option>\n      <option value=\"BB\">Barbados</option>\n      <option value=\"BY\">Belarus</option>\n      <option value=\"BE\">Belgium</option>\n      <option value=\"BZ\">Belize</option>\n      <option value=\"BJ\">Benin</option>\n      <option value=\"BM\">Bermuda</option>\n      <option value=\"BT\">Bhutan</option>\n      <option value=\"BO\">Bolivia</option>\n      <option value=\"BQ\">Bonaire, Sint Eustatius and Saba</option>\n      <option value=\"BA\">Bosnia and Herzegovina</option>\n      <option value=\"BW\">Botswana</option>\n      <option value=\"BV\">Bouvet Island</option>\n      <option value=\"BR\">Brazil</option>\n      <option value=\"IO\">British Indian Ocean Territory</option>\n      <option value=\"BN\">Brunei Darussalam</option>\n      <option value=\"BG\">Bulgaria</option>\n      <option value=\"BF\">Burkina Faso</option>\n      <option value=\"BI\">Burundi</option>\n      <option value=\"KH\">Cambodia</option>\n      <option value=\"CM\">Cameroon</option>\n      <option value=\"CA\">Canada</option>\n      <option value=\"CV\">Cape Verde</option>\n      <option value=\"KY\">Cayman Islands</option>\n      <option value=\"CF\">Central African Republic</option>\n      <option value=\"TD\">Chad</option>\n      <option value=\"CL\">Chile</option>\n      <option value=\"CN\">China</option>\n      <option value=\"CX\">Christmas Island</option>\n      <option value=\"CC\">Cocos (Keeling) Islands</option>\n      <option value=\"CO\">Colombia</option>\n      <option value=\"KM\">Comoros</option>\n      <option value=\"CG\">Congo (Brazzaville)</option>\n      <option value=\"CD\">Congo (Kinshasa)</option>\n      <option value=\"CK\">Cook Islands</option>\n      <option value=\"CR\">Costa Rica</option>\n      <option value=\"CI\">Cte d'Ivoire</option>\n      <option value=\"HR\">Croatia</option>\n      <option value=\"CW\">Curaao</option>\n      <option value=\"CY\">Cyprus</option>\n      <option value=\"CZ\">Czech Republic</option>\n      <option value=\"DK\">Denmark</option>\n      <option value=\"DJ\">Djibouti</option>\n      <option value=\"DM\">Dominica</option>\n      <option value=\"DO\">Dominican Republic</option>\n      <option value=\"EC\">Ecuador</option>\n      <option value=\"EG\">Egypt</option>\n      <option value=\"SV\">El Salvador</option>\n      <option value=\"GQ\">Equatorial Guinea</option>\n      <option value=\"ER\">Eritrea</option>\n      <option value=\"EE\">Estonia</option>\n      <option value=\"ET\">Ethiopia</option>\n      <option value=\"FK\">Falkland Islands</option>\n      <option value=\"FO\">Faroe Islands</option>\n      <option value=\"FJ\">Fiji</option>\n      <option value=\"FI\">Finland</option>\n      <option value=\"FR\">France</option>\n      <option value=\"GF\">French Guiana</option>\n      <option value=\"PF\">French Polynesia</option>\n      <option value=\"TF\">French Southern Lands</option>\n      <option value=\"GA\">Gabon</option>\n      <option value=\"GM\">Gambia</option>\n      <option value=\"GE\">Georgia</option>\n      <option value=\"DE\">Germany</option>\n      <option value=\"GH\">Ghana</option>\n      <option value=\"GI\">Gibraltar</option>\n      <option value=\"GR\">Greece</option>\n      <option value=\"GL\">Greenland</option>\n      <option value=\"GD\">Grenada</option>\n      <option value=\"GP\">Guadeloupe</option>\n      <option value=\"GU\">Guam</option>\n      <option value=\"GT\">Guatemala</option>\n      <option value=\"GG\">Guernsey</option>\n      <option value=\"GN\">Guinea</option>\n      <option value=\"GW\">Guinea-Bissau</option>\n      <option value=\"GY\">Guyana</option>\n      <option value=\"HT\">Haiti</option>\n      <option value=\"HM\">Heard and McDonald Islands</option>\n      <option value=\"HN\">Honduras</option>\n      <option value=\"HK\">Hong Kong</option>\n      <option value=\"HU\">Hungary</option>\n      <option value=\"IS\">Iceland</option>\n      <option value=\"IN\">India</option>\n      <option value=\"ID\">Indonesia</option>\n      <option value=\"IR\">Iran</option>\n      <option value=\"IQ\">Iraq</option>\n      <option value=\"IE\">Ireland</option>\n      <option value=\"IM\">Isle of Man</option>\n      <option value=\"IL\">Israel</option>\n      <option value=\"IT\">Italy</option>\n      <option value=\"JM\">Jamaica</option>\n      <option value=\"JP\">Japan</option>\n      <option value=\"JE\">Jersey</option>\n      <option value=\"JO\">Jordan</option>\n      <option value=\"KZ\">Kazakhstan</option>\n      <option value=\"KE\">Kenya</option>\n      <option value=\"KI\">Kiribati</option>\n      <option value=\"KR\">Korea, South</option>\n      <option value=\"KW\">Kuwait</option>\n      <option value=\"KG\">Kyrgyzstan</option>\n      <option value=\"LA\">Laos</option>\n      <option value=\"LV\">Latvia</option>\n      <option value=\"LB\">Lebanon</option>\n      <option value=\"LS\">Lesotho</option>\n      <option value=\"LR\">Liberia</option>\n      <option value=\"LY\">Libya</option>\n      <option value=\"LI\">Liechtenstein</option>\n      <option value=\"LT\">Lithuania</option>\n      <option value=\"LU\">Luxembourg</option>\n      <option value=\"MO\">Macau</option>\n      <option value=\"MK\">Macedonia</option>\n      <option value=\"MG\">Madagascar</option>\n      <option value=\"MW\">Malawi</option>\n      <option value=\"MY\">Malaysia</option>\n      <option value=\"MV\">Maldives</option>\n      <option value=\"ML\">Mali</option>\n      <option value=\"MT\">Malta</option>\n      <option value=\"MH\">Marshall Islands</option>\n      <option value=\"MQ\">Martinique</option>\n      <option value=\"MR\">Mauritania</option>\n      <option value=\"MU\">Mauritius</option>\n      <option value=\"YT\">Mayotte</option>\n      <option value=\"MX\">Mexico</option>\n      <option value=\"FM\">Micronesia</option>\n      <option value=\"MD\">Moldova</option>\n      <option value=\"MC\">Monaco</option>\n      <option value=\"MN\">Mongolia</option>\n      <option value=\"ME\">Montenegro</option>\n      <option value=\"MS\">Montserrat</option>\n      <option value=\"MA\">Morocco</option>\n      <option value=\"MZ\">Mozambique</option>\n      <option value=\"MM\">Myanmar</option>\n      <option value=\"NA\">Namibia</option>\n      <option value=\"NR\">Nauru</option>\n      <option value=\"NP\">Nepal</option>\n      <option value=\"NL\">Netherlands</option>\n      <option value=\"NC\">New Caledonia</option>\n      <option value=\"NZ\">New Zealand</option>\n      <option value=\"NI\">Nicaragua</option>\n      <option value=\"NE\">Niger</option>\n      <option value=\"NG\">Nigeria</option>\n      <option value=\"NU\">Niue</option>\n      <option value=\"NF\">Norfolk Island</option>\n      <option value=\"MP\">Northern Mariana Islands</option>\n      <option value=\"NO\">Norway</option>\n      <option value=\"OM\">Oman</option>\n      <option value=\"PK\">Pakistan</option>\n      <option value=\"PW\">Palau</option>\n      <option value=\"PS\">Palestine</option>\n      <option value=\"PA\">Panama</option>\n      <option value=\"PG\">Papua New Guinea</option>\n      <option value=\"PY\">Paraguay</option>\n      <option value=\"PE\">Peru</option>\n      <option value=\"PH\">Philippines</option>\n      <option value=\"PN\">Pitcairn</option>\n      <option value=\"PL\">Poland</option>\n      <option value=\"PT\">Portugal</option>\n      <option value=\"PR\">Puerto Rico</option>\n      <option value=\"QA\">Qatar</option>\n      <option value=\"RE\">Reunion</option>\n      <option value=\"RO\">Romania</option>\n      <option value=\"RU\">Russian Federation</option>\n      <option value=\"RW\">Rwanda</option>\n      <option value=\"BL\">Saint Barthlemy</option>\n      <option value=\"SH\">Saint Helena</option>\n      <option value=\"KN\">Saint Kitts and Nevis</option>\n      <option value=\"LC\">Saint Lucia</option>\n      <option value=\"MF\">Saint Martin (French part)</option>\n      <option value=\"PM\">Saint Pierre and Miquelon</option>\n      <option value=\"VC\">Saint Vincent and the Grenadines</option>\n      <option value=\"WS\">Samoa</option>\n      <option value=\"SM\">San Marino</option>\n      <option value=\"ST\">Sao Tome and Principe</option>\n      <option value=\"SA\">Saudi Arabia</option>\n      <option value=\"SN\">Senegal</option>\n      <option value=\"RS\">Serbia</option>\n      <option value=\"SC\">Seychelles</option>\n      <option value=\"SL\">Sierra Leone</option>\n      <option value=\"SG\">Singapore</option>\n      <option value=\"SX\">Sint Maarten (Dutch part)</option>\n      <option value=\"SK\">Slovakia</option>\n      <option value=\"SI\">Slovenia</option>\n      <option value=\"SB\">Solomon Islands</option>\n      <option value=\"SO\">Somalia</option>\n      <option value=\"ZA\">South Africa</option>\n      <option value=\"GS\">South Georgia and South Sandwich Islands</option>\n      <option value=\"SS\">South Sudan</option>\n      <option value=\"ES\">Spain</option>\n      <option value=\"LK\">Sri Lanka</option>\n      <option value=\"SD\">Sudan</option>\n      <option value=\"SR\">Suriname</option>\n      <option value=\"SJ\">Svalbard and Jan Mayen Islands</option>\n      <option value=\"SZ\">Swaziland</option>\n      <option value=\"SE\">Sweden</option>\n      <option value=\"CH\">Switzerland</option>\n      <option value=\"TW\">Taiwan</option>\n      <option value=\"TJ\">Tajikistan</option>\n      <option value=\"TZ\">Tanzania</option>\n      <option value=\"TH\">Thailand</option>\n      <option value=\"TL\">Timor-Leste</option>\n      <option value=\"TG\">Togo</option>\n      <option value=\"TK\">Tokelau</option>\n      <option value=\"TO\">Tonga</option>\n      <option value=\"TT\">Trinidad and Tobago</option>\n      <option value=\"TN\">Tunisia</option>\n      <option value=\"TR\">Turkey</option>\n      <option value=\"TM\">Turkmenistan</option>\n      <option value=\"TC\">Turks and Caicos Islands</option>\n      <option value=\"TV\">Tuvalu</option>\n      <option value=\"UG\">Uganda</option>\n      <option value=\"UA\">Ukraine</option>\n      <option value=\"AE\">United Arab Emirates</option>\n      <option value=\"GB\">United Kingdom</option>\n      <option value=\"UM\">United States Minor Outlying Islands</option>\n      <option value=\"US\">United States of America</option>\n      <option value=\"UY\">Uruguay</option>\n      <option value=\"UZ\">Uzbekistan</option>\n      <option value=\"VU\">Vanuatu</option>\n      <option value=\"VA\">Vatican City</option>\n      <option value=\"VE\">Venezuela</option>\n      <option value=\"VN\">Vietnam</option>\n      <option value=\"VG\">Virgin Islands, British</option>\n      <option value=\"VI\">Virgin Islands, U.S.</option>\n      <option value=\"WF\">Wallis and Futuna Islands</option>\n      <option value=\"EH\">Western Sahara</option>\n      <option value=\"YE\">Yemen</option>\n      <option value=\"ZM\">Zambia</option>\n      <option value=\"ZW\">Zimbabwe</option>\n    </SelectField>\n  );\n}\n","import React from \"react\";\n\nimport { Field, FieldProps } from \"./Field\";\n\nexport function InputField({\n  className,\n  id,\n  label,\n  ...rest\n}: FieldProps & React.HTMLProps<HTMLInputElement>) {\n  return (\n    <Field id={id} className={className} label={label}>\n      <div className=\"flex max-w-lg rounded-md shadow-sm\">\n        <input\n          type=\"text\"\n          {...rest}\n          name={id}\n          id={id}\n          className=\"block w-full min-w-0 flex-1 rounded-md border-themeBorder bg-themeTextFieldBgcolor text-sm text-themeTextFieldColor focus:border-indigo-500 focus:ring-indigo-500\"\n        />\n      </div>\n    </Field>\n  );\n}\n","import { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\nimport { PaymentMethod } from \"@stripe/stripe-js\";\nimport React, { useEffect, useState } from \"react\";\n\nimport hooks from \"ui/hooks\";\n\nimport { Button } from \"../Button\";\nimport { CountrySelect } from \"./CountrySelect\";\nimport { FieldRow } from \"./FieldRow\";\nimport { InputField } from \"./InputField\";\n\nexport const getValue = (form: HTMLFormElement, field: string) => {\n  const input = form.elements.namedItem(field);\n  if (input instanceof HTMLInputElement) {\n    return input.value;\n  }\n};\n\nfunction hasStripeState(state: string) {\n  const el = document.querySelector(\"#stripe-card-element\");\n  return el ? el.classList.contains(`StripeElement--${state}`) : false;\n}\n\nexport function EnterPaymentMethod({\n  onCancel,\n  onSave,\n  workspaceId,\n  stripePromise,\n}: {\n  onCancel: () => void;\n  onSave: (billingDetails: { paymentMethodBillingId: PaymentMethod | string | null }) => void;\n  workspaceId: string;\n  stripePromise: Promise<any>;\n}) {\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string>();\n  const [stripeError, setStripeError] = useState<string>();\n  const stripe = useStripe();\n  const elements = useElements();\n  const { prepareWorkspacePaymentMethod, loading } = hooks.usePrepareWorkspacePaymentMethod();\n\n  useEffect(() => {\n    stripePromise.catch(() => setError(\"Unable to add a payment method at this time.\"));\n  }, [stripePromise]);\n\n  useEffect(() => {\n    const cardElement = elements?.getElement(CardElement);\n\n    function updateStripeError() {\n      if (hasStripeState(\"complete\")) {\n        setStripeError(\"\");\n      } else if (hasStripeState(\"invalid\")) {\n        setStripeError(\"Payment method is invalid\");\n      }\n    }\n\n    cardElement?.on(\"blur\", updateStripeError);\n\n    return () => {\n      cardElement?.off(\"blur\", updateStripeError);\n    };\n  }, [elements, setStripeError]);\n\n  const handleSubmit = async (ev: React.FormEvent<HTMLFormElement>) => {\n    ev.preventDefault();\n\n    if (!stripe || !elements || loading || saving) {\n      return;\n    }\n\n    const cardElement = elements.getElement(CardElement);\n    const form = ev.currentTarget;\n    const billing_details = {\n      name: getValue(form, \"fullName\"),\n      address: {\n        city: getValue(form, \"city\"),\n        country: getValue(form, \"country\"),\n        line1: getValue(form, \"line1\"),\n        line2: getValue(form, \"line2\"),\n        postal_code: getValue(form, \"postalCode\"),\n        state: getValue(form, \"state\"),\n      },\n    };\n\n    if (!cardElement) {\n      console.error(\"Unable to find card element\");\n      return;\n    }\n\n    if (!hasStripeState(\"complete\")) {\n      setStripeError(\"Payment method is invalid\");\n      cardElement.focus();\n      return;\n    }\n\n    try {\n      const resp = await prepareWorkspacePaymentMethod({\n        variables: {\n          workspaceId,\n        },\n      });\n\n      if (!resp.data?.prepareWorkspacePaymentMethod.paymentSecret) {\n        throw new Error(\"Failed to create payment seret\");\n      }\n\n      setError(undefined);\n      setSaving(true);\n\n      const confirm = await stripe.confirmCardSetup(\n        resp.data.prepareWorkspacePaymentMethod.paymentSecret,\n        {\n          payment_method: {\n            card: cardElement,\n            billing_details,\n          },\n        }\n      );\n\n      if (confirm.error) {\n        throw confirm.error;\n      }\n\n      onSave({ paymentMethodBillingId: confirm.setupIntent.payment_method });\n    } catch (e) {\n      console.error(e);\n      setError(\"Failed to create payment method. Please try again later.\");\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (error) {\n    return <p className=\"text-red-500\">{error}</p>;\n  }\n\n  const bodyColor = window\n    .getComputedStyle(document.documentElement)\n    .getPropertyValue(\"--body-color\");\n\n  return (\n    <form className=\"space-y-4\" onSubmit={ev => handleSubmit(ev)}>\n      <FieldRow>\n        {stripeError ? <p className=\"col-span-3 text-red-500\">{stripeError}</p> : null}\n        <CardElement\n          className=\"col-span-3 p-1\"\n          options={{\n            hidePostalCode: true,\n            style: {\n              base: {\n                iconColor: bodyColor,\n                color: bodyColor,\n                \":-webkit-autofill\": {\n                  color: bodyColor,\n                },\n                \"::placeholder\": {\n                  color: bodyColor,\n                },\n              },\n              invalid: {\n                iconColor: \"red\",\n                color: \"red\",\n              },\n            },\n          }}\n          id=\"stripe-card-element\"\n        />\n      </FieldRow>\n      <InputField id=\"fullName\" required label=\"Cardholder Name\" autoComplete=\"name\" />\n      <InputField id=\"line1\" required label=\"Address\" autoComplete=\"street-address\" />\n      {/* <InputField id=\"line2\" label=\"Address Line 2\" /> */}\n      <InputField id=\"city\" required label=\"City\" autoComplete=\"city\" />\n      <InputField id=\"state\" required label=\"State / Province\" autoComplete=\"address-level1\" />\n      <InputField id=\"postalCode\" required label=\"Postal Code\" autoComplete=\"postal-code\" />\n      <CountrySelect />\n      <div className=\"flex flex-row items-center justify-end space-x-4 border-t border-gray-200 pt-5 pb-2\">\n        <Button\n          size=\"sm\"\n          color=\"blue\"\n          style=\"secondary\"\n          onClick={onCancel}\n          className={saving ? \"opacity-60\" : undefined}\n          type=\"button\"\n        >\n          Cancel\n        </Button>\n        <Button\n          size=\"sm\"\n          color=\"blue\"\n          style=\"primary\"\n          type=\"submit\"\n          className={saving ? \"opacity-60\" : undefined}\n        >\n          Save\n        </Button>\n      </div>\n    </form>\n  );\n}\n","import classNames from \"classnames\";\nimport React from \"react\";\n\nimport hooks from \"ui/hooks\";\nimport { Subscription } from \"ui/types\";\n\nimport { formatPaymentMethod } from \"./utils\";\n\nexport function DeleteConfirmation({\n  workspaceId,\n  subscription,\n  onDone,\n}: {\n  workspaceId: string;\n  subscription: Subscription;\n  onDone: () => void;\n}) {\n  const { deleteWorkspacePaymentMethod, loading, error } = hooks.useDeleteWorkspacePaymentMethod();\n\n  const handleDeletePaymentMethod = () =>\n    deleteWorkspacePaymentMethod({\n      variables: {\n        workspaceId,\n        paymentMethodId: subscription.paymentMethods![0].id,\n      },\n    }).then(onDone);\n\n  if (error || subscription.paymentMethods == null) {\n    return <section className=\"text-red\">Unable to remove a payment method at this time.</section>;\n  }\n\n  return (\n    <section className=\"space-y-6\">\n      <p>\n        Removing a payment method will prevent any future charges for this subscription. Add a new\n        payment method to continue your subscription beyond the current billing cycle.\n      </p>\n      <p>Are you sure you want to remove {formatPaymentMethod(subscription.paymentMethods[0])}?</p>\n      <div className=\"flex flex-row justify-center space-x-6\">\n        <button\n          className={classNames(\n            \"rounded-md border border-primaryAccent px-6 py-3 text-primaryAccent\",\n            {\n              \"opacity-60\": loading,\n            }\n          )}\n          onClick={loading ? undefined : onDone}\n        >\n          Cancel\n        </button>\n        <button\n          disabled={loading}\n          className={classNames(\"rounded-md bg-red-500 px-6 py-3 text-white\", {\n            \"opacity-60\": loading,\n          })}\n          onClick={loading ? undefined : handleDeletePaymentMethod}\n        >\n          Remove Payment Method\n        </button>\n      </div>\n    </section>\n  );\n}\n","import classNames from \"classnames\";\nimport React from \"react\";\n\nexport function Banner({\n  children,\n  icon,\n  type,\n}: {\n  children: React.ReactNode;\n  icon: React.ReactNode;\n  type: \"warning\" | \"primary\";\n}) {\n  return (\n    <div\n      className={classNames(\"flex flex-row items-center space-x-3 rounded-md p-3\", {\n        \"bg-primaryAccent text-white\": type === \"primary\",\n        \"bg-yellow-300 text-black\": type === \"warning\",\n      })}\n    >\n      {icon}\n      <span className=\"flex-grow\">{children}</span>\n    </div>\n  );\n}\n","export function formatDate(date: string, format: \"relative\" | \"long\" = \"relative\") {\n  if (\"RelativeTimeFormat\" in Intl && format === \"relative\") {\n    /* @ts-ignore */\n    const rtf = new Intl.RelativeTimeFormat(\"en\", {\n      localeMatcher: \"best fit\",\n      numeric: \"auto\",\n      style: \"long\",\n    });\n\n    const ends = Math.ceil((new Date(date).getTime() - Date.now()) / (24 * 60 * 60 * 1000));\n    return rtf.format(ends, \"day\");\n  }\n\n  return new Intl.DateTimeFormat(\"en\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  }).format(new Date(new Date(date)));\n}\n","import React from \"react\";\n\nimport { Subscription, Workspace } from \"ui/types\";\n\nimport MaterialIcon from \"../MaterialIcon\";\nimport { Banner } from \"./Banner\";\nimport { formatDate } from \"./formatDate\";\nimport { isSubscriptionCancelled } from \"./utils\";\n\nexport function BillingBanners({\n  confirmed,\n  workspace,\n  onResubscribe,\n}: {\n  confirmed?: boolean;\n  workspace: Workspace;\n  onResubscribe: () => void;\n}) {\n  const subscription = workspace.subscription;\n\n  if (confirmed) {\n    return (\n      <Banner icon={<MaterialIcon iconSize=\"xl\">check_circle_outline</MaterialIcon>} type=\"primary\">\n        Payment method added successfully, thank you!\n      </Banner>\n    );\n  }\n\n  if (subscription?.plan?.key === \"beta-v1\") {\n    return (\n      <Banner icon={<span className=\"text-3xl\"></span>} type=\"primary\">\n        Weve gifted you a team plan for being a beta tester. Thank you!\n      </Banner>\n    );\n  }\n\n  if (subscription?.status === \"trialing\") {\n    return (\n      <Banner icon={<MaterialIcon iconSize=\"xl\">access_time</MaterialIcon>} type=\"warning\">\n        Trial ends {formatDate(subscription.trialEnds!)}\n      </Banner>\n    );\n  }\n\n  if (subscription && isSubscriptionCancelled(subscription)) {\n    const past = Date.now() - new Date(subscription.effectiveUntil!).getTime() > 0;\n    return (\n      <Banner icon={<MaterialIcon iconSize=\"xl\">access_time</MaterialIcon>} type=\"warning\">\n        {past ? (\n          <div className=\"flex flex-row justify-between\">\n            <span>Subscription expired</span>\n            <button className=\"text-black underline\" onClick={onResubscribe}>\n              {workspace.hasPaymentMethod ? \"Resume Subscription\" : \"Add payment method\"}\n            </button>\n          </div>\n        ) : (\n          `Subscription ends ${formatDate(subscription.effectiveUntil!)}.`\n        )}\n      </Banner>\n    );\n  }\n\n  return null;\n}\n","import React from \"react\";\n\nimport { Subscription } from \"ui/types\";\n\nimport { formatDate } from \"./formatDate\";\nimport { isTrial } from \"./utils\";\n\nexport function ExpirationRow({ subscription }: { subscription: Subscription }) {\n  if (subscription.plan?.key.includes(\"beta\") || !subscription.effectiveUntil) {\n    return null;\n  }\n\n  let label = \"Renewal date\";\n\n  if (isTrial(subscription)) {\n    label = \"Your teams start date\";\n  } else if (subscription.status === \"canceled\") {\n    label = \"Subscription end date\";\n  }\n\n  return (\n    <div className=\"flex flex-row items-center justify-between border-b border-themeBase-85 py-2\">\n      <span>{label}</span>\n      <span>{formatDate(subscription.effectiveUntil, \"long\")}</span>\n    </div>\n  );\n}\n","import startCase from \"lodash/startCase\";\nimport React from \"react\";\n\nimport { SubscriptionWithPricing } from \"ui/types\";\n\nimport { ExpirationRow } from \"./ExpirationRow\";\nimport {\n  cycleCharge,\n  cycleDiscount,\n  cycleSubtotal,\n  formatCurrency,\n  formatPercentage,\n} from \"./utils\";\n\nexport function PlanDetails({ subscription }: { subscription: SubscriptionWithPricing }) {\n  return (\n    <>\n      <ExpirationRow subscription={subscription} />\n      <div className=\"flex flex-row items-center justify-between border-b border-themeBase-85 py-2\">\n        <span>Renewal Schedule</span>\n        <span>{startCase(subscription.billingSchedule || \"monthly\")}</span>\n      </div>\n      <div className=\"flex flex-row items-center justify-between border-b border-themeBase-85 py-2\">\n        <span>Number of seats</span>\n        <span>{subscription.seatCount}</span>\n      </div>\n      {subscription.billingSchedule && subscription.billingSchedule !== \"contract\" && (\n        <>\n          <div className=\"flex flex-row items-center justify-between border-b border-themeBase-85 py-2\">\n            <span>Cost per seat</span>\n            <span>{formatCurrency(subscription.seatPrice)}</span>\n          </div>\n          {subscription.discount ? (\n            <>\n              <div className=\"flex flex-row items-center justify-between border-b border-themeBase-85 py-2 font-bold\">\n                <span>Subtotal</span>\n                <span>{cycleSubtotal(subscription)}</span>\n              </div>\n              <div className=\"ml-3 flex flex-row items-center justify-between border-b border-themeBase-85 py-2\">\n                <span>Discount ({formatPercentage(subscription.discount)})</span>\n                <span>{cycleDiscount(subscription)}</span>\n              </div>\n            </>\n          ) : null}\n          <div className=\"flex flex-row items-center justify-between border-b border-themeBase-85 py-2 font-bold\">\n            <span>{startCase(subscription.billingSchedule)} charge</span>\n            <span>{cycleCharge(subscription)}</span>\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\n\nimport { SubscriptionWithPricing, Workspace } from \"ui/types\";\nimport { inUnpaidFreeTrial, subscriptionEndsIn } from \"ui/utils/workspace\";\n\nimport { Button } from \"../Button\";\nimport { SettingsHeader } from \"../SettingsModal/SettingsBody\";\nimport { BillingBanners } from \"./BillingBanners\";\nimport { PlanDetails } from \"./PlanDetails\";\nimport { Views, formatPaymentMethod, isSubscriptionCancelled } from \"./utils\";\n\nfunction TrialDetails({\n  workspace,\n  onSelectPricing,\n  expiresIn,\n}: {\n  workspace: Workspace;\n  onSelectPricing: () => void;\n  expiresIn: number;\n}) {\n  const expired = expiresIn <= 0;\n\n  return (\n    <>\n      <SettingsHeader>{expired ? \"Trial Expired\" : \"Trial Expiring Soon\"}</SettingsHeader>\n      <div className=\"p-4\">\n        <div\n          style={{ boxShadow: \"0px 4px 4px rgba(0, 0, 0, 0.25)\" }}\n          className=\"space-y-6 rounded bg-themeBase-95 px-6 pt-8 pb-4 text-lg text-bodyColor\"\n        >\n          {!expired && (\n            <p>\n              {workspace?.name} Free Trial will be expiring in{\" \"}\n              <span className=\"whitespace-nowrap font-bold\">\n                {expiresIn === 1 ? \"1 day\" : `${expiresIn} days`}\n              </span>\n              .\n            </p>\n          )}\n          <p>\n            Existing replays will continue to be debuggable. New replays will require an active\n            subscription. Feel free to <a href=\"mailto:support@replay.io\">email</a> us if you have\n            any questions.\n          </p>\n          <div className=\"flex justify-center\">\n            <Button\n              size=\"xl\"\n              color=\"blue\"\n              style=\"primary\"\n              type=\"submit\"\n              className=\"w-full justify-center\"\n              onClick={onSelectPricing}\n            >\n              Team Plan Pricing\n            </Button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nfunction SubscriptionDetails({\n  subscription,\n  onAddPaymentMethod,\n  onDeletePaymentMethod,\n}: {\n  subscription: SubscriptionWithPricing;\n  onAddPaymentMethod: () => void;\n  onDeletePaymentMethod: () => void;\n}) {\n  return (\n    <section>\n      <PlanDetails subscription={subscription} />\n      {isSubscriptionCancelled(subscription) ||\n      subscription.billingSchedule === \"contract\" ||\n      subscription.seatPrice === 0 ? null : (\n        <div className=\"flex flex-row items-center justify-between border-b border-themeBase-85 py-2\">\n          <span>Payment Method</span>\n          <span className=\"flex flex-col items-end\">\n            {subscription.paymentMethods && subscription.paymentMethods.length > 0 ? (\n              <button\n                className=\"text-primaryAccent hover:underline\"\n                onClick={onDeletePaymentMethod}\n              >\n                {formatPaymentMethod(subscription.paymentMethods[0])}\n              </button>\n            ) : (\n              <button className=\"text-primaryAccent hover:underline\" onClick={onAddPaymentMethod}>\n                Add Payment Method\n              </button>\n            )}\n          </span>\n        </div>\n      )}\n    </section>\n  );\n}\n\nexport function Details({\n  subscription,\n  onAddPaymentMethod,\n  onDeletePaymentMethod,\n  onResubscribe,\n  workspace,\n  confirmed,\n}: {\n  confirmed?: boolean;\n  subscription: SubscriptionWithPricing;\n  workspace: Workspace;\n  onAddPaymentMethod: () => void;\n  onDeletePaymentMethod: () => void;\n  onResubscribe: () => void;\n}) {\n  if (inUnpaidFreeTrial(workspace)) {\n    const expiresIn = subscriptionEndsIn(workspace);\n\n    return (\n      <TrialDetails\n        workspace={workspace}\n        expiresIn={expiresIn}\n        onSelectPricing={onAddPaymentMethod}\n      />\n    );\n  }\n\n  return (\n    <>\n      <SettingsHeader>{`${subscription.displayName} Plan`}</SettingsHeader>\n      <BillingBanners workspace={workspace} confirmed={confirmed} onResubscribe={onResubscribe} />\n      <SubscriptionDetails\n        subscription={subscription}\n        onAddPaymentMethod={onAddPaymentMethod}\n        onDeletePaymentMethod={onDeletePaymentMethod}\n      />\n    </>\n  );\n}\n","import React from \"react\";\n\nimport { SubscriptionWithPricing } from \"ui/types\";\n\nimport { Button } from \"../Button\";\nimport ExternalLink from \"../ExternalLink\";\nimport { PlanDetails } from \"./PlanDetails\";\n\nexport function PricingPage({\n  subscription,\n  onEnterCard,\n}: {\n  subscription: SubscriptionWithPricing;\n  onEnterCard: () => void;\n}) {\n  return (\n    <section>\n      <p className=\"mb-4\">\n        With a Replay {subscription.displayName} Plan, you can expand your debugging superpowers\n        with powerful collaboration features that make it easy to work together to fix bugs and\n        understand your software better.{\" \"}\n        <ExternalLink href=\"https://www.replay.io/pricing\" className=\"text-primaryAccent underline\">\n          Learn More\n        </ExternalLink>\n      </p>\n      <PlanDetails subscription={subscription} />\n      <Button\n        color=\"blue\"\n        size=\"xl\"\n        style=\"primary\"\n        className=\"my-6 w-full justify-center\"\n        onClick={onEnterCard}\n      >\n        Add Payment Method\n      </Button>\n      <ExternalLink href=\"https://www.replay.io/terms-of-use\" className=\"underline\">\n        Terms of service and cancellation policy\n      </ExternalLink>\n    </section>\n  );\n}\n","import { Elements } from \"@stripe/react-stripe-js\";\nimport { PaymentMethod, loadStripe } from \"@stripe/stripe-js\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { assert } from \"protocol/utils\";\nimport hooks from \"ui/hooks\";\nimport { Subscription } from \"ui/types\";\nimport { isDevelopment } from \"ui/utils/environment\";\nimport { sendTelemetryEvent } from \"ui/utils/telemetry\";\n\nimport { SettingsHeader } from \"../SettingsModal/SettingsBody\";\nimport { EnterPaymentMethod } from \"./AddPaymentMethod\";\nimport { DeleteConfirmation } from \"./DeleteConfirmation\";\nimport { Details } from \"./Details\";\nimport { PricingPage } from \"./PricingPage\";\nimport { Views, getSubscriptionWithPricing } from \"./utils\";\n\n// By default, we use the test key for local development and the live key\n// otherwise. Setting RECORD_REPLAY_STRIPE_LIVE to a truthy value will force\n// usage of the live key.\n\n// trunk-ignore-begin(gitleaks/stripe-access-token)\nexport const stripePromise = loadStripe(\n  !isDevelopment()\n    ? \"pk_live_51IxKTQEfKucJn4vkdJyNElRNGAACWDbCZN5DEts1AwxLyO0XyKlkdktz3meLLBQCp63zmuozrnsVlzwIC9yhFPSM00UXegj4R1\"\n    : \"pk_test_51IxKTQEfKucJn4vkBYgiHf8dIZPlzC96neLXfRmOKhEI0tmFwe21aRegxJLUntV8UoETbPj2XNuA3KSayIR4nWXt00Vd4mZq4Z\"\n);\n// trunk-ignore-end(gitleaks/stripe-access-token)\n\nexport default function WorkspaceSubscription({ workspaceId }: { workspaceId: string }) {\n  const [errorMessage, setErrorMessage] = useState<string>();\n  const [view, setView] = useState<Views>(\"details\");\n  const [confirmed, setConfirmed] = useState(false);\n  const [resubscribe, setResubscribe] = useState(false);\n  const { workspace, loading: wsLoading } = hooks.useGetWorkspace(workspaceId);\n  const { data, loading, error, refetch } = hooks.useGetWorkspaceSubscription(workspaceId);\n  const { activateWorkspaceSubscription } = hooks.useActivateWorkspaceSubscription();\n\n  // clear the confirmed state if changing views\n  useEffect(() => {\n    if (confirmed && view !== \"details\") {\n      setConfirmed(false);\n    }\n  }, [confirmed, view]);\n\n  useEffect(() => {\n    if (error) {\n      sendTelemetryEvent(\"DevtoolsGraphQLError\", {\n        source: \"useGetWorkspaceSubscription\",\n        workspaceId,\n        message: error,\n        environment: isDevelopment() ? \"dev\" : \"prod\",\n      });\n    }\n  });\n\n  if (loading || !data?.node || wsLoading || !workspace) {\n    return null;\n  }\n  assert(\"subscription\" in data.node, \"No subscription in GetWorkspaceSubscription response\");\n\n  const handleResubscribe = async () => {\n    try {\n      assert(\n        data.node && \"subscription\" in data.node,\n        \"No subscription in GetWorkspaceSubscription response\"\n      );\n      const subscription = data.node.subscription;\n      const planKey = subscription?.plan?.key;\n      assert(planKey, \"Workspace does not have a planKey\");\n\n      if (subscription.paymentMethods?.length) {\n        assert(subscription.paymentMethods?.[0]?.id, \"Payment method was not found\");\n        await activateWorkspaceSubscription({\n          variables: {\n            workspaceId,\n            planKey,\n            paymentMethodBillingId: subscription.paymentMethods[0].id,\n          },\n        });\n      } else {\n        setResubscribe(true);\n        setView(\"add-payment-method\");\n      }\n    } catch (e: any) {\n      sendTelemetryEvent(\"devtools-billing\", {\n        workspaceId: workspace.id,\n        errorMessage: e.message,\n      });\n\n      setErrorMessage(\n        \"We had a problem resubscribing your team. We'll be in touch with you soon with more details.\"\n      );\n    }\n  };\n\n  const handleSave = async ({\n    paymentMethodBillingId,\n  }: {\n    paymentMethodBillingId: PaymentMethod | string | null;\n  }) => {\n    try {\n      const planKey = workspace.subscription?.plan?.key;\n      assert(planKey, \"Workspace does not have a planKey\");\n\n      setView(\"details\");\n      setConfirmed(true);\n      await refetch();\n\n      if (resubscribe) {\n        await activateWorkspaceSubscription({\n          variables: {\n            workspaceId,\n            planKey,\n            paymentMethodBillingId: paymentMethodBillingId as any,\n          },\n        });\n      }\n    } catch (e: any) {\n      sendTelemetryEvent(\"devtools-billing\", {\n        workspaceId: workspace.id,\n        errorMessage: e.message,\n      });\n\n      setErrorMessage(\n        resubscribe\n          ? \"We had a problem resubscribing your team.\"\n          : \"We had a problem saving your payment method.\"\n      );\n    }\n  };\n\n  const { subscription } = data.node;\n\n  if (error || errorMessage) {\n    return (\n      <section className=\"space-y-8\">\n        <SettingsHeader>Eek!</SettingsHeader>\n        <p>\n          {errorMessage || \"Unable to load the subscription at this time.\"} We are looking into it\n          on our end and feel free to email us at{\" \"}\n          <a href=\"mailto:support@replay.io\">support@replay.io</a> if this problem persists.\n        </p>\n      </section>\n    );\n  }\n\n  if (!subscription) {\n    return (\n      <section className=\"space-y-8\">\n        <p>This team does not have an active subscription</p>\n      </section>\n    );\n  }\n\n  const subscriptionWithPricing = getSubscriptionWithPricing(subscription as Subscription);\n\n  return (\n    <section className=\"space-y-6 overflow-y-auto\" style={{ marginRight: -16, paddingRight: 16 }}>\n      {view === \"details\" && (\n        <Details\n          confirmed={confirmed}\n          onAddPaymentMethod={() => setView(\"add-payment-method\")}\n          onDeletePaymentMethod={() => setView(\"delete-payment-method\")}\n          onResubscribe={handleResubscribe}\n          subscription={subscriptionWithPricing}\n          workspace={workspace}\n        />\n      )}\n      {view === \"add-payment-method\" && (\n        <>\n          <SettingsHeader>{`${subscriptionWithPricing.displayName} Plan Pricing`}</SettingsHeader>\n          <PricingPage\n            subscription={subscriptionWithPricing}\n            onEnterCard={() => setView(\"enter-payment-method\")}\n          />\n        </>\n      )}\n      {view === \"enter-payment-method\" && (\n        <Elements stripe={stripePromise}>\n          <SettingsHeader>Add Payment Method</SettingsHeader>\n          <EnterPaymentMethod\n            onCancel={() => setView(\"details\")}\n            onSave={handleSave}\n            workspaceId={workspaceId}\n            // TODO: handle the error at this level...\n            stripePromise={stripePromise}\n          />\n        </Elements>\n      )}\n      {view === \"delete-payment-method\" && (\n        <>\n          <SettingsHeader>Remove Payment Method</SettingsHeader>\n          <DeleteConfirmation\n            subscription={subscriptionWithPricing}\n            workspaceId={workspaceId}\n            onDone={() => setView(\"details\")}\n          />\n        </>\n      )}\n    </section>\n  );\n}\n","import React, { ChangeEvent, useMemo, useState } from \"react\";\n\nimport * as actions from \"ui/actions/app\";\nimport { useRedirectToTeam } from \"ui/components/Library/Team/utils\";\nimport { useGetTeamIdFromRoute } from \"ui/components/Library/Team/utils\";\nimport hooks from \"ui/hooks\";\nimport * as selectors from \"ui/reducers/app\";\nimport { useAppDispatch, useAppSelector } from \"ui/setup/hooks\";\nimport { WorkspaceUser } from \"ui/types\";\nimport { validateEmail } from \"ui/utils/helpers\";\nimport { trackEvent } from \"ui/utils/telemetry\";\n\nimport Base64Image from \"../Base64Image\";\nimport { Button, DisabledButton, PrimaryButton } from \"../Button\";\nimport { useConfirm } from \"../Confirm\";\nimport { TextInput } from \"../Forms\";\nimport InvitationLink from \"../NewWorkspaceModal/InvitationLink\";\nimport SettingsModal from \"../SettingsModal\";\nimport { Settings } from \"../SettingsModal/types\";\nimport GeneralSettings from \"./GeneralSettings\";\nimport OrganizationSettings from \"./OrganizationSettings\";\nimport WorkspaceAPIKeys from \"./WorkspaceAPIKeys\";\nimport WorkspaceMember, { NonRegisteredWorkspaceMember } from \"./WorkspaceMember\";\nimport WorkspaceSubscription from \"./WorkspaceSubscription\";\n\nexport function WorkspaceMembers({\n  members,\n  isAdmin,\n}: {\n  members: WorkspaceUser[];\n  isAdmin: boolean;\n}) {\n  const sortedMembers = useMemo(() => {\n    return members\n      .slice()\n      .sort((a: WorkspaceUser, b: WorkspaceUser) => Number(b.pending) - Number(a.pending));\n  }, [members]);\n\n  const canLeave = members.length > 1;\n  const canAdminLeave = canLeave && members.filter(a => a.roles?.includes(\"admin\")).length > 1;\n\n  return (\n    <ul className=\"flex flex-col space-y-2.5\">\n      {sortedMembers.map(member =>\n        member.email ? (\n          <NonRegisteredWorkspaceMember\n            member={member}\n            key={`non-registered-${member.email}`}\n            isAdmin={isAdmin}\n          />\n        ) : (\n          <WorkspaceMember\n            member={member}\n            key={`registered-${member.userId}`}\n            isAdmin={isAdmin}\n            canLeave={member.roles?.includes(\"admin\") ? canAdminLeave : canLeave}\n          />\n        )\n      )}\n    </ul>\n  );\n}\n\ntype WorkspaceFormProps = {\n  members?: WorkspaceUser[];\n};\n\nfunction WorkspaceForm({ members = [] }: WorkspaceFormProps) {\n  const workspaceId = useGetTeamIdFromRoute();\n  const [inputValue, setInputValue] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const inviteNewWorkspaceMember = hooks.useInviteNewWorkspaceMember(() => {\n    setInputValue(\"\");\n    setIsLoading(false);\n  });\n\n  const memberEmails = members.filter(m => m.email).map(m => m.email!);\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value);\n  };\n  const handleAddMember = async (e: React.FormEvent | React.MouseEvent) => {\n    e.preventDefault();\n\n    if (!validateEmail(inputValue)) {\n      setErrorMessage(\"Invalid email address\");\n      return;\n    } else if (memberEmails.includes(inputValue)) {\n      setErrorMessage(\"Address has already been invited\");\n      return;\n    }\n\n    setErrorMessage(null);\n    setIsLoading(true);\n    const resp = await inviteNewWorkspaceMember({\n      variables: { workspaceId: workspaceId!, email: inputValue, roles: [\"viewer\", \"debugger\"] },\n    });\n\n    if (resp.errors) {\n      trackEvent(\"error.add_member_error\");\n      setErrorMessage(\n        \"We're unable to add a member to your team at this time. We're looking into this and will be in touch soon.\"\n      );\n    }\n  };\n\n  return (\n    <form className=\"flex flex-col\" onSubmit={handleAddMember}>\n      <div className=\"flex flex-grow flex-row space-x-3 p-0.5\">\n        <TextInput placeholder=\"Email address\" value={inputValue} onChange={onChange} />\n        {!isLoading ? (\n          <PrimaryButton color=\"blue\">Invite</PrimaryButton>\n        ) : (\n          <DisabledButton>Loading</DisabledButton>\n        )}\n      </div>\n      {errorMessage ? <div className=\"py-3 text-xs text-red-500\">{errorMessage}</div> : null}\n    </form>\n  );\n}\n\nexport type SettingsTabTitle =\n  | \"Profile\"\n  | \"Organization\"\n  | \"Team Members\"\n  | \"Billing\"\n  | \"API Keys\"\n  | \"Delete Team\";\n\nconst settings: Settings<\n  SettingsTabTitle,\n  {\n    settings?: any;\n    isAdmin: boolean;\n    workspaceId: string;\n  }\n> = [\n  {\n    component: GeneralSettings,\n    icon: \"settings\",\n    title: \"Profile\",\n  },\n  {\n    component: OrganizationSettings,\n    icon: \"business\",\n    title: \"Organization\",\n  },\n  {\n    title: \"Team Members\",\n    icon: \"group\",\n    component: function TeamMembers({ isAdmin, workspaceId }) {\n      const { members } = hooks.useGetWorkspaceMembers(workspaceId);\n\n      return (\n        <div className=\"flex flex-grow flex-col space-y-3\">\n          <div>{`Manage members here so that everyone who belongs to this team can see each other's replays.`}</div>\n          <WorkspaceForm members={members} />\n          <div className=\"text-xs font-semibold uppercase\">{`Members`}</div>\n          <div className=\"flex-grow overflow-y-auto\">\n            <div className=\"workspace-members-container flex flex-col space-y-1.5\">\n              <div className=\"flex h-0 flex-col space-y-1.5\">\n                {members ? <WorkspaceMembers members={members} isAdmin={isAdmin} /> : null}\n              </div>\n            </div>\n          </div>\n          <InvitationLink workspaceId={workspaceId} showDomainCheck={isAdmin} overlay />\n        </div>\n      );\n    },\n  },\n  {\n    title: \"Billing\",\n    icon: \"payment\",\n    component: WorkspaceSubscription,\n    noTitle: true,\n  },\n  {\n    title: \"API Keys\",\n    icon: \"vpn_key\",\n    component: WorkspaceAPIKeys,\n  },\n  {\n    title: \"Delete Team\",\n    icon: \"cancel\",\n    component: function DeleteTeam({ workspaceId }) {\n      const dispatch = useAppDispatch();\n      const redirectToTeam = useRedirectToTeam(true);\n      const updateDefaultWorkspace = hooks.useUpdateDefaultWorkspace();\n      const deleteWorkspace = hooks.useDeleteWorkspace();\n      const { confirmDestructive } = useConfirm();\n\n      const handleDeleteTeam = () => {\n        confirmDestructive({\n          message: `Unexpected bad things will happen if you don't read this!`,\n          description: `This action cannot be undone. This will permanently delete this repository and delete all of the replays, api-keys, sourcemaps and remove all team member associations`,\n          acceptLabel: \"Delete team\",\n        }).then(confirmed => {\n          if (confirmed) {\n            deleteWorkspace({\n              variables: { workspaceId: workspaceId, shouldDeleteRecordings: true },\n            });\n            dispatch(actions.hideModal());\n            updateDefaultWorkspace({ variables: { workspaceId: null } });\n            redirectToTeam(\"me\");\n          }\n        });\n      };\n\n      return (\n        <div className=\"flex flex-col space-y-3\">\n          <div className=\"text-xs font-semibold uppercase \">{`Danger Zone`}</div>\n          <div className=\"flex flex-row justify-between rounded-lg border border-red-300 p-1.5\">\n            <div className=\"flex flex-col\">\n              <div className=\"font-semibold\">Delete this team</div>\n              <div className=\"\">{`This cannot be reversed.`}</div>\n            </div>\n            <Button color=\"red\" onClick={handleDeleteTeam} size=\"md\" style=\"primary\">\n              Delete this team\n            </Button>\n          </div>\n        </div>\n      );\n    },\n  },\n];\n\nconst tabNameForView = {\n  billing: \"Billing\",\n  members: \"Team Members\",\n  api: \"API Keys\",\n} as const;\n\nexport default function WorkspaceSettingsModal() {\n  const selectedTab = useAppSelector(state => {\n    const opts = selectors.getModalOptions(state);\n    const view = opts && \"view\" in opts ? opts.view : null;\n    return view && tabNameForView[view as keyof typeof tabNameForView];\n  });\n  const workspaceId = useGetTeamIdFromRoute();\n  const { members } = hooks.useGetWorkspaceMembers(workspaceId);\n  const { workspace } = hooks.useGetWorkspace(workspaceId);\n  const { userId: localUserId } = hooks.useGetUserId();\n\n  if (!(workspaceId && workspace)) {\n    return null;\n  }\n\n  const tab =\n    selectedTab || workspace.subscription?.status === \"canceled\" ? \"Billing\" : \"Team Members\";\n  const roles = members?.find(m => m.userId === localUserId)?.roles;\n  const isAdmin = roles?.includes(\"admin\") || false;\n  const isDebugger = roles?.includes(\"debugger\") || false;\n  const hiddenTabs: SettingsTabTitle[] = [];\n\n  if (!isAdmin) {\n    hiddenTabs.push(\"Delete Team\");\n    hiddenTabs.push(\"Billing\");\n  }\n\n  if (!isDebugger && !isAdmin) {\n    hiddenTabs.push(\"API Keys\");\n  }\n\n  return (\n    <SettingsModal\n      hiddenTabs={hiddenTabs}\n      tab={tab}\n      panelProps={{ isAdmin, workspaceId }}\n      settings={settings}\n      size=\"lg\"\n      title={\n        workspace.logo ? (\n          <Base64Image src={workspace.logo} className=\"max-h-12\" />\n        ) : (\n          workspace.name || \"Team Settings\"\n        )\n      }\n    />\n  );\n}\n","import React from \"react\";\n\nimport { assert } from \"protocol/utils\";\nimport hooks from \"ui/hooks\";\nimport { ApiKey } from \"ui/types\";\n\nimport APIKeys from \"../APIKeys\";\n\nexport default function WorkspaceAPIKeys({ workspaceId }: { workspaceId: string }) {\n  const {\n    addWorkspaceApiKey,\n    loading: addLoading,\n    error: addError,\n  } = hooks.useAddWorkspaceApiKey();\n  const { deleteWorkspaceApiKey } = hooks.useDeleteWorkspaceApiKey();\n  const { data } = hooks.useGetWorkspaceApiKeys(workspaceId);\n\n  if (!data?.node) {\n    return null;\n  }\n  assert(\"apiKeys\" in data.node, \"No apiKeys in GetWorkspaceApiKeys response\");\n\n  return (\n    <APIKeys\n      apiKeys={data.node.apiKeys as ApiKey[]}\n      description=\"API Keys allow you to upload recordings programmatically from your automated tests or from your continuous integration environment or upload source maps for sites that do not publish their source maps.\"\n      loading={addLoading}\n      error={addError}\n      addKey={(label, scopes) =>\n        // @ts-ignore\n        addWorkspaceApiKey({\n          variables: { label, scopes: scopes ?? [], workspaceId },\n        }).then(resp => resp.data?.createWorkspaceAPIKey)\n      }\n      scopes={[\"admin:all\", \"write:sourcemap\"]}\n      deleteKey={id => deleteWorkspaceApiKey({ variables: { id } })}\n    />\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__E8Cex\",\"authenticated\":\"Avatar_authenticated__weGMn\",\"firstPlayer\":\"Avatar_firstPlayer__OhjBJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"libraryHeader\":\"Library_libraryHeader__Q6BUj\",\"libraryWrapper\":\"Library_libraryWrapper__r3pJD\",\"libraryRow\":\"Library_libraryRow__bJfe0\",\"libraryRowSelected\":\"Library_libraryRowSelected__90gMl\",\"teamRow\":\"Library_teamRow__YfBbJ\",\"teamRowActive\":\"Library_teamRowActive__F8V2w\",\"dropdownDivider\":\"Library_dropdownDivider__dG_PD\",\"editButton\":\"Library_editButton__1jLbJ\",\"recordingsBackground\":\"Library_recordingsBackground__tHlCM\",\"navigation\":\"Library_navigation__GBDVP\",\"workspaceName\":\"Library_workspaceName__zZEkn\",\"runOverview\":\"Library_runOverview__L_KLG\"};"],"names":["cx","classNames","css","AvatarImage","props","src","undefined","onError","e","currentTarget","AuthAvatar","user","className","picture","Avatar","player","isFirstPlayer","index","auth","useAuth0","isAuthenticated","name","title","style","background","getAvatarColor","Dropdown","children","menuItemsClassName","widthClass","fontSizeClass","as","open","static","DropdownItem","onClick","active","href","DropdownItemContent","icon","selected","filename","DropdownDivider","styles","scopeLabels","NewApiKey","keyValue","onDone","copied","setCopied","useState","useEffect","setTimeout","readOnly","value","onFocus","ev","target","setSelectionRange","length","iconSize","navigator","clipboard","writeText","then","ApiKeyList","apiKeys","onDelete","confirmDestructive","useConfirm","map","apiKey","usage","maxRecordings","recordingCount","label","message","description","acceptLabel","confirmed","id","APIKeys","error","loading","addKey","deleteKey","scopes","labelRef","useRef","setKeyValue","selectedScopes","selectScopes","setLabel","canSubmit","sortedKeys","useMemo","sort","a","b","Date","createdAt","getTime","current","focus","onSubmit","resp","preventDefault","disabled","placeholder","onChange","ref","type","scope","checked","filter","s","includes","Base64Image","rest","SIZES","custom","small","height","width","medium","large","Icon","size","sizeStyles","TextInputCopy","text","isLarge","isCenter","showCopied","setShowCopied","timeoutKey","onKeyPress","clearTimeout","InvationDomainCheck","workspace","updateWorkspaceCodeDomainLimitations","hooks","domain","workspaceLink","isDomainLimitedCode","variables","workspaceId","isLimited","htmlFor","InvitationLink","showDomainCheck","hideHeader","overlay","workspaces","find","w","inputText","invitationCode","PortalDropdown","buttonRef","dropdownNode","setDropdownNode","buttonContent","position","buttonStyle","expanded","contentPosition","buttonRect","getBoundingClientRect","docRect","document","body","dropdownRect","left","right","top","bottom","distance","doc","dropdown","overflows","push","getViewportOverflows","forEach","overflow","oppositeMap","replace","adjustPosition","getContentPosition","toolboxLayout","useAppSelector","getToolboxLayout","onMouseDown","button","stopPropagation","setExpanded","createPortal","SettingsBodyWrapper","SettingsHeader","SettingsBodyHeader","SettingsBody","panelProps","selectedSetting","noTitle","component","connect","hideModal","actions","showClose","SettingNavigationItem","setting","selectedTab","setSelectedTab","classnames","MaterialIcon","SettingNavigation","hiddenTabs","settings","maxWidth","key","tab","useDebounceState","original","callback","timeout","updateValue","updated","Label","Input","Row","updateWorkspaceSettings","updateWorkspaceLogo","img","err","onUpload","image","maxSize","setErr","setImg","input","files","arrayBuffer","byteLength","str","Uint8Array","reduce","String","fromCharCode","newImage","btoa","useImageUpload","logo","setName","isOrganization","accept","isSubscriptionCancelled","subscription","status","effectiveUntil","isTrial","paymentMethods","formatPaymentMethod","paymentMethod","cardToDisplayType","card","brand","last4","getSubscriptionWithPricing","assert","plan","billingSchedule","displayName","seatPrice","discount","trial","pricingDetailsForSubscription","calcSubtotal","planPricing","seatCount","monthsPerCycle","cycleDiscount","formatCurrency","cycleCharge","amount","Intl","NumberFormat","currency","format","extractUrlParts","RegExp","CSVInput","currentValue","setCurrentValue","v","split","trim","protocol","hostname","port","match","Boolean","help","QuestionMarkCircleIcon","setMessage","resetMessage","motd","features","updateFeature","rel","recording","public","allowList","join","blockList","library","autoJoin","Number","selectedOptions","item","memberRoleLabels","admin","debugger","viewer","getMemberRole","member","roles","WorkspaceMemberRoleOption","onSelect","WorkspaceMemberRoles","isAdmin","role","memberIsAdmin","getIsAdmin","updateWorkspaceMemberRole","selectedRole","setSelectedRole","selectRole","membershipId","catch","console","Status","hideArrow","italic","pending","NonRegisteredWorkspaceMember","deleteUserFromWorkspace","email","Role","canLeave","redirectToTeam","useRedirectToTeam","updateDefaultWorkspace","userId","localUserId","kickMsg","isPersonal","window","confirm","FieldRow","Field","SelectField","CountrySelect","required","autoComplete","InputField","getValue","form","field","elements","namedItem","HTMLInputElement","hasStripeState","state","el","querySelector","classList","contains","EnterPaymentMethod","onCancel","onSave","stripePromise","saving","setSaving","setError","stripeError","setStripeError","stripe","useStripe","useElements","prepareWorkspacePaymentMethod","cardElement","getElement","CardElement","updateStripeError","on","off","bodyColor","getComputedStyle","documentElement","getPropertyValue","async","billing_details","address","city","country","line1","line2","postal_code","data","paymentSecret","Error","confirmCardSetup","payment_method","paymentMethodBillingId","setupIntent","handleSubmit","options","hidePostalCode","base","iconColor","color","invalid","Button","DeleteConfirmation","deleteWorkspacePaymentMethod","paymentMethodId","Banner","formatDate","date","rtf","RelativeTimeFormat","localeMatcher","numeric","ends","Math","ceil","now","DateTimeFormat","year","month","day","BillingBanners","onResubscribe","trialEnds","past","hasPaymentMethod","ExpirationRow","PlanDetails","startCase","TrialDetails","onSelectPricing","expiresIn","expired","boxShadow","SubscriptionDetails","onAddPaymentMethod","onDeletePaymentMethod","Details","inUnpaidFreeTrial","subscriptionEndsIn","PricingPage","onEnterCard","ExternalLink","loadStripe","isDevelopment","WorkspaceMembers","members","sortedMembers","slice","canAdminLeave","WorkspaceForm","useGetTeamIdFromRoute","inputValue","setInputValue","errorMessage","setErrorMessage","isLoading","setIsLoading","inviteNewWorkspaceMember","memberEmails","m","validateEmail","errors","trackEvent","GeneralSettings","OrganizationSettings","view","setView","setConfirmed","resubscribe","setResubscribe","wsLoading","refetch","activateWorkspaceSubscription","sendTelemetryEvent","source","environment","node","subscriptionWithPricing","marginRight","paddingRight","planKey","Elements","addWorkspaceApiKey","addLoading","addError","deleteWorkspaceApiKey","createWorkspaceAPIKey","dispatch","useAppDispatch","deleteWorkspace","shouldDeleteRecordings","tabNameForView","billing","api","WorkspaceSettingsModal","opts","selectors","isDebugger","SettingsModal","module","exports"],"sourceRoot":""}