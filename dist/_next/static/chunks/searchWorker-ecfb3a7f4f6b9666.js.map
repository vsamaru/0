{"version":3,"file":"static/chunks/searchWorker-ecfb3a7f4f6b9666.js","mappings":"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","sources":["webpack://_N_E/./node_modules/lodash/_Symbol.js","webpack://_N_E/./node_modules/lodash/_arrayMap.js","webpack://_N_E/./node_modules/lodash/_baseGetTag.js","webpack://_N_E/./node_modules/lodash/_baseToString.js","webpack://_N_E/./node_modules/lodash/_freeGlobal.js","webpack://_N_E/./node_modules/lodash/_getRawTag.js","webpack://_N_E/./node_modules/lodash/_objectToString.js","webpack://_N_E/./node_modules/lodash/_root.js","webpack://_N_E/./node_modules/lodash/escapeRegExp.js","webpack://_N_E/./node_modules/lodash/isArray.js","webpack://_N_E/./node_modules/lodash/isObjectLike.js","webpack://_N_E/./node_modules/lodash/isSymbol.js","webpack://_N_E/./node_modules/lodash/toString.js","webpack://_N_E/./src/devtools/client/debugger/src/utils/build-query.ts","webpack://_N_E/./src/devtools/client/debugger/src/workers/search/get-matches.js","webpack://_N_E/./src/devtools/client/debugger/src/workers/search/project-search.js","webpack://_N_E/./src/devtools/client/debugger/src/workers/search/worker.js","webpack://_N_E/./src/devtools/shared/worker-utils.js"],"sourcesContent":["var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var toString = require('./toString');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n    reHasRegExpChar = RegExp(reRegExpChar.source);\n\n/**\n * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escapeRegExp('[lodash](https://lodash.com/)');\n * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n */\nfunction escapeRegExp(string) {\n  string = toString(string);\n  return (string && reHasRegExpChar.test(string))\n    ? string.replace(reRegExpChar, '\\\\$&')\n    : string;\n}\n\nmodule.exports = escapeRegExp;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at <http://mozilla.org/MPL/2.0/>. */\n\n//\nimport escapeRegExp from \"lodash/escapeRegExp\";\n\n/**\n * Ignore doing outline matches for less than 3 whitespaces\n *\n * @memberof utils/source-search\n * @static\n */\nfunction ignoreWhiteSpace(str: string) {\n  return /^\\s{0,2}$/.test(str) ? \"(?!\\\\s*.*)\" : str;\n}\n\nfunction wholeMatch(query: string, wholeWord?: boolean) {\n  if (query === \"\" || !wholeWord) {\n    return query;\n  }\n\n  return `\\\\b${query}\\\\b`;\n}\n\nfunction buildFlags(caseSensitive?: boolean, isGlobal?: boolean) {\n  if (caseSensitive && isGlobal) {\n    return \"g\";\n  }\n\n  if (!caseSensitive && isGlobal) {\n    return \"gi\";\n  }\n\n  if (!caseSensitive && !isGlobal) {\n    return \"i\";\n  }\n}\n\nexport interface SearchQueryModifiers {\n  caseSensitive?: boolean;\n  regexMatch?: boolean;\n  wholeWord?: boolean;\n}\n\nexport default function buildQuery(\n  originalQuery: string,\n  modifiers: SearchQueryModifiers,\n  { isGlobal = false, ignoreSpaces = false }\n) {\n  const { caseSensitive, regexMatch, wholeWord } = modifiers;\n\n  if (originalQuery === \"\") {\n    return new RegExp(originalQuery);\n  }\n\n  let query = originalQuery;\n  if (ignoreSpaces) {\n    query = ignoreWhiteSpace(query);\n  }\n\n  if (!regexMatch) {\n    query = escapeRegExp(query);\n  }\n\n  query = wholeMatch(query, wholeWord);\n  const flags = buildFlags(caseSensitive, isGlobal);\n\n  if (flags) {\n    return new RegExp(query, flags);\n  }\n\n  return new RegExp(query);\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at <http://mozilla.org/MPL/2.0/>. */\n\n//\n\nimport buildQuery from \"../../utils/build-query\";\n\nexport default function getMatches(query, text, modifiers) {\n  if (!query || !text || !modifiers) {\n    return [];\n  }\n  const regexQuery = buildQuery(query, modifiers, {\n    isGlobal: true,\n  });\n  const matchedLocations = [];\n  const lines = text.split(\"\\n\");\n  for (let i = 0; i < lines.length; i++) {\n    let singleMatch;\n    const line = lines[i];\n    while ((singleMatch = regexQuery.exec(line)) !== null) {\n      // Flow doesn't understand the test above.\n      if (!singleMatch) {\n        throw new Error(\"no singleMatch\");\n      }\n\n      matchedLocations.push({ line: i, ch: singleMatch.index });\n\n      // When the match is an empty string the regexQuery.lastIndex will not\n      // change resulting in an infinite loop so we need to check for this and\n      // increment it manually in that case.  See issue #7023\n      if (singleMatch[0] === \"\") {\n        if (!regexQuery.unicode) {\n          console.warn(\"lastIndex++ can cause issues in unicode mode\");\n        }\n        regexQuery.lastIndex++;\n      }\n    }\n  }\n  return matchedLocations;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at <http://mozilla.org/MPL/2.0/>. */\n\n//\n\n// Maybe reuse file search's functions?\n\nimport getMatches from \"./get-matches\";\n\nexport function findSourceMatches(sourceId, content, queryText) {\n  if (queryText == \"\") {\n    return [];\n  }\n\n  const modifiers = {\n    caseSensitive: false,\n    regexMatch: false,\n    wholeWord: false,\n  };\n\n  const text = content.value;\n  const lines = text.split(\"\\n\");\n\n  return getMatches(queryText, text, modifiers).map(({ line, ch }) => {\n    const { value, matchIndex } = truncateLine(lines[line], ch);\n    return {\n      sourceId,\n      line: line + 1,\n      column: ch,\n      matchIndex,\n      match: queryText,\n      value,\n    };\n  });\n}\n\n// This is used to find start of a word, so that cropped string look nice\nconst startRegex = /([ !@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?])/g;\n// Similarly, find\nconst endRegex = new RegExp(\n  [\"([ !@#$%^&*()_+-=[]{};':\\\"\\\\|,.<>/?])\", '[^ !@#$%^&*()_+-=[]{};\\':\"\\\\|,.<>/?]*$\"/'].join(\"\")\n);\n\nfunction truncateLine(text, column) {\n  if (text.length < 100) {\n    return {\n      matchIndex: column,\n      value: text,\n    };\n  }\n\n  // Initially take 40 chars left to the match\n  const offset = Math.max(column - 40, 0);\n  // 400 characters should be enough to figure out the context of the match\n  const truncStr = text.slice(offset, column + 400);\n  let start = truncStr.search(startRegex);\n  let end = truncStr.search(endRegex);\n\n  if (start > column) {\n    // No word separator found before the match, so we take all characters\n    // before the match\n    start = -1;\n  }\n  if (end < column) {\n    end = truncStr.length;\n  }\n  const value = truncStr.slice(start + 1, end);\n\n  return {\n    matchIndex: column - start - offset - 1,\n    value,\n  };\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at <http://mozilla.org/MPL/2.0/>. */\n\n//\n\nimport { workerHandler } from \"devtools/shared/worker-utils\";\n\nimport getMatches from \"./get-matches\";\nimport { findSourceMatches } from \"./project-search\";\n\nself.onmessage = workerHandler({ getMatches, findSourceMatches });\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at <http://mozilla.org/MPL/2.0/>. */\n\n//\n\nfunction WorkerDispatcher() {\n  this.msgId = 1;\n  this.worker = null;\n}\n\nWorkerDispatcher.prototype = {\n  start(workerFactory, workerName) {\n    this.worker = workerFactory();\n    this.worker.onerror = () => {\n      console.error(`Error in ${workerName} worker`);\n    };\n  },\n\n  stop() {\n    if (!this.worker) {\n      return;\n    }\n\n    this.worker.terminate();\n    this.worker = null;\n  },\n\n  task(method, { queue = false } = {}) {\n    const calls = [];\n    const push = args => {\n      return new Promise((resolve, reject) => {\n        if (queue && calls.length === 0) {\n          Promise.resolve().then(flush);\n        }\n\n        calls.push([args, resolve, reject]);\n\n        if (!queue) {\n          flush();\n        }\n      });\n    };\n\n    const flush = () => {\n      const items = calls.slice();\n      calls.length = 0;\n\n      if (!this.worker) {\n        return;\n      }\n\n      const id = this.msgId++;\n      this.worker.postMessage({\n        id,\n        method,\n        calls: items.map(item => item[0]),\n      });\n\n      const listener = ({ data: result }) => {\n        if (result.id !== id) {\n          return;\n        }\n\n        if (!this.worker) {\n          return;\n        }\n\n        this.worker.removeEventListener(\"message\", listener);\n\n        result.results.forEach((resultData, i) => {\n          const [, resolve, reject] = items[i];\n\n          if (resultData.error) {\n            const err = new Error(resultData.message);\n            err.metadata = resultData.metadata;\n            reject(err);\n          } else {\n            resolve(resultData.response);\n          }\n        });\n      };\n\n      this.worker.addEventListener(\"message\", listener);\n    };\n\n    return (...args) => push(args);\n  },\n\n  invoke(method, ...args) {\n    return this.task(method)(...args);\n  },\n};\n\nfunction workerHandler(publicInterface) {\n  return function (msg) {\n    const { id, method, calls } = msg.data;\n\n    Promise.all(\n      calls.map(args => {\n        try {\n          const response = publicInterface[method].apply(undefined, args);\n          if (response instanceof Promise) {\n            return response.then(\n              val => ({ response: val }),\n              err => asErrorMessage(err)\n            );\n          }\n          return { response };\n        } catch (error) {\n          return asErrorMessage(error);\n        }\n      })\n    ).then(results => {\n      self.postMessage({ id, results });\n    });\n  };\n}\n\nfunction asErrorMessage(error) {\n  if (typeof error === \"object\" && error && \"message\" in error) {\n    // Error can't be sent via postMessage, so be sure to convert to\n    // string.\n    return {\n      error: true,\n      message: error.message,\n      metadata: error.metadata,\n    };\n  }\n\n  return {\n    error: true,\n    message: error == null ? error : error.toString(),\n    metadata: undefined,\n  };\n}\n\nmodule.exports = {\n  WorkerDispatcher,\n  workerHandler,\n};\n"],"names":["Symbol","module","exports","array","iteratee","index","length","result","Array","getRawTag","objectToString","symToStringTag","toStringTag","undefined","value","Object","arrayMap","isArray","isSymbol","symbolProto","prototype","symbolToString","toString","baseToString","call","freeGlobal","g","objectProto","hasOwnProperty","nativeObjectToString","isOwn","tag","unmasked","e","freeSelf","self","root","Function","reRegExpChar","reHasRegExpChar","RegExp","source","string","test","replace","baseGetTag","isObjectLike","buildQuery","originalQuery","modifiers","isGlobal","ignoreSpaces","caseSensitive","regexMatch","wholeWord","query","str","escapeRegExp","wholeMatch","flags","buildFlags","getMatches","text","regexQuery","matchedLocations","lines","split","i","singleMatch","line","exec","Error","push","ch","unicode","console","warn","lastIndex","startRegex","endRegex","join","onmessage","workerHandler","findSourceMatches","sourceId","content","queryText","map","matchIndex","column","offset","Math","max","truncStr","slice","start","search","end","truncateLine","match","WorkerDispatcher","this","msgId","worker","asErrorMessage","error","message","metadata","workerFactory","workerName","onerror","stop","terminate","task","method","queue","calls","flush","items","id","postMessage","item","listener","data","removeEventListener","results","forEach","resultData","resolve","reject","err","response","addEventListener","args","Promise","then","invoke","publicInterface","msg","all","apply","val"],"sourceRoot":""}