(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1392],{52170:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return tr}});var n=r(67294),s=r(29675),i=r(4730),o=r(11163),l=r(43586),c=r(53368),a=r(38409),d=r(19809),u=r(15243),x=r(55993),f=r(6992),p=r(23800),m=r(97138),h=r(85893);const g=["loading"];function j({userInfo:e,pendingWorkspaces:t,workspaces:r}){const i=(0,f.TL)(),o=c.Z.useDismissNag();return(0,n.useEffect)((function(){(0,p.SS)(t?.length||0,r.length)?((0,m.L9)("onboarding.team_invite"),i((0,s.setModal)("single-invite"))):(0,p.y1)(e.nags,o)?((0,m.L9)("onboarding.download_replay_prompt"),i((0,s.setModal)("download-replay"))):(0,p.cM)(e.nags)&&((0,m.L9)("onboarding.demo_replay_prompt"),i((0,s.setModal)("first-replay")))}),[]),null}function w(){const{userInfo:e,pendingWorkspaces:t,workspaces:r,loading:n}=function(){const e=c.Z.useGetUserInfo(),{loading:t}=e,r=(0,i.Z)(e,g),{pendingWorkspaces:n,loading:s}=c.Z.useGetPendingWorkspaces(),{workspaces:o,loading:l}=c.Z.useGetNonPendingWorkspaces();return t||s||l?{loading:!0}:{userInfo:r,pendingWorkspaces:n,workspaces:o,loading:!1}}();return n?null:(0,h.jsx)(j,{userInfo:e,pendingWorkspaces:t,workspaces:r})}var v=r(23731);function y(){return(0,h.jsx)("div",{className:"flex justify-center p-4",children:(0,h.jsx)(v.Z,{className:"h-4 w-4 animate-spin text-gray-500"})})}var b=r(26870);const N={name:"Your Library",isTest:!1,id:"me",databaseId:null},k=(0,n.createContext)(null);function P({children:e}){const{teamId:t}=(0,l.j0)(),{workspace:r,loading:n}=(0,b.useGetWorkspace)(t),{pendingWorkspaces:s,loading:i}=c.Z.useGetPendingWorkspaces();if(n||i||!s)return(0,h.jsx)(y,{});const o=s?.some((e=>e.id===t));return(0,h.jsx)(k.Provider,{value:{teamId:t,team:r,isPendingTeam:o},children:e})}function O({children:e}){const{teamId:t}=(0,l.j0)();return(0,h.jsx)(k.Provider,{value:{teamId:t,team:N,isPendingTeam:!1},children:e})}var C=r(89734),I=r.n(C),_=r(94184),R=r.n(_),S=r(41664),T=r.n(S),Z=r(84337),D=r(68925),$=r.n(D);function E({label:e,id:t,isTest:r,isNew:n}){const s=(0,o.useRouter)(),i=`/team/${t}`,l=`${i}/${r?"runs":"recordings"}`,c=s.asPath.includes(i),d=c&&t&&t!==N.id&&!n,u=(0,a.useUpdateDefaultWorkspace)();return(0,h.jsx)(T(),{href:l,children:(0,h.jsxs)("a",{className:R()(`${$().teamRow} group flex flex-row justify-between space-x-2 px-4 py-2 text-left transition duration-200 hover:text-white focus:outline-none`,c?`${$().teamRowActive} cursor-auto font-bold`:"cursor-pointer"),onClick:async()=>{n||(await u({variables:{workspaceId:t===N.id?N.databaseId:t}}),await(0,m.L9)("team_change",{workspaceId:t}))},children:[(0,h.jsx)("span",{className:"overflow-hidden overflow-ellipsis whitespace-pre",children:(0,h.jsxs)("div",{className:"flex",children:[(0,h.jsx)(L,{teamType:r?"tests":"team"}),e]})}),n?(0,h.jsx)("div",{className:"rounded-md bg-primaryAccent px-3 py-0.5 text-xs text-white",children:"New"}):null,d?(0,h.jsx)(W,{}):null]})})}function L({teamType:e}){return(0,h.jsx)(Z.Z,{filename:e,size:"medium",className:"mr-1 bg-gray-200"})}function W(){const e=(0,f.TL)();return(0,h.jsx)("button",{onClick:t=>{t.stopPropagation(),t.preventDefault(),e((0,s.setModal)("workspace-settings"))},className:"material-icons w-5 text-sm text-gray-200 transition duration-200",children:"settings"})}function M(){const{pendingWorkspaces:e,loading:t}=c.Z.useGetPendingWorkspaces();return!t&&e&&e.length?(0,h.jsx)(h.Fragment,{children:I()(e,"name").map((e=>(0,h.jsx)(E,{id:e.id,label:e.name,isNew:!0},e.id)))}):null}function A(){const e=(0,f.TL)();return(0,h.jsx)("a",{className:R()(`${$().teamRow} group flex flex-row justify-between space-x-2 px-4 py-2 text-left underline transition duration-200 hover:cursor-pointer focus:outline-none`),onClick:t=>{t.preventDefault(),e((0,s.setModal)("new-workspace"))},children:"Create new team"})}var G=r(53320),F=r(66220);function B(){const e=(0,f.TL)(),{name:t,picture:r}=(0,F.useGetUserInfo)();return(0,h.jsxs)("button",{className:"flex flex-row space-x-2 bg-black/20 p-4",onClick:()=>{e((0,s.setModal)("settings"))},children:[(0,h.jsx)(G.F$,{src:r,className:"avatar h-8 w-8 rounded-full hover:cursor-pointer"}),(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsx)("div",{className:"overflow-hidden overflow-ellipsis whitespace-pre text-left text-sm text-white",children:t}),(0,h.jsx)("span",{className:"text-left text-xs",children:"View settings"})]})]})}function U(){const{workspaces:e,loading:t}=c.Z.useGetNonPendingWorkspaces();return t?(0,h.jsx)(y,{}):(0,h.jsx)(h.Fragment,{children:e.map((e=>(0,h.jsx)(E,{label:e.name,id:e.id,isTest:e.isTest},e.id)))})}function J(){return(0,h.jsxs)("div",{className:`flex w-64 flex-shrink-0 flex-col ${$().navigation}`,children:[(0,h.jsx)("div",{className:"p-4",children:(0,h.jsx)("img",{className:"h-8 w-8",src:"/images/logo.svg"})}),(0,h.jsx)("div",{className:"library-sidebar flex flex-grow flex-col overflow-auto text-sm",style:{scrollbarColor:"#6B7280 #1F2937"},children:(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsx)(E,{label:N.name,id:N.id}),(0,h.jsx)(M,{}),(0,h.jsx)(U,{}),(0,h.jsx)(A,{})]})}),(0,h.jsx)(B,{})]})}function H(){const e=(0,f.TL)(),t=(0,o.useRouter)();return(0,n.useEffect)((()=>{const{query:{settings:r}}=t;r&&e((0,s.setModal)("workspace-settings",r?{view:r}:null))}),[e,t]),null}function z(){const{settings:e}=(0,o.useRouter)().query;return(0,h.jsx)(h.Fragment,{children:e?(0,h.jsx)(H,{}):null})}var q=r(2664),V=r(89289);var Y=(0,q.$j)(null,{setModal:s.setModal})((function({setModal:e}){return window.__IS_RECORD_REPLAY_RUNTIME__?null:(0,h.jsx)(V.KM,{color:"blue",onClick:()=>{(0,m.L9)("onboarding.launch_replay"),e("browser-launch")},children:(0,h.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,h.jsx)("div",{className:"material-icons",style:{fontSize:"1rem"},children:"open_in_new"}),(0,h.jsx)("div",{children:"Launch Replay"})]})})})),Q=r(30573);const K=(0,n.createContext)(null);var X=r(61753),ee=r(92182),te=r(98369);const re={"'":"'",'"':'"',"[":"]"},ne=e=>e.match(new RegExp("^(S+)"))?.[0]??"";function se(e){let t="";for(;e.length>0;){const[s]=e.match(/^(.*?:)/)||[];if(s){t+=s;const i=(e=e.substring(s.length)).substring(0,1);if(Object.keys(re).includes(i)){const s=re[i],o=(r=e.substring(1),n=s,r.match(new RegExp(`^(.*?${n})`))?.[0]);o?(t+=encodeURIComponent(`${i}${o}`),e=e.substring(o.length+1)):(t+=e.substring(1),e="")}else{const r=ne(e);console.log("nw",e,r),t+=r,e=e.substring(r.length)}}else t+=e,e=""}var r,n;return t}function ie(e){const t=decodeURIComponent((0,te.Qf)().q||""),{appliedString:r,displayedString:s,setDisplayedText:i,setAppliedText:o}=((e,t)=>{const{0:r,1:s}=(0,n.useState)(e),{0:i,1:o}=(0,n.useState)(e);return(0,n.useEffect)((()=>{s(e),o(e)}),[t]),{appliedString:r,displayedString:i,setDisplayedText:e=>{o(e)},setAppliedText:e=>{s(e),o(e),(0,te.QX)({q:se(e)})}}})(t,e);return{displayedString:s,setDisplayedText:i,setAppliedText:o,filter:r}}const oe=(0,n.createContext)(null);function le({children:e,defaultView:t}){const r=(0,l.j0)().view,s=ie(r),i=(0,o.useRouter)(),{teamId:c}=(0,n.useContext)(k);(0,n.useEffect)((()=>{r||i.push(`${i.asPath}/${t}`)}),[r,i,t]);return(0,h.jsx)(K.Provider,{value:s,children:(0,h.jsx)(oe.Provider,{value:{view:r,setView:e=>{i.push(`/team/${c}/${e}`)}},children:e})})}const ce={recordings:"Recordings",runs:"Test Runs",results:"Test Results"};function ae({collapseDropdown:e}){const t=(0,l.Hv)(),{setView:r,view:s}=(0,n.useContext)(oe),{workspace:i}=(0,b.useGetWorkspace)(t),o=t=>{e(),r(t)};return i?.isTest?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ee.YV,{}),"results"===s?(0,h.jsx)(ee.hP,{onClick:()=>o("runs"),children:"Show Test Runs"}):(0,h.jsx)(ee.hP,{onClick:()=>o("results"),children:"Show Test Results"})]}):null}function de(){const{0:e,1:t}=(0,n.useState)(!1),{view:r}=(0,n.useContext)(oe),s=ce[r],i=e=>{t(!1)},o=(0,h.jsxs)("div",{className:"flex space-x-2 rounded-md border border-textFieldBorder bg-themeTextFieldBgcolor px-2.5 py-1.5 text-sm text-themeTextFieldColor",children:[(0,h.jsx)("div",{className:"text-sm",children:s}),(0,h.jsx)("div",{className:"material-icons text-sm",children:"expand_more"})]});return(0,h.jsx)(X.Z,{buttonContent:o,setExpanded:t,expanded:e,position:"bottom-right",distance:0,children:(0,h.jsxs)(ee.Lt,{menuItemsClassName:"z-50",children:["recordings"===r?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ee.hP,{onClick:()=>i(),children:"All Replays"}),(0,h.jsx)(ee.hP,{onClick:()=>(e=>{const t=(e=>864e5*e)(e);return new Date((new Date).getTime()-t).toISOString().substr(0,10),i()})(7),children:"Last 7 days"}),(0,h.jsx)(ee.hP,{onClick:()=>i(),children:"Node replays"})]}):null,(0,h.jsx)(ae,{collapseDropdown:()=>t(!1)})]})})}function ue(){const{displayedString:e,setDisplayedText:t,setAppliedText:r}=(0,n.useContext)(K),{view:s}=(0,n.useContext)(oe),i=["recordings","results"].includes(s);return(0,h.jsxs)("div",{className:"relative flex flex-grow items-center space-x-3",children:[(0,h.jsx)(de,{}),i?(0,h.jsx)("div",{className:"flex flex-grow",children:(0,h.jsx)(Q.oi,{value:e,onChange:e=>{t(e.target.value)},placeholder:"Search",onKeyDown:e=>{"Enter"===e.key&&r(e.currentTarget.value)}})}):null]})}function xe(){return(0,h.jsxs)("div",{className:`flex h-16 flex-row items-center space-x-3 p-4 ${$().libraryHeader}`,children:[(0,h.jsx)(ue,{}),(0,h.jsx)(Y,{})]})}var fe=r(59090),pe=r(27210),me=r(11877),he=r(81217),ge=r(81260);function je({onMoveRecording:e,workspaces:t,disableLibrary:r}){const n=(0,l.Hv)(),{workspace:s,loading:i}=c.Z.useGetWorkspace(n||""),o=t.filter((e=>e.id!==n));return 0===o.length||i||s&&(!s?.subscription||(0,ge.xh)(s))?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"px-4 py-2 text-xs font-bold uppercase",children:"Move to:"}),(0,h.jsx)(ee.YV,{}),(0,h.jsxs)("div",{className:"max-h-48 overflow-y-auto",children:[null===n||r?null:(0,h.jsx)(ee.hP,{onClick:()=>e(null),children:"Your library"}),o.map((({id:t,name:r})=>(0,h.jsx)(ee.hP,{onClick:()=>e(t),children:r||""},t)))]})]})}function we({selectedIds:e,setSelectedIds:t,recordings:r}){const s=(0,l.Hv)(),{userId:i,loading:o}=c.Z.useGetUserId(),{workspaces:a,loading:d}=c.Z.useGetNonPendingWorkspaces(),{0:u,1:x}=(0,n.useState)(!1),f=(0,pe.Q_)(),p=c.Z.useUpdateRecordingWorkspace(),m=c.Z.useUpdateIsPrivate(),g=c.Z.useDeleteRecordingFromLibrary(),{confirmDestructive:j}=(0,me.N4)();if(d||o)return null;const w=n=>{e.forEach((e=>{const t=r.find((t=>t.id===e));t&&m(t.id,n)})),t([]),x(!1)};if(!e.length)return(0,h.jsxs)(V.ht,{className:"space-x-1 leading-4",children:[(0,h.jsx)(he.Z,{outlined:!0,className:"font-bold",iconSize:"sm",children:"expand_more"}),(0,h.jsx)("span",{children:`${e.length} item${e.length>1?"s":""} selected`})]});const v=R()("bg-white",(0,V.yP)("blue","secondary","md")),y=(0,h.jsxs)("span",{className:"flex flex-row items-center space-x-1 leading-4 text-primaryAccent",children:[(0,h.jsx)(he.Z,{outlined:!0,className:"font-bold",iconSize:"sm",children:"expand_more"}),(0,h.jsx)("span",{children:`${e.length} item${e.length>1?"s":""} selected`})]}),b=e.map((e=>r.find((t=>t.id===e)))).every((e=>i===e?.user?.id));return(0,h.jsx)(X.Z,{buttonContent:y,buttonStyle:v,setExpanded:x,expanded:u,distance:0,children:(0,h.jsxs)(ee.Lt,{menuItemsClassName:"z-50",children:[f?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ee.hP,{onClick:()=>w(!0),children:"Make private"}),(0,h.jsx)(ee.hP,{onClick:()=>w(!1),children:"Make public"})]}):null,(0,h.jsx)(ee.hP,{onClick:()=>{const n=r.find((t=>e[0]===t.id))?.title;j(((e,t="this replay")=>1===e?{message:"Delete replay?",description:`This action will permanently delete ${t}.`,acceptLabel:"Delete replay"}:{message:`Delete ${e} replays?`,description:`This action will permanently delete ${e} replays.`,acceptLabel:"Delete replays"})(e.length,n)).then((r=>{r&&(e.forEach((e=>g(e,s))),t([])),x(!1)}))},children:`Delete ${e.length} item${e.length>1?"s":""}`}),(0,h.jsx)(je,{workspaces:a,onMoveRecording:r=>{e.forEach((e=>p(e,s,r))),t([]),x(!1)},disableLibrary:!b})]})})}var ve=r(28984);function ye({currentWorkspaceId:e}){const{workspaces:t,loading:r}=c.Z.useGetNonPendingWorkspaces(),n=(0,f.TL)(),{members:i}=c.Z.useGetWorkspaceMembers(e),l=(0,o.useRouter)(),{userId:a}=c.Z.useGetUserId();if(r)return null;const d=t.find((t=>t.id===e));if(!d?.subscription?.trialEnds)return null;const u=i?.find((e=>e.userId===a))?.roles,x=u?.includes("admin")||!1?()=>{l.push(`/team/${e}/settings/billing`),n((0,s.setModal)("workspace-settings"))}:void 0,p=(0,ge.NU)(d);return(0,h.jsx)(ve.w,{expiresIn:p,color:"yellow",className:"cursor-pointer py-2",onClick:x})}function be({isEditing:e,setIsEditing:t,setSelectedIds:r,selectedIds:n,recordings:i,handleDoneEditing:l}){const c=(0,f.TL)(),a=(0,o.useRouter)();if(e)return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(we,{setSelectedIds:r,selectedIds:n,recordings:i}),(0,h.jsx)(V.KM,{color:"blue",onClick:l,children:"Done"})]});const d=a.asPath.includes(`/team/${N.id}`);return(0,h.jsxs)(h.Fragment,{children:[d?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)(V.kq,{className:$().editButton,color:"blue",onClick:()=>{c((0,s.setModal)("workspace-settings"))},children:"Add team member"}),0!=i.length?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(V.kq,{className:$().editButton,color:"blue",onClick:()=>t(!0),children:"Edit"})}):(0,h.jsx)(h.Fragment,{})]})}function Ne({recordings:e,selectedIds:t,setSelectedIds:r,handleDoneEditing:n,workspaceName:s,isEditing:i,setIsEditing:o}){const c=(0,l.Hv)(),a=(0,h.jsxs)(ke,{children:[(0,h.jsx)("span",{className:$().workspaceName,children:s}),(0,h.jsx)("span",{className:$().workspaceName,children:0!=e.length?(0,h.jsxs)(h.Fragment,{children:["(",e.length,")"]}):(0,h.jsx)(h.Fragment,{})})]});return(0,h.jsxs)("div",{className:`flex flex-row items-center justify-between ${$().libraryHeaderButton}`,children:[a,(0,h.jsxs)("div",{className:"flex flex-row items-center space-x-3",children:[c?(0,h.jsx)(ye,{currentWorkspaceId:c}):null,(0,h.jsx)(be,{recordings:e,selectedIds:t,setSelectedIds:r,handleDoneEditing:n,isEditing:i,setIsEditing:o})]})]})}function ke({children:e}){return(0,h.jsx)("div",{className:`flex flex-row items-center space-x-2 text-2xl font-semibold ${$().libraryHeaderText}`,children:e})}var Pe=r(11510),Oe=r(68175),Ce=r(85796),Ie=r(25875),_e=r(46662);function Re({onOptionClick:e,recording:t}){const r=(0,l.Hv)(),{confirmDestructive:n}=(0,me.N4)(),s=c.Z.useDeleteRecordingFromLibrary();return(0,h.jsx)(ee.hP,{onClick:()=>{return i=t.id,e(),void n({message:`Delete ${t.title}?`,description:"This action will permanently delete this replay. \n\nAre you sure you want to proceed?",acceptLabel:"Delete replay"}).then((e=>{e&&s(i,r)}));var i},children:"Delete"})}function Se({onOptionClick:e,recording:t}){const r=(0,f.TL)();if(!(0,pe.Q_)())return null;return(0,h.jsx)(ee.hP,{onClick:()=>(()=>{const n={recordingId:t.id,title:t.title||""};r((0,s.setModal)("rename-replay",n)),e()})(),children:"Rename"})}function Te({onOptionClick:e,recording:t}){const{0:r,1:s}=(0,n.useState)(t.private),i=(0,pe.Q_)(),o=c.Z.useUpdateIsPrivate();return i?(0,h.jsx)(ee.hP,{onClick:()=>{s(!r),o(t.id,!r),e()},children:"Make "+(r?"public":"private")}):null}function Ze({onOptionClick:e,recording:t}){const r=(0,f.TL)();return(0,h.jsx)(ee.hP,{onClick:()=>{r((0,s.setModal)("sharing",{recordingId:t.id})),e()},children:"Share"})}function De({onOptionClick:e,recording:t}){const{permissions:r}=(0,F.useGetUserPermissions)(t),{workspaces:n,loading:s}=c.Z.useGetNonPendingWorkspaces(),i=c.Z.useUpdateRecordingWorkspace(),o=(0,l.Hv)();return s?null:(0,h.jsx)(je,{workspaces:n,onMoveRecording:r=>{i(t.id,o,r),e()},disableLibrary:!r.moveToLibrary})}function $e({recording:e}){const{0:t,1:r}=(0,n.useState)(!1),{loading:s,permissions:i}=(0,F.useGetUserPermissions)(e);if(s)return null;const o=(0,h.jsx)(he.Z,{outlined:!0,className:R()(t?"opacity-100":"","h-4 w-4 text-gray-400 opacity-0 hover:text-primaryAccentHover group-hover:opacity-100"),children:"more_vert"}),l=()=>r(!1);return(0,h.jsx)(X.Z,{buttonContent:o,setExpanded:r,expanded:t,buttonStyle:"",distance:0,children:(0,h.jsxs)(ee.Lt,{children:[i.rename&&(0,h.jsx)(Se,{onOptionClick:l,recording:e}),i.delete&&(0,h.jsx)(Re,{onOptionClick:l,recording:e}),i.privacy&&(0,h.jsx)(Te,{onOptionClick:l,recording:e}),(0,h.jsx)(Ze,{onOptionClick:l,recording:e}),i.move&&(0,h.jsx)(De,{onOptionClick:l,recording:e})]})})}function Ee({result:e}){return"passed"===e?(0,h.jsx)("div",{className:"flex text-green-500",children:(0,h.jsx)(he.Z,{children:"check_circle"})}):"failed"===e?(0,h.jsx)("div",{className:"flex text-red-500",children:(0,h.jsx)(he.Z,{children:"error"})}):null}function Le(e){if("number"!==typeof e)return"";return`${Math.round(e/1e3)} sec`}function We(e){return Me(e,!0)}function Me(e,t=!1){let r=(0,Oe.Z)(new Date(e),{addSuffix:!0});t&&(r=function(e){return e.replace("about","").replace(" hours","h").replace(" hour","h").replace(" days","d").replace(" day","d").replace(" minutes","m").replace(" minute","m").replace(" seconds","s").replace(" second","s").replace("less than am","1m")}(r));return((new Date).getTime()-new Date(e).getTime())/864e5>14&&(r=(0,Pe.Z)(new Date(e),"M/d/yyyy")),r}function Ae({title:e}){return(0,h.jsx)("div",{className:`${$().replayTitle} overflow-hidden overflow-ellipsis whitespace-pre`,children:e||(0,h.jsx)("span",{className:"italic",children:"Untitled"})})}function Ge({children:e,isEditing:t,recording:r,onClick:n}){return t?(0,h.jsxs)("div",{onClick:n,children:[" ",e]}):(0,h.jsx)("a",{href:(0,Ie.Y_)(r),style:{color:"inherit",textDecoration:"inherit"},children:e})}function Fe({recordingId:e}){const{screenData:t}=c.Z.useGetRecordingPhoto(e);return(0,h.jsx)(_e.F,{children:(0,h.jsx)("div",{children:t&&(0,h.jsx)("img",{className:"h-9 w-full object-contain",src:t})})})}var Be=function({addSelectedId:e,isEditing:t,recording:r,removeSelectedId:n,selected:s}){const{permissions:i,loading:o}=(0,F.useGetUserPermissions)(r),l=t&&(i.moveToLibrary||i.move||i.delete),c=()=>{l&&(s?n(r.id):e(r.id))};return o?null:(0,h.jsx)(Ge,{recording:r,isEditing:t,onClick:c,children:(0,h.jsxs)("div",{className:`group flex cursor-pointer flex-row border-b border-chrome ${$().libraryRow}`,children:[(0,h.jsx)("div",{className:"flex w-12 flex-shrink-0 flex-row items-center overflow-hidden overflow-ellipsis whitespace-pre px-4 py-3",children:l?(0,h.jsx)("input",{type:"checkbox",onClick:e=>e.stopPropagation(),onChange:c,checked:s,className:"focus:primaryAccentHover h-4 w-4 rounded border-themeBorder text-primaryAccent"}):null}),(0,h.jsx)("div",{className:"flex-grow overflow-hidden overflow-ellipsis whitespace-pre px-1 py-3",children:(0,h.jsxs)("div",{className:"flex flex-row items-center space-x-4 overflow-hidden",children:[(0,h.jsx)("div",{className:"h-9 w-16 flex-shrink-0 overflow-hidden rounded-sm bg-chrome",children:(0,h.jsx)(Ce.ZP,{height:36,scrollContainer:"#recording-list",once:!0,children:(0,h.jsx)(Fe,{recordingId:r.id})})}),(0,h.jsxs)("div",{className:`flex flex-col space-y-0.5 overflow-hidden ${$().recordingTitle}`,children:[(0,h.jsxs)("div",{className:"flex items-center space-x-1",children:[r.metadata?.test?(0,h.jsx)(Ee,{result:r.metadata.test.result}):null,(0,h.jsx)(Ae,{title:r.title})]}),(0,h.jsxs)("div",{className:"flex flex-row space-x-4 font-light text-gray-400",children:[(0,h.jsxs)("div",{className:"flex flex-row items-center space-x-1 overflow-hidden overflow-ellipsis whitespace-pre",style:{minWidth:"5rem"},children:[(0,h.jsx)("img",{src:"/images/timer.svg",className:"w-3"}),(0,h.jsx)("span",{children:Le(r.duration)})]}),(0,h.jsxs)("div",{className:"flex flex-row items-center space-x-1 overflow-hidden overflow-ellipsis whitespace-pre",style:{minWidth:"6rem"},children:[(0,h.jsx)("img",{src:"/images/today.svg",className:"w-3"}),(0,h.jsx)("span",{children:Me(r.date)})]}),(0,h.jsx)("div",{className:"overflow-hidden overflow-ellipsis whitespace-pre font-light text-gray-400",children:(0,te._f)(r.url)}),r.metadata?.test?.file?(0,h.jsx)("div",{className:"overflow-hidden overflow-ellipsis whitespace-pre font-light text-gray-400",children:r.metadata.test.file}):null]})]})]})}),(0,h.jsx)("div",{className:"my-auto w-20 min-w-min flex-shrink-0 overflow-hidden overflow-ellipsis whitespace-nowrap px-3 py-3 text-right",children:r.private?"Private":"Public"}),(0,h.jsx)("div",{className:"my-auto w-36 min-w-0 flex-shrink-0 overflow-hidden overflow-ellipsis whitespace-nowrap px-3 py-3",children:r.user?r.user.name:"Unknown"}),(0,h.jsx)("div",{className:"flex w-12 flex-shrink-0 flex-row items-center overflow-hidden whitespace-pre px-3 py-3",children:r.comments.length?(0,h.jsx)("div",{className:"inline-block",children:(0,h.jsxs)("div",{className:"flex flex-row space-x-1",children:[(0,h.jsx)("span",{children:r.comments.length}),(0,h.jsx)("img",{src:"/images/comment-outline.svg",className:"w-3"})]})}):(0,h.jsx)("div",{className:"flex w-12 flex-shrink-0 flex-row items-center overflow-hidden overflow-ellipsis whitespace-nowrap px-3 py-3"})}),(0,h.jsx)("div",{className:"relative flex w-6 flex-shrink-0 flex-row items-center justify-center py-3 pr-4",onClick:e=>e.stopPropagation(),children:t?null:(0,h.jsx)($e,{recording:r})})]})})};function Ue(){const{filter:e,setAppliedText:t}=(0,n.useContext)(K);let r;return r=e?(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{children:["No results found.",(0,h.jsx)("span",{onClick:()=>t(""),className:"cursor-pointer pl-2 underline",children:"Show all replays?"})]})}):(0,te.sP)()?"Please open a new tab and press the blue record button to record a Replay":"\ud83d\udc4b This is where your replays will go!",(0,h.jsx)("section",{className:`flex h-3/4 flex-grow flex-col items-center justify-center space-y-1 text-lg ${$().recordingsBackground}`,children:(0,h.jsx)("div",{className:"m-24 p-6 text-bodyColor",children:r})})}function Je({recordings:e,selectedIds:t,setSelectedIds:r,isEditing:s}){const{0:i,1:o}=(0,n.useState)(!1),l=(0,n.useMemo)((()=>{const t=I()(e,(e=>-1*new Date(e.date).getTime()));return i?t:t.slice(0,100)}),[e,i]),c=e=>r([...t,e]),a=e=>r(t.filter((t=>t!==e)));return e.length?(0,h.jsxs)("div",{className:`flex flex-col space-y-0 overflow-y-auto rounded-md text-sm shadow-md ${$().recordingList}`,children:[l.map(((e,r)=>(0,h.jsx)(Be,{recording:e,selected:t.includes(e.id),addSelectedId:c,removeSelectedId:a,isEditing:s},r))),!i&&e.length>100&&(0,h.jsx)("div",{className:"flex justify-center p-4",children:(0,h.jsx)(V.kq,{className:"",color:"blue",onClick:()=>o(!i),children:"Show More"})})]}):(0,h.jsx)(Ue,{})}function He({recordings:e,workspaceName:t}){const{0:r,1:s}=(0,n.useState)([]),{0:i,1:o}=(0,n.useState)(!1);return(0,h.jsx)("div",{className:`flex flex-grow flex-col overflow-hidden p-4 ${$().libraryWrapper}`,children:(0,h.jsx)("div",{className:"flex h-full space-x-2 overflow-y-auto",children:(0,h.jsxs)("div",{className:"flex w-full flex-grow flex-col space-y-5",children:[(0,h.jsx)(Ne,{recordings:e,selectedIds:r,setSelectedIds:s,handleDoneEditing:()=>{s([]),o(!1)},workspaceName:t,isEditing:i,setIsEditing:o}),(0,h.jsx)("div",{id:"recording-list",className:"no-scrollbar flex-grow overflow-y-auto",children:(0,h.jsx)(Je,{isEditing:i,recordings:e,selectedIds:r,setSelectedIds:s})})]})})})}function ze({team:e}){const{teamId:t}=(0,n.useContext)(k),{filter:r}=(0,n.useContext)(K),{recordings:s,loading:i}=c.Z.useGetWorkspaceRecordings(t,r);return!e||i?(0,h.jsx)("div",{className:"flex flex-grow flex-col overflow-hidden p-4",children:(0,h.jsx)(y,{})}):(0,h.jsx)(He,{recordings:s,workspaceName:e?.logo?(0,h.jsx)(fe.Z,{src:e.logo,className:"max-h-12"}):e.name})}function qe({workspace:e}){const t=(0,l.t5)(!0),{0:r,1:s}=(0,n.useState)(!1),{id:i,name:o,inviterEmail:a}=e,d=c.Z.useAcceptPendingInvitation((()=>{})),u=c.Z.useRejectPendingInvitation((function(){t()})),{confirmDestructive:x}=(0,me.N4)();return(0,h.jsx)("div",{className:"absolute top-0 left-0 grid h-full w-full items-center",children:(0,h.jsxs)("div",{className:"mx-auto flex max-w-lg flex-col space-y-4 rounded-md bg-modalBgcolor px-12 py-8 shadow-lg",children:[(0,h.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,h.jsxs)("div",{className:"text-lg",children:["You were invited to ",(0,h.jsx)("strong",{children:o})]}),a?(0,h.jsxs)("div",{className:"text-xs",children:["Invited by ",(0,h.jsx)("strong",{children:a})]}):null]}),(0,h.jsx)("div",{className:"flex flex-row space-x-2 text-base",children:r?"Loading\u2026":(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(V.KM,{color:"blue",onClick:()=>{d({variables:{workspaceId:i}}),s(!0)},children:"Accept"}),(0,h.jsx)(V.kq,{color:"blue",onClick:()=>{x({message:"Are you sure you want to decline this invitation?",acceptLabel:"Decline invitation"}).then((e=>{e&&(u({variables:{workspaceId:i}}),s(!0))}))},children:"Decline"})]})})]})})}const Ve=[{date:"2021-12-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-12-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-09-12T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-09-12T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-09-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-09-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-06-12T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-06-12T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-06-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-06-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-02-12T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-02-12T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-01-12T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-01-12T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-01-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-01-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-01-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-01-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-01-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-01-01T18:37:44.077Z",user:{name:"Jaril"}},{date:"2021-01-01T18:37:44.077Z",user:{name:"Jaril"}}];function Ye({date:e,name:t}){return(0,h.jsxs)("div",{className:"group flex cursor-pointer flex-row border-b border-gray-200 transition duration-200 hover:bg-gray-50",children:[(0,h.jsx)("div",{className:"w-8 flex-shrink-0 overflow-hidden overflow-ellipsis whitespace-pre px-1 py-3"}),(0,h.jsx)("div",{className:"flex-grow overflow-hidden overflow-ellipsis whitespace-pre px-1 py-3",children:(0,h.jsxs)("div",{className:"flex flex-row items-center space-x-4 overflow-hidden",children:[(0,h.jsx)("div",{className:"h-9 w-16 flex-shrink-0 overflow-hidden rounded-sm bg-gray-100"}),(0,h.jsxs)("div",{className:"flex flex-col space-y-0.5 overflow-hidden",children:[(0,h.jsx)("div",{className:"overflow-hidden overflow-ellipsis whitespace-pre text-gray-900",children:"jQuery - TodoMVC"}),(0,h.jsxs)("div",{className:"flex flex-row space-x-4 text-gray-500",children:[(0,h.jsxs)("div",{className:"flex flex-row items-center space-x-1 overflow-hidden overflow-ellipsis whitespace-pre",style:{minWidth:"5rem"},children:[(0,h.jsx)("img",{src:"/images/timer.svg",className:"w-3"}),(0,h.jsx)("span",{children:Le(Math.floor(12e4*Math.random()))})]}),(0,h.jsxs)("div",{className:"flex flex-row items-center space-x-1 overflow-hidden overflow-ellipsis whitespace-pre",style:{minWidth:"6rem"},children:[(0,h.jsx)("img",{src:"/images/today.svg",className:"w-3"}),(0,h.jsx)("span",{children:Me(e)})]}),(0,h.jsx)("div",{className:"overflow-hidden overflow-ellipsis whitespace-pre text-gray-400",children:(0,te._f)("https://todomvc.com/examples/jquery/#/all")})]})]})]})}),(0,h.jsx)("div",{className:"my-auto w-16 flex-shrink-0 overflow-hidden overflow-ellipsis whitespace-pre px-1 py-3",children:Math.random()>.5?"Private":"Public"}),(0,h.jsx)("div",{className:"my-auto w-36 flex-shrink-0 overflow-hidden overflow-ellipsis whitespace-pre px-1 py-3",children:t}),(0,h.jsx)("div",{className:"flex w-16 flex-shrink-0 flex-row items-center overflow-hidden overflow-ellipsis whitespace-pre px-1 py-3",children:(0,h.jsx)("div",{className:"inline-block",children:(0,h.jsxs)("div",{className:"flex flex-row space-x-1",children:[(0,h.jsx)("span",{children:Math.floor(20*Math.random())}),(0,h.jsx)("img",{src:"/images/comment-outline.svg",className:"w-3"})]})})}),(0,h.jsx)("div",{className:"flex w-8 flex-shrink-0 flex-row items-center justify-center px-1 py-3"})]})}function Qe({workspace:e}){if(!e)return null;const{name:t}=e;return(0,h.jsxs)("div",{className:"-5 flex w-full flex-col space-y-5 overflow-auto px-8 py-6",children:[(0,h.jsx)("div",{className:"flex flex-row items-center justify-between",children:(0,h.jsxs)("div",{className:"flex flex-row items-center space-x-2 text-2xl font-semibold",children:[(0,h.jsx)("span",{children:t}),(0,h.jsx)("div",{className:"rounded-lg bg-blue-500 px-2 py-0.5 text-xs text-white",style:{height:"fit-content"},children:"New"})]})}),(0,h.jsxs)("div",{className:"relative overflow-hidden",children:[(0,h.jsx)("div",{className:"flex flex-col overflow-y-auto rounded-md bg-bodyBgcolor text-sm shadow-md blur-sm filter",children:Ve.map(((e,t)=>(0,h.jsx)(Ye,{date:e.date,name:e.user.name},t)))}),(0,h.jsx)(qe,{workspace:e})]})]})}function Ke(){const{teamId:e,team:t}=(0,n.useContext)(k);return e===N.id?(0,h.jsx)(Xe,{team:t}):(0,h.jsx)(et,{team:t})}function Xe({team:e}){const{filter:t}=(0,n.useContext)(K),{recordings:r,loading:s}=c.Z.useGetPersonalRecordings(t);return s||!r?(0,h.jsx)("div",{className:"flex flex-grow flex-col overflow-hidden p-4",children:(0,h.jsx)(y,{})}):(0,h.jsx)(He,{recordings:r,workspaceName:e.name})}function et({team:e}){const{teamId:t,isPendingTeam:r}=(0,n.useContext)(k),{pendingWorkspaces:s,loading:i}=c.Z.useGetPendingWorkspaces();if(i||!s)return null;if(r){const e=s.find((e=>e.id===t));return(0,h.jsx)(Qe,{workspace:e})}return(0,h.jsx)(ze,{team:e})}function tt({children:e,icon:t,maxWidth:r="none",title:n}){return(0,h.jsxs)("div",{className:"mr-4 flex items-start space-x-1 overflow-hidden text-ellipsis",title:n||e,children:[(0,h.jsx)("div",{className:"w-4",children:t?(0,h.jsx)(he.Z,{children:t}):null}),(0,h.jsx)("span",{style:{maxWidth:r},className:"block overflow-hidden text-ellipsis whitespace-pre",children:e})]})}function rt({metadata:e}){const t=e?.source?.merge?.title||e?.source?.commit.title||e?.test?.title||"",r=t.length>80?t.slice(0,80)+"...":t;return(0,h.jsx)("div",{className:"wrap flex shrink grow-0 flex-nowrap overflow-hidden text-ellipsis pr-2 font-medium",children:r})}function nt({test:e}){return(0,h.jsx)(he.Z,{iconSize:"2xl",outlined:!0,className:"passed"===e.result?"text-green-500 group-hover:text-green-400":"text-red-500 group-hover:text-red-700",children:"passed"===e.result?"play_circle_filled":"play_circle"})}function st({recording:e}){const t=e.metadata?.source?.trigger?.user,r=e.metadata?.source?.branch,n=e.metadata?.source?.merge,s=e.date;return(0,h.jsxs)("div",{className:"flex flex-row items-center text-xs font-light",children:[(0,h.jsx)(tt,{icon:"schedule",children:We(s)}),(0,h.jsx)(tt,{icon:"person",children:t}),r&&!n&&(0,h.jsx)(tt,{maxWidth:"160px",icon:"fork_right",children:r}),n&&(0,h.jsx)(tt,{maxWidth:"160px",icon:"fork_right",children:n.id})]})}function it({recording:e}){return e?.metadata?.test?(0,h.jsx)("a",{href:(0,Ie.Y_)(e),className:"group",style:{color:"inherit",textDecoration:"inherit"},rel:"noreferrer noopener",target:"_blank",children:(0,h.jsxs)("div",{className:`flex cursor-pointer flex-row items-center space-x-3 overflow-hidden rounded-sm border-b border-b-chrome px-3 py-3 ${$().libraryRow}`,children:[(0,h.jsx)(nt,{test:e.metadata.test}),(0,h.jsxs)("div",{className:"flex flex-grow flex-col space-y-2",children:[(0,h.jsx)("div",{className:"flex flex-row justify-between",children:(0,h.jsx)(rt,{metadata:e.metadata})}),(0,h.jsx)(st,{recording:e})]})]})}):null}function ot({recordings:e}){const{0:t,1:r}=(0,n.useState)(!1),s=(0,n.useMemo)((()=>{const r=I()(e,(e=>-1*new Date(e.date).getTime()));return t?r:r.slice(0,100)}),[e,t]);return e.length?(0,h.jsxs)("div",{className:`no-scrollbar mb-1 flex flex-col overflow-y-auto rounded-t-xl border-b border-chrome text-sm ${$().recordingList}`,children:[s.map(((e,t)=>(0,h.jsx)(it,{recording:e},t))),!t&&e.length>100&&(0,h.jsx)("div",{className:"flex justify-center p-4",children:(0,h.jsx)(V.kq,{className:"",color:"blue",onClick:()=>r(!t),children:"Show More"})})]}):(0,h.jsx)(Ue,{})}function lt(){return(0,h.jsx)("div",{className:"flex flex-grow flex-col space-y-2 overflow-auto p-4",children:(0,h.jsx)(ct,{})})}function ct(){const{teamId:e}=(0,n.useContext)(k),{filter:t}=(0,n.useContext)(K),{recordings:r,loading:s}=c.Z.useGetWorkspaceRecordings(e,t);return s?(0,h.jsx)("div",{className:"flex flex-grow flex-col overflow-hidden p-4",children:(0,h.jsx)(y,{})}):(0,h.jsx)(ot,{recordings:r})}var at=r(59499),dt=r(19989),ut=r(37887),xt=r(75472),ft=r.n(xt),pt=r(72896);function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){(0,at.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}dt.Ps`
  query GetTestsForWorkspace($workspaceId: ID!) {
    node(id: $workspaceId) {
      ... on Workspace {
        id
        tests {
          title
          path
          recordings {
            edges {
              node {
                uuid
                duration
                createdAt
                metadata
              }
            }
          }
        }
      }
    }
  }
`;const gt=dt.Ps`
  query GetTestsRunsForWorkspace($workspaceId: ID!) {
    node(id: $workspaceId) {
      ... on Workspace {
        id
        testRuns {
          id
          title
          branch
          commitId
          commitTitle
          mergeId
          mergeTitle
          user
          date
          stats {
            passed
            failed
          }
        }
      }
    }
  }
`,jt=(dt.Ps`
  query GetTest($workspaceId: ID!, $path: String!) {
    node(id: $workspaceId) {
      ... on Workspace {
        id
        tests(path: $path) {
          title
          path
          recordings {
            edges {
              node {
                uuid
                duration
                createdAt
                metadata
              }
            }
          }
        }
      }
    }
  }
`,dt.Ps`
  query GetTestsRun($workspaceId: ID!, $id: String!) {
    node(id: $workspaceId) {
      ... on Workspace {
        id
        testRuns(id: $id) {
          id
          title
          branch
          commitId
          commitTitle
          mergeId
          mergeTitle
          user
          date
          stats {
            passed
            failed
          }
          recordings {
            edges {
              node {
                uuid
                duration
                createdAt
                metadata
                comments {
                  user {
                    id
                  }
                }
              }
            }
          }
        }
      }
    }
  }
`);function wt(e){if(e)return e.edges.map((e=>ht(ht({},e.node),{},{id:e.node.uuid,date:e.node.createdAt})))}function vt(e){if(!e)return null;const t="recordings"in e?wt(e.recordings):[],r=ft()(t,"date","desc")[0];return ht(ht({},e),{},{recordings:t,triggerUrl:r?.metadata?.source?.trigger?.url})}const yt=(0,n.createContext)(null);function bt({children:e}){const t=(0,o.useRouter)(),{focusId:r}=(0,l.j0)(),{teamId:s}=(0,n.useContext)(k),{testRuns:i}=function(e){const{data:t,loading:r}=(0,ut.a)(gt,{variables:{workspaceId:e}});if(r||!t?.node)return{testRuns:null,loading:r};(0,pt.hu)("testRuns"in t.node,"No testRuns in GetTestsRun response");const n=t.node.testRuns?.map((e=>vt(e)));return{testRuns:ft()(n,"date","desc"),loading:r}}(s);return(0,n.useEffect)((()=>{i?.length&&!r&&t.push(`/team/${s}/runs/${i[0]?.id}`)}),[t,i,r,s]),(0,h.jsx)(yt.Provider,{value:{focusId:r,testRuns:i},children:e})}const Nt=(0,n.createContext)(null);function kt({children:e}){const{view:t}=(0,l.j0)(),{teamId:r}=(0,n.useContext)(k),{focusId:s}=(0,n.useContext)(yt),{testRun:i}=function(e,t){const{data:r,loading:n}=(0,ut.a)(jt,{variables:{id:t,workspaceId:e}});if(n||!r?.node)return{testRun:null,loading:n};(0,pt.hu)("testRuns"in r.node,"No testRuns in GetTestsRun response");const s=r.node.testRuns?.[0];return{testRun:vt(s),loading:n}}(r,s);return(0,h.jsx)(Nt.Provider,{value:{view:t,testRun:i},children:e})}function Pt({passed:e,recordingId:t}){return(0,h.jsx)(T(),{href:`/recording/${t}`,children:(0,h.jsx)("a",{className:"group flex cursor-pointer items-center justify-center p-2 transition",onClick:e=>e.stopPropagation(),children:(0,h.jsx)(he.Z,{iconSize:"2xl",outlined:!0,className:e?"text-green-500 group-hover:text-green-400":"text-red-500 group-hover:text-red-400",children:e?"play_circle_filled":"play_circle"})})})}function Ot({recording:e}){return(0,h.jsx)("div",{className:"flex flex-grow flex-row items-center space-x-2 overflow-hidden hover:cursor-pointer",children:(0,h.jsxs)("div",{className:"flex flex-grow flex-col overflow-hidden py-2",children:[e.metadata?.test?.title,(0,h.jsx)("div",{className:"text-xs text-gray-500",children:e.metadata?.test?.file})]})})}function Ct({recording:e}){const t=e?.comments?.length;return 0==t?null:(0,h.jsxs)("div",{className:"align-items-center flex flex-row space-x-1 text-gray-600",children:[(0,h.jsx)("img",{src:"/images/comment-outline.svg",className:"w-3"}),(0,h.jsx)("span",{children:t})]})}function It({recording:e}){const{teamId:t}=(0,n.useContext)(k),r=JSON.stringify(e.metadata?.test?.path||[]);return(0,h.jsx)(T(),{href:`/team/${t}/results?q=test-path:${r}`,children:(0,h.jsx)("a",{className:"max-w-min overflow-hidden overflow-ellipsis whitespace-pre p-2 text-left opacity-0 hover:bg-gray-200 hover:underline group-hover:opacity-100",children:(0,h.jsx)(he.Z,{children:"filter_alt"})})})}function _t({recording:e}){const{metadata:t}=e,r="passed"===t?.test?.result,n=e.id;return(0,h.jsxs)("div",{className:`group flex grow flex-row items-center px-2 transition duration-150 ${$().libraryRow}`,children:[(0,h.jsx)(T(),{href:`/recording/${n}`,children:(0,h.jsxs)("a",{className:"group flex flex-grow cursor-pointer items-center justify-center space-x-2 p-2 transition",target:"_blank",rel:"noopener noreferrer",children:[(0,h.jsx)(Pt,{passed:r,recordingId:n}),(0,h.jsx)(Ot,{recording:e})]})}),(0,h.jsx)(Ct,{recording:e}),(0,h.jsx)(It,{recording:e})]})}function Rt(){const e=(0,n.useContext)(Nt).testRun,t=ft()(e.recordings,"date","desc"),r=t.filter((e=>"passed"===e.metadata?.test?.result)),s=t.filter((e=>"passed"!==e.metadata?.test?.result));return(0,h.jsxs)("div",{className:"no-scrollbar flex flex-col overflow-y-auto",children:[(0,h.jsx)(St,{recordings:s,label:"Failed"}),(0,h.jsx)(St,{recordings:r,label:"Passed"})]})}function St({recordings:e,label:t}){const{0:r,1:s}=(0,n.useState)(!0),i=e.length;if(0==i)return null;const o=e.sort(((e,t)=>(e.metadata?.test?.file||0)>(t.metadata?.test?.file||0)?1:-1));return(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsxs)("div",{className:` top-0 flex grow flex-row p-2 pl-4 font-medium hover:cursor-pointer ${$().libraryRowHeader}`,onClick:()=>s(!r),children:[(0,h.jsxs)("div",{className:"grow",children:[i," ",t," Test",i>1?"s":""]}),(0,h.jsx)("div",{className:"flex",children:(0,h.jsx)(Z.Z,{filename:"chevron",className:(r?"bg-iconColor":"rotate-90")+" rotate duration-140 bg-iconColor transition ease-out",size:"small"})})]}),r&&o.map(((e,t)=>(0,h.jsx)(_t,{recording:e},t)))]})}function Tt({styles:e,value:t}){return(0,h.jsx)("div",{className:`flex h-[1.5rem] min-w-[1.5rem] items-center justify-center rounded-md px-1 text-xs font-bold ${e}`,children:t})}function Zt({testRun:e}){let t=0,r=0;return e.stats&&(t=e.stats.passed||0,r=e.stats.failed||0),(0,h.jsxs)("div",{className:"flex shrink space-x-2",children:[r>0&&(0,h.jsx)(Tt,{styles:"text-red-500 border border-red-500 border-3",value:r}),0==r&&t>0&&(0,h.jsx)(Tt,{styles:"bg-green-500 text-chrome",value:t})]})}function Dt({testRun:e}){const t=e?.commitTitle;return(0,h.jsx)("div",{className:"flex flex-row items-center space-x-2 overflow-hidden",children:(0,h.jsx)("div",{className:"overflow-hidden overflow-ellipsis whitespace-nowrap text-xl font-medium",children:t})})}function $t({testRun:e}){const t=Le(function(e){const t=e.map((e=>new Date(e.date).getTime())).sort(((e,t)=>e-t));return t[t.length-1]-t[0]}(e.recordings)),{user:r,date:n,mergeId:s,mergeTitle:i,branch:o}=e;return(0,h.jsxs)("div",{className:"flex flex-row flex-wrap items-center",children:[(0,h.jsx)(tt,{icon:"schedule",children:We(n)}),(0,h.jsx)(tt,{icon:"person",children:r}),s&&(0,h.jsx)(tt,{title:i,icon:"merge_type",children:s}),!s&&o&&(0,h.jsx)(tt,{icon:"fork_right",children:o}),(0,h.jsx)(tt,{icon:"timer",children:t})]})}function Et({testRun:e}){const{triggerUrl:t}=e;return t?(0,h.jsx)(T(),{href:t,children:(0,h.jsx)("a",{target:"_blank",rel:"noreferrer noopener",className:"hover:underline",children:(0,h.jsx)("span",{children:"View run in GitHub"})})}):null}function Lt(){const e=(0,n.useContext)(Nt).testRun;return(0,h.jsxs)("div",{className:"mb-2 flex flex-col space-y-2 border-b border-themeBorder p-4",children:[(0,h.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,h.jsx)(Dt,{testRun:e}),(0,h.jsx)(Zt,{testRun:e})]}),(0,h.jsxs)("div",{className:"flex flex-row items-center justify-between text-xs",children:[(0,h.jsx)($t,{testRun:e}),(0,h.jsx)(Et,{testRun:e})]}),e.title?(0,h.jsx)("div",{className:"flex flex-row items-center justify-between text-xs",children:e.title}):null]})}function Wt(){const{testRun:e}=(0,n.useContext)(Nt);return(0,h.jsx)("div",{className:`m-4 ml-0 flex flex-col overflow-hidden rounded-xl text-sm shadow-lg ${$().runOverview}`,style:{width:"50rem"},children:e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Lt,{}),(0,h.jsx)(Rt,{})]}):(0,h.jsx)(y,{})})}function Mt(){return(0,h.jsx)(kt,{children:(0,h.jsx)(Wt,{})})}function At({testRun:e}){const t=e.commitTitle||"Unknown",r=t.length>80?t.slice(0,80)+"...":t;return(0,h.jsx)("div",{className:"wrap flex shrink grow-0 overflow-hidden text-ellipsis whitespace-nowrap pr-2 font-medium",children:r})}function Gt({testRun:e}){const{mergeId:t,mergeTitle:r,user:n,date:s,branch:i}=e;return(0,h.jsxs)("div",{className:"flex flex-row items-center text-xs font-light",children:[(0,h.jsx)(tt,{icon:"schedule",children:We(s)}),(0,h.jsx)(tt,{icon:"person",children:n||""}),t&&(0,h.jsx)(tt,{title:r,icon:"merge_type",children:t}),!t&&(0,h.jsx)(tt,{maxWidth:"160px",icon:"fork_right",children:i||""})]})}function Ft({failCount:e}){return(0,h.jsx)("div",{className:`flex items-center  ${e>0?"text-red-500":"text-green-500"} `,children:(0,h.jsx)(he.Z,{iconSize:"2xl",children:(e>0?"highlight_off":"check_circle")+" "})})}function Bt({testRun:e,onClick:t}){const{focusId:r}=(0,n.useContext)(yt),{teamId:s}=(0,n.useContext)(k),i=e.stats?.failed||0,o=r===e.id;return(0,h.jsx)(T(),{href:`/team/${s}/runs/${e.id}`,children:(0,h.jsxs)("a",{className:`flex cursor-pointer flex-row items-center space-x-3 rounded-sm border-b border-chrome bg-themeBase-100 px-3 py-3 ${$().libraryRow}     \n      ${o?$().libraryRowSelected:""}\n      `,onClick:t,children:[(0,h.jsx)(Ft,{failCount:i}),(0,h.jsxs)("div",{className:"flex flex-grow flex-col space-y-1 overflow-hidden",children:[(0,h.jsxs)("div",{className:"flex flex-row justify-between space-x-3",children:[(0,h.jsx)(At,{testRun:e}),(0,h.jsx)(Zt,{testRun:e})]}),(0,h.jsx)(Gt,{testRun:e}),e.title?(0,h.jsx)("div",{className:"flex flex-row items-center justify-between text-xs",children:e.title}):null]})]})})}function Ut(){const{testRuns:e}=(0,n.useContext)(yt);return(0,h.jsx)("div",{className:"no-scrollbar m-4 flex flex-grow flex-col space-y-0 overflow-auto rounded-t-xl text-sm",children:e?e.map(((e,t)=>(0,h.jsx)(Bt,{testRun:e,onClick:()=>({})},t))):(0,h.jsx)(y,{})})}function Jt(){return(0,h.jsx)(bt,{children:(0,h.jsx)(Ht,{})})}function Ht(){const{focusId:e}=(0,n.useContext)(yt);return(0,h.jsxs)("div",{className:"flex flex-grow flex-row overflow-hidden",children:[(0,h.jsx)(Ut,{}),e?(0,h.jsx)(Mt,{}):null]})}function zt({defaultView:e}){return(0,h.jsx)(le,{defaultView:e,children:(0,h.jsx)(qt,{})})}function qt(){const{view:e}=(0,n.useContext)(oe);return(0,h.jsxs)("div",{className:"flex flex-grow flex-col overflow-hidden",children:[(0,h.jsx)(xe,{}),(0,h.jsx)("div",{className:"flex flex-grow flex-row overflow-hidden",children:"recordings"===e?(0,h.jsx)(Ke,{}):"runs"===e?(0,h.jsx)(Jt,{}):(0,h.jsx)(lt,{})})]})}function Vt(){const{teamId:e}=(0,l.j0)();return e===N.id?(0,h.jsx)(O,{children:(0,h.jsx)(Yt,{})}):(0,h.jsx)(P,{children:(0,h.jsx)(Yt,{})})}function Yt(){const{team:e,isPendingTeam:t}=(0,n.useContext)(k);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(zt,{defaultView:e?.isTest&&!t?"runs":"recordings"}),(0,h.jsx)(z,{})]})}const Qt=["loading"];function Kt({userSettings:e,userInfo:t}){const r=(e=>{const t=(0,o.useRouter)(),{teamId:r}=(0,l.j0)();return(0,n.useEffect)((()=>{void 0===r&&(e?t.push(`/team/${e}`):t.push("/team/me/recordings"))}),[t,e,r]),r||null})(e.defaultWorkspaceId),s=function(e){const{workspaces:t,loading:r}=c.Z.useGetNonPendingWorkspaces(),{pendingWorkspaces:n,loading:s}=c.Z.useGetPendingWorkspaces();return r||s?null:e===N.id||!(!t.find((t=>t.id===e))&&!n?.find((t=>t.id===e)))}(r),i=(0,a.useUpdateDefaultWorkspace)(),f=(0,l.t5)(),p=(0,u.Z)();return(0,n.useEffect)((()=>{d.Z.createSession({userInfo:t,auth0User:p.user,userSettings:e})}),[p,t,e]),(0,n.useEffect)((()=>{r&&!1===s&&(f("me"),i({variables:{workspaceId:N.databaseId}}))}),[r,s,f]),r?(0,h.jsxs)("div",{className:"flex h-screen w-screen flex-row",children:[(0,h.jsx)(J,{}),(0,h.jsx)(Vt,{}),(0,h.jsx)(w,{})]}):(0,h.jsx)(x.Z,{fallbackMessage:"Loading team information..."})}var Xt=function(){const{userSettings:e,loading:t}=c.Z.useGetUserSettings(),r=c.Z.useGetUserInfo(),{loading:n}=r,s=(0,i.Z)(r,Qt);return t||n?(0,h.jsx)(x.Z,{fallbackMessage:"Reloading team details..."}):(0,h.jsx)(Kt,{userSettings:e,userInfo:s})},er=r(31402);function tr(){const e=(0,f.TL)(),{isAuthenticated:t}=(0,u.Z)();return(0,n.useEffect)((()=>{e((0,s.setLoadingFinished)(!0))}),[e]),t?(0,h.jsx)(Xt,{}):(0,h.jsx)(er.Z,{returnToPath:window.location.pathname+window.location.search})}},53320:function(e,t,r){"use strict";r.d(t,{F$:function(){return p},ZP:function(){return h}});var n=r(59499),s=r(47166),i=r.n(s),o=(r(67294),r(15243)),l=r(81834),c=r(97125),a=r.n(c),d=r(85893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const f=i().bind(a()),p=e=>(0,d.jsx)("img",x(x({"data-private":!0},e),{},{src:e.src||void 0,onError:e=>e.currentTarget.src="/images/clear.png"})),m=({user:e})=>(0,d.jsx)("div",{className:f("avatar authenticated firstPlayer"),children:(0,d.jsx)(p,{src:e.picture})});function h({player:e,isFirstPlayer:t,index:r}){let n=(0,o.Z)();return n.isAuthenticated&&t?(0,d.jsx)(m,{user:n.user}):e.name?(0,d.jsx)("div",{className:f("avatar"),title:e.name,children:(0,d.jsx)(p,{src:e.picture})}):(0,d.jsx)("div",{className:f("avatar"),title:"Anonymous User",style:{background:(0,l.h)(r)}})}},92182:function(e,t,r){"use strict";r.d(t,{Im:function(){return x},Lt:function(){return d},YV:function(){return f},hP:function(){return u}});var n=r(40414),s=r(94184),i=r.n(s),o=(r(67294),r(84337)),l=r(68925),c=r.n(l),a=r(85893);function d({children:e,menuItemsClassName:t,widthClass:r="w-56",fontSizeClass:s="text-sm"}){return(0,a.jsx)(n.v,{as:"div",className:"recording-options inline-block text-left shadow-lg",children:({open:o})=>(0,a.jsx)(n.v.Items,{static:!0,className:i()(t,r,s,"right-0 origin-top-right rounded-md border-modalBorder bg-menuBgcolor shadow-lg ring-1 ring-black ring-opacity-5 backdrop-blur-sm focus:outline-none"),children:(0,a.jsx)("div",{className:"py-1",children:e})})})}function u({children:e,onClick:t}){return(0,a.jsx)(n.v.Item,{children:({active:r})=>(0,a.jsx)("a",{href:"#",className:i()(r?"bg-menuHoverBgcolor text-menuHoverColor":"text-menuColor","block px-4 py-2"),onClick:t,children:e})})}function x({children:e,icon:t,selected:r}){return(0,a.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,a.jsx)("div",{className:i()("flex w-4 flex-row items-center"),children:(0,a.jsx)(o.Z,{filename:t,className:i()("group-hover:bg-primaryAccent",r?"bg-primaryAccent":"bg-gray-400")})}),(0,a.jsx)("span",{className:"overflow-hidden overflow-ellipsis whitespace-pre",children:e})]})}function f(){return(0,a.jsx)("div",{className:`w-full ${c().dropdownDivider}`})}},46662:function(e,t,r){"use strict";r.d(t,{F:function(){return f},h:function(){return p}});var n=r(59499),s=r(4730),i=r(94184),o=r.n(i),l=(r(67294),r(89185)),c=r(85893);const a=["className"],d=["className"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){let{className:t}=e,r=(0,s.Z)(e,a);const n=l.De.showRedactions;return(0,c.jsx)("div",x(x({},r),{},{"data-private":!0,className:o()(t,{showRedactions:n})}))}function p(e){let{className:t}=e,r=(0,s.Z)(e,d);const n=l.De.showRedactions;return(0,c.jsx)("span",x(x({},r),{},{"data-private":!0,className:o()(t,{showRedactions:n})}))}},59090:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(59499),s=r(4730),i=(r(67294),r(85893));const o=["src"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){let{src:t}=e,r=(0,s.Z)(e,o);return t?(0,i.jsx)("img",c(c({},r),{},{src:`data:image/png;base64,${t}`})):null}},84337:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(59499),s=(r(67294),r(85893));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const l={custom:{},small:{height:"1rem",width:"1rem"},medium:{height:"1.25rem",width:"1.25rem"},large:{height:"1.5rem",width:"1.5rem"},"extra-large":{height:"2rem",width:"2rem"}};function c({filename:e,className:t="bg-gray-800",size:r="medium",style:n={}}){const i=l[r];return(0,s.jsx)("div",{className:`icon ${e} ${t}`,style:o(o({},i),n)})}},31402:function(e,t,r){"use strict";r.d(t,{V:function(){return I},Z:function(){return _}});var n=r(19989),s=r(58771),i=r(41664),o=r.n(i),l=r(67294),c=r(14530),a=r.n(c),d=r(36037),u=r(32105),x=r(75046),f=r(98369),p=r(23800),m=r(97138),h=r(15243),g=r(89289),j=r(91275),w=r(85893);const v="Darwin"===a().appinfo.OS;var y;!function(e){e.default="default",e.firstBrowserOpen="first-browser-open"}(y||(y={}));const b=n.Ps`
  query GetConnection($email: String!) {
    auth {
      connection(email: $email)
    }
  }
`;function N({onLogin:e}){const{0:t,1:r}=(0,l.useState)(""),{0:n,1:s}=(0,l.useState)(!1),i=async()=>{const r=await(0,d.IO)({query:b,variables:{email:t}});r.data?.auth?.connection?e(r.data.auth.connection):s(r.errors?.find((e=>e.message))?.message||!0)};return(0,w.jsxs)("div",{className:"space-y-6",children:[(0,w.jsx)("p",{className:"text-center text-base",children:"Enter your email to be redirected to your SSO provider."}),n?(0,w.jsx)("p",{className:"text-center text-base text-red-500",children:"string"===typeof n?"We were unable to find your SSO provider right now. Please try again later.":"We couldn't find an SSO provider for your email."}):null,(0,w.jsxs)("div",{className:"flex flex-row space-x-3",children:[(0,w.jsx)("input",{type:"email",className:"w-48 flex-grow rounded-md text-black",placeholder:"user@company.com",value:t,onKeyPress:e=>"Enter"===e.key?i():null,onChange:e=>r(e.currentTarget.value)}),(0,w.jsx)(g.yI,{color:"blue",onClick:i,className:"justify-center",children:"Sign in"})]}),(0,w.jsx)("button",{className:"w-full justify-center text-sm font-bold text-primaryAccent underline",onClick:()=>e("google-oauth2"),children:"Sign in with Google"})]})}function k(){return(0,f.IB)()===y.firstBrowserOpen?(0,w.jsxs)("div",{className:"text-center text-base",children:[(0,w.jsx)("p",{children:"Replay captures everything you need for the perfect bug report, all in one link!"}),(0,w.jsx)("a",{href:"https://replay.io",className:"pointer-hand underline",children:"Learn more"})]}):(0,w.jsxs)(w.Fragment,{children:[(0,p.WN)()?(0,w.jsx)("h1",{className:"text-2xl font-extrabold",children:"Almost there!"}):null,(0,w.jsx)("div",{className:"space-y-4 self-start text-base",children:(0,p.WN)()?(0,w.jsx)("p",{children:"In order to join your team, we first need you to sign in."}):(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("p",{children:"Replay captures everything you need for the perfect bug report, all in one link"}),(0,w.jsx)("a",{href:"https://replay.io",className:"pointer-hand underline",children:"Learn more"})]})})})]})}function P({onShowSSOLogin:e,onLogin:t}){return(0,w.jsxs)("div",{className:"space-y-6",children:[(0,w.jsx)(k,{}),(0,w.jsx)(g.yI,{color:"blue",onClick:()=>t("google-oauth2"),className:"w-full justify-center",children:"Sign in with Google"}),(0,w.jsx)("button",{className:"w-full justify-center text-sm font-bold text-primaryAccent underline",onClick:e,children:"Enterprise Users: Sign in with SSO"})]})}function O(){return(0,w.jsxs)("div",{className:"space-y-6",children:[(0,w.jsx)(k,{}),(0,w.jsx)(g.yI,{color:"blue",onClick:()=>{(0,x.$E)()},className:"w-full justify-center",children:"Sign in"})]})}function C({error:e}){let t=e&&"message"in e?e.message:null;return t?("Invalid state"===t?t="Your login session expired. Please try logging in again.":((0,m.ve)("devtools-auth-error-login",{errorMessage:t}),"Unable to authenticate user"===t&&(t="We're sorry but we had a problem authenticating you. We're looking into it now!")),(0,w.jsx)(j.D$,{overlay:!0,noLogo:!0,children:(0,w.jsxs)("div",{className:"flex flex-row items-center space-x-4",children:[(0,w.jsx)(s.Z,{className:"h-12 w-12 flex-shrink-0 text-red-500"}),(0,w.jsx)("span",{className:"align-left text-base font-bold",children:t})]})})):null}function I({children:e,referrer:t}){const r="/"+(t?`?login-referrer=${t}`:"");return(0,w.jsx)(o(),{href:r,children:e})}function _({returnToPath:e="",challenge:t,state:n}){const{loginWithRedirect:s,error:i}=(0,h.Z)(),{0:o,1:c}=(0,l.useState)(!1);e.startsWith("/login")&&(e="/");const a=async r=>{if(t&&n){const s=(0,u.p)(),i=(0,u.K)();window.location.href=`https://${s}/authorize?response_type=code&code_challenge_method=S256&code_challenge=${t}&client_id=${i}&redirect_uri=${e}&scope=openid profile offline_access&state=${n}&audience=https://api.replay.io&connection=${r}`}else await s({appState:{returnTo:e},connection:r})};return(0,l.useEffect)((()=>{(0,x.Ox)(null)}),[]),(0,w.jsxs)(j.fH,{theme:"light",children:[(0,w.jsx)(j.D$,{overlay:!0,children:r.g.__IS_RECORD_REPLAY_RUNTIME__&&v?(0,w.jsx)(O,{}):o?(0,w.jsx)(N,{onLogin:a}):(0,w.jsx)(P,{onShowSSOLogin:()=>c(!0),onLogin:a})}),(0,w.jsx)(C,{error:i})]})}},91275:function(e,t,r){"use strict";r.d(t,{D$:function(){return u},M7:function(){return x},Q8:function(){return p},aW:function(){return h},fH:function(){return j},tn:function(){return f},x7:function(){return m},yP:function(){return g}});var n=r(94184),s=r.n(n),i=r(67294),o=r(89289),l=r(36865),c=r(36576),a=r(85893);const d=i.createContext({theme:"dark"});function u({children:e,overlay:t,noLogo:r}){(0,i.useContext)(d);return(0,a.jsxs)("div",{className:s()("relative m-4 flex flex-col items-center rounded-xl bg-loadingBoxes p-9 text-xl text-bodyColor shadow-md",t?"max-w-sm space-y-8":"max-w-2xl space-y-12",{"rounded-lg bg-opacity-80":t}),children:[r?null:(0,a.jsx)("img",{src:"/images/logo.svg",className:"h-24 w-full"}),e]})}function x({children:e}){return(0,a.jsx)("div",{className:"relative flex flex-col items-center space-y-4 text-bodyColor",children:e})}function f({children:e}){return(0,a.jsx)("div",{className:"text-3xl font-extrabold",children:e})}function p({children:e}){return(0,a.jsx)("div",{className:"mx-10 text-center",children:e})}function m({children:e}){return(0,a.jsx)("div",{className:"space-x-6",children:e})}function h({current:e,text:t,setCurrent:r,onNext:n,allowNext:s}){const{0:l,1:c}=(0,i.useState)(!1);(0,i.useEffect)((()=>{s&&l&&r((e=>e+1))}),[s,l,r]);const d=l&&!s?"Loading":t||"Next";return(0,a.jsx)(o.yI,{color:"blue",onClick:()=>{n&&n(),c(!0)},children:d})}function g({children:e,onClick:t=(()=>{}),className:r,disabled:n=!1}){return(0,a.jsx)("button",{type:"button",onClick:t,disabled:n,className:s()(r,"max-w-max items-center rounded-md border border-transparent bg-primaryAccent px-3 py-1.5 font-medium text-white shadow-sm hover:bg-primaryAccentHover focus:outline-none focus:ring-2 focus:ring-primaryAccent focus:ring-offset-2"),children:e})}function j({children:e,theme:t="dark"}){return(0,a.jsx)(d.Provider,{value:{theme:t},children:(0,a.jsxs)("div",{className:s()("fixed z-50 grid h-full w-full bg-black text-white"),children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)(l.ZP,{options:{maskTransparency:"transparent"},blurMask:!1,children:e})]})})}},61753:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(59499),s=r(67294),i=r(73935),o=r(65036),l=r(6992),c=r(85893);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e){const t=(0,s.useRef)(null),{0:r,1:n}=(0,s.useState)(null),{buttonContent:a,children:u,position:x="bottom-left",buttonStyle:f="primary",style:p,expanded:m}=e,h=function(e,t,r){if(e.expanded&&t.current){const n=t.current.getBoundingClientRect(),s=document.body.getBoundingClientRect(),i=r?.getBoundingClientRect(),{left:o,right:l,top:c,bottom:a}=n,{width:d,height:u}=s,x=e.distance||5;let f=e.position||"bottom-left";switch(function(e,t){const r=[];if(!t)return[];e.bottom<t.bottom&&r.push("bottom");e.top>t.top&&r.push("top");return r}(s,i).forEach((e=>{f.includes(e)&&(f=function(e,t){const r={top:"bottom",bottom:"top"};return e.replace(t,r[t])}(f,e))})),f){case"top-right":return{bottom:u-c+x+"px",left:o+"px"};case"bottom-right":return{top:a+x+"px",left:o+"px"};case"top-left":return{bottom:u-c+x+"px",right:d-l+"px"};case"bottom-left":return{top:a+x+"px",right:d-l+"px"}}}return{}}(e,t,r),g=(0,l.CG)(o.getToolboxLayout);return(0,c.jsxs)("div",{className:"portal-dropdown-wrapper",children:[(0,c.jsx)("button",{type:"button",className:`expand-dropdown flex w-full ${f}`,disabled:e.disabled,id:"portal-dropdown-button","data-test-id":"consoleDockButton","data-test-state":g,onMouseDown:t=>{0===t.button&&(t.stopPropagation(),t.preventDefault(),e.setExpanded(!0))},ref:t,children:a}),m?(0,i.createPortal)((0,c.jsxs)("div",{className:"portal-dropdown-container",children:[(0,c.jsx)("div",{className:"mask",onClick:t=>{t.stopPropagation(),t.preventDefault(),e.setExpanded(!1)}}),(0,c.jsx)("div",{className:`content ${x}`,style:d(d({},p),h),ref:n,children:u})]}),document.body):null]})}},23731:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});r(67294);var n=r(85893);function s({className:e}){return(0,n.jsxs)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},28984:function(e,t,r){"use strict";r.d(t,{w:function(){return l}});var n=r(94184),s=r.n(n),i=(r(67294),r(81217)),o=r(85893);function l({expiresIn:e,color:t="gray",className:r,onClick:n}){const l={backgroundColor:"yellow"===t?"#FFFB96":"#E9E9EB",cursor:n?"pointer":"default"};return e>=21?null:(0,o.jsxs)("div",{className:s()("flex flex-row items-center space-x-2 rounded-lg p-4 py-1",r),style:l,onClick:n,children:[(0,o.jsx)(i.Z,{iconSize:"xl",className:"text-gray-700",children:"timer"}),(0,o.jsx)("span",{className:"overflow-hidden overflow-ellipsis whitespace-pre text-gray-500",children:e>1?(0,o.jsxs)("span",{children:["Trial expires in ",e," days"]}):1==e?(0,o.jsx)("span",{children:"Trial expires in 1 day"}):(0,o.jsx)("span",{children:"Trial expired"})})]})}},23800:function(e,t,r){"use strict";r.d(t,{SS:function(){return l},WN:function(){return o},cM:function(){return c},y1:function(){return a}});var n=r(66220),s=r(98369),i=r(81834);const o=()=>new URL(window.location.href).searchParams.get("teaminvite"),l=(e,t)=>1===e&&0===t;function c(e){return(0,i.I)(e,n.Nag.FIRST_REPLAY_2)&&(0,s.sP)()}function a(e,t){return(0,s.sP)()?(t(n.Nag.DOWNLOAD_REPLAY),!1):(0,i.I)(e,n.Nag.DOWNLOAD_REPLAY)}},27210:function(e,t,r){"use strict";r.d(t,{Q_:function(){return o},Tj:function(){return l},gJ:function(){return i}});var n=r(26870),s=r(43586);function i(e){return e.find((e=>e.isOrganization))?.settings||{features:{user:{library:!0,autoJoin:null},recording:{public:!0,allowList:[],blockList:[]}},motd:null}}function o(){const{workspaces:e,loading:t}=(0,n.useGetNonPendingWorkspaces)(),r=(0,s.Hv)();return!t&&!l(e,r)}function l(e,t){const r=e.find((e=>e.id===t)),n=e.some((e=>!1===e.settings?.features.recording.public));return!t&&n||!1===r?.settings?.features.recording.public}},81308:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/team/[[...param]]",function(){return r(52170)}])},97125:function(e){e.exports={avatar:"Avatar_avatar__E8Cex",authenticated:"Avatar_authenticated__weGMn",firstPlayer:"Avatar_firstPlayer__OhjBJ"}},68925:function(e){e.exports={libraryHeader:"Library_libraryHeader__Q6BUj",libraryWrapper:"Library_libraryWrapper__r3pJD",libraryRow:"Library_libraryRow__bJfe0",libraryRowSelected:"Library_libraryRowSelected__90gMl",teamRow:"Library_teamRow__YfBbJ",teamRowActive:"Library_teamRowActive__F8V2w",dropdownDivider:"Library_dropdownDivider__dG_PD",editButton:"Library_editButton__1jLbJ",recordingsBackground:"Library_recordingsBackground__tHlCM",navigation:"Library_navigation__GBDVP",workspaceName:"Library_workspaceName__zZEkn",runOverview:"Library_runOverview__L_KLG"}}},function(e){e.O(0,[6677,9774,2888,179],(function(){return t=81308,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=[[...param]]-19e2b07cd12a7765.js.map