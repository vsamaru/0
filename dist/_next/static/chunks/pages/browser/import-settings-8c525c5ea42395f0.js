(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1967],{44019:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,n,r){return!1};("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7942:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(67294))&&r.__esModule?r:{default:r},s=n(64957),l=n(57995),i=n(30647),c=n(51992),a=n(90639),u=n(44019),f=n(70227);const d="undefined"!==typeof o.default.useTransition,p={};function h(e,t,n,r){if(!e)return;if(!s.isLocalURL(t))return;e.prefetch(t,n,r).catch((e=>{0}));const o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;p[t+"%"+n+(o?"%"+o:"")]=!0}var x=o.default.forwardRef((function(e,t){let n;const{href:r,as:x,children:m,prefetch:y,passHref:g,replace:v,shallow:j,scroll:b,locale:w,onClick:_,onMouseEnter:N,legacyBehavior:k=!0!==Boolean(!1)}=e,C=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","legacyBehavior"]);n=m,!k||"string"!==typeof n&&"number"!==typeof n||(n=o.default.createElement("a",null,n));const L=!1!==y,[,S]=d?o.default.useTransition():[];let E=o.default.useContext(i.RouterContext);const O=o.default.useContext(c.AppRouterContext);O&&(E=O);const{href:M,as:P}=o.default.useMemo((()=>{const[e,t]=s.resolveHref(E,r,!0);return{href:e,as:x?s.resolveHref(E,x):t||e}}),[E,r,x]),R=o.default.useRef(M),I=o.default.useRef(P);let A;k&&(A=o.default.Children.only(n));const D=k?A&&"object"===typeof A&&A.ref:t,[$,W,T]=a.useIntersection({rootMargin:"200px"}),B=o.default.useCallback((e=>{I.current===P&&R.current===M||(T(),I.current=P,R.current=M),$(e),D&&("function"===typeof D?D(e):"object"===typeof D&&(D.current=e))}),[P,D,M,T,$]);o.default.useEffect((()=>{const e=W&&L&&s.isLocalURL(M),t="undefined"!==typeof w?w:E&&E.locale,n=p[M+"%"+P+(t?"%"+t:"")];e&&!n&&h(E,M,P,{locale:t})}),[P,M,W,w,L,E]);const U={ref:B,onClick:e=>{k||"function"!==typeof _||_(e),k&&A.props&&"function"===typeof A.props.onClick&&A.props.onClick(e),e.defaultPrevented||function(e,t,n,r,o,l,i,c,a){const{nodeName:u}=e.currentTarget;if("A"===u.toUpperCase()&&(function(e){const{target:t}=e.currentTarget;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!s.isLocalURL(n)))return;e.preventDefault();const f=()=>{t[o?"replace":"push"](n,r,{shallow:l,locale:c,scroll:i})};a?a(f):f()}(e,E,M,P,v,j,b,w,O?S:void 0)},onMouseEnter:e=>{k||"function"!==typeof N||N(e),k&&A.props&&"function"===typeof A.props.onMouseEnter&&A.props.onMouseEnter(e),s.isLocalURL(M)&&h(E,M,P,{priority:!0})}};if(!k||g||"a"===A.type&&!("href"in A.props)){const e="undefined"!==typeof w?w:E&&E.locale,t=E&&E.isLocaleDomain&&u.getDomainLocale(P,e,E.locales,E.domainLocales);U.href=t||f.addBasePath(l.addLocale(P,e,E&&E.defaultLocale))}return k?o.default.cloneElement(A,U):o.default.createElement("a",Object.assign({},C,U),n)}));t.default=x,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},90639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function({rootRef:e,rootMargin:t,disabled:n}){const c=n||!s,a=r.useRef(),[u,f]=r.useState(!1),[d,p]=r.useState(null);r.useEffect((()=>{if(s){if(a.current&&(a.current(),a.current=void 0),c||u)return;return d&&d.tagName&&(a.current=function(e,t,n){const{id:r,observer:o,elements:s}=function(e){const t={root:e.root||null,margin:e.rootMargin||""},n=i.find((e=>e.root===t.root&&e.margin===t.margin));let r;if(n&&(r=l.get(n),r))return r;const o=new Map,s=new IntersectionObserver((e=>{e.forEach((e=>{const t=o.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return r={id:t,observer:s,elements:o},i.push(t),l.set(t,r),r}(n);return s.set(e,t),o.observe(e),function(){if(s.delete(e),o.unobserve(e),0===s.size){o.disconnect(),l.delete(r);const e=i.findIndex((e=>e.root===r.root&&e.margin===r.margin));e>-1&&i.splice(e,1)}}}(d,(e=>e&&f(e)),{root:null==e?void 0:e.current,rootMargin:t})),()=>{null==a.current||a.current(),a.current=void 0}}if(!u){const e=o.requestIdleCallback((()=>f(!0)));return()=>o.cancelIdleCallback(e)}}),[d,c,t,e,u]);const h=r.useCallback((()=>{f(!1)}),[]);return[p,u,h]};var r=n(67294),o=n(26286);const s="function"===typeof IntersectionObserver;const l=new Map,i=[];("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},51992:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AppRouterContext=void 0;const o=((r=n(67294))&&r.__esModule?r:{default:r}).default.createContext(null);t.AppRouterContext=o},21768:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});n(67294);var r=n(89289),o=n(31402),s=n(91275),l=n(85893);function i(e){e.preventDefault(),document.querySelector("#migrationFrame").src="replay:migrate",window.addEventListener("focus",(function t(){document.location.href=e.target.href,window.removeEventListener("focus",t)}))}function c(){return(0,l.jsx)(s.fH,{children:(0,l.jsxs)(s.D$,{children:[(0,l.jsxs)(s.M7,{children:[(0,l.jsx)(s.tn,{children:"Got settings?"}),(0,l.jsx)(s.Q8,{children:"If you'd like, I can carry your settings over from your main browser so you can get started quickly."})]}),(0,l.jsxs)(s.x7,{children:[(0,l.jsx)(o.V,{children:(0,l.jsx)("a",{type:"button",className:(0,r.yP)("blue","primary","2xl"),onClick:i,children:"Sounds helpful!"})}),(0,l.jsx)(o.V,{children:(0,l.jsx)("a",{type:"button",className:(0,r.yP)("gray","primary","2xl"),children:"Maybe later"})})]}),(0,l.jsx)("iframe",{id:"migrationFrame",className:"h-0 w-0"})]})})}},31402:function(e,t,n){"use strict";n.d(t,{V:function(){return S},Z:function(){return E}});var r=n(19989),o=n(58771),s=n(41664),l=n.n(s),i=n(67294),c=n(14530),a=n.n(c),u=n(36037),f=n(32105),d=n(75046),p=n(98369),h=n(23800),x=n(97138),m=n(15243),y=n(89289),g=n(91275),v=n(85893);const j="Darwin"===a().appinfo.OS;var b;!function(e){e.default="default",e.firstBrowserOpen="first-browser-open"}(b||(b={}));const w=r.Ps`
  query GetConnection($email: String!) {
    auth {
      connection(email: $email)
    }
  }
`;function _({onLogin:e}){const{0:t,1:n}=(0,i.useState)(""),{0:r,1:o}=(0,i.useState)(!1),s=async()=>{const n=await(0,u.IO)({query:w,variables:{email:t}});n.data?.auth?.connection?e(n.data.auth.connection):o(n.errors?.find((e=>e.message))?.message||!0)};return(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsx)("p",{className:"text-center text-base",children:"Enter your email to be redirected to your SSO provider."}),r?(0,v.jsx)("p",{className:"text-center text-base text-red-500",children:"string"===typeof r?"We were unable to find your SSO provider right now. Please try again later.":"We couldn't find an SSO provider for your email."}):null,(0,v.jsxs)("div",{className:"flex flex-row space-x-3",children:[(0,v.jsx)("input",{type:"email",className:"w-48 flex-grow rounded-md text-black",placeholder:"user@company.com",value:t,onKeyPress:e=>"Enter"===e.key?s():null,onChange:e=>n(e.currentTarget.value)}),(0,v.jsx)(y.yI,{color:"blue",onClick:s,className:"justify-center",children:"Sign in"})]}),(0,v.jsx)("button",{className:"w-full justify-center text-sm font-bold text-primaryAccent underline",onClick:()=>e("google-oauth2"),children:"Sign in with Google"})]})}function N(){return(0,p.IB)()===b.firstBrowserOpen?(0,v.jsxs)("div",{className:"text-center text-base",children:[(0,v.jsx)("p",{children:"Replay captures everything you need for the perfect bug report, all in one link!"}),(0,v.jsx)("a",{href:"https://replay.io",className:"pointer-hand underline",children:"Learn more"})]}):(0,v.jsxs)(v.Fragment,{children:[(0,h.WN)()?(0,v.jsx)("h1",{className:"text-2xl font-extrabold",children:"Almost there!"}):null,(0,v.jsx)("div",{className:"space-y-4 self-start text-base",children:(0,h.WN)()?(0,v.jsx)("p",{children:"In order to join your team, we first need you to sign in."}):(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)("p",{children:"Replay captures everything you need for the perfect bug report, all in one link"}),(0,v.jsx)("a",{href:"https://replay.io",className:"pointer-hand underline",children:"Learn more"})]})})})]})}function k({onShowSSOLogin:e,onLogin:t}){return(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsx)(N,{}),(0,v.jsx)(y.yI,{color:"blue",onClick:()=>t("google-oauth2"),className:"w-full justify-center",children:"Sign in with Google"}),(0,v.jsx)("button",{className:"w-full justify-center text-sm font-bold text-primaryAccent underline",onClick:e,children:"Enterprise Users: Sign in with SSO"})]})}function C(){return(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsx)(N,{}),(0,v.jsx)(y.yI,{color:"blue",onClick:()=>{(0,d.$E)()},className:"w-full justify-center",children:"Sign in"})]})}function L({error:e}){let t=e&&"message"in e?e.message:null;return t?("Invalid state"===t?t="Your login session expired. Please try logging in again.":((0,x.ve)("devtools-auth-error-login",{errorMessage:t}),"Unable to authenticate user"===t&&(t="We're sorry but we had a problem authenticating you. We're looking into it now!")),(0,v.jsx)(g.D$,{overlay:!0,noLogo:!0,children:(0,v.jsxs)("div",{className:"flex flex-row items-center space-x-4",children:[(0,v.jsx)(o.Z,{className:"h-12 w-12 flex-shrink-0 text-red-500"}),(0,v.jsx)("span",{className:"align-left text-base font-bold",children:t})]})})):null}function S({children:e,referrer:t}){const n="/"+(t?`?login-referrer=${t}`:"");return(0,v.jsx)(l(),{href:n,children:e})}function E({returnToPath:e="",challenge:t,state:r}){const{loginWithRedirect:o,error:s}=(0,m.Z)(),{0:l,1:c}=(0,i.useState)(!1);e.startsWith("/login")&&(e="/");const a=async n=>{if(t&&r){const o=(0,f.p)(),s=(0,f.K)();window.location.href=`https://${o}/authorize?response_type=code&code_challenge_method=S256&code_challenge=${t}&client_id=${s}&redirect_uri=${e}&scope=openid profile offline_access&state=${r}&audience=https://api.replay.io&connection=${n}`}else await o({appState:{returnTo:e},connection:n})};return(0,i.useEffect)((()=>{(0,d.Ox)(null)}),[]),(0,v.jsxs)(g.fH,{theme:"light",children:[(0,v.jsx)(g.D$,{overlay:!0,children:n.g.__IS_RECORD_REPLAY_RUNTIME__&&j?(0,v.jsx)(C,{}):l?(0,v.jsx)(_,{onLogin:a}):(0,v.jsx)(k,{onShowSSOLogin:()=>c(!0),onLogin:a})}),(0,v.jsx)(L,{error:s})]})}},91275:function(e,t,n){"use strict";n.d(t,{D$:function(){return f},M7:function(){return d},Q8:function(){return h},aW:function(){return m},fH:function(){return g},tn:function(){return p},x7:function(){return x},yP:function(){return y}});var r=n(94184),o=n.n(r),s=n(67294),l=n(89289),i=n(36865),c=n(36576),a=n(85893);const u=s.createContext({theme:"dark"});function f({children:e,overlay:t,noLogo:n}){(0,s.useContext)(u);return(0,a.jsxs)("div",{className:o()("relative m-4 flex flex-col items-center rounded-xl bg-loadingBoxes p-9 text-xl text-bodyColor shadow-md",t?"max-w-sm space-y-8":"max-w-2xl space-y-12",{"rounded-lg bg-opacity-80":t}),children:[n?null:(0,a.jsx)("img",{src:"/images/logo.svg",className:"h-24 w-full"}),e]})}function d({children:e}){return(0,a.jsx)("div",{className:"relative flex flex-col items-center space-y-4 text-bodyColor",children:e})}function p({children:e}){return(0,a.jsx)("div",{className:"text-3xl font-extrabold",children:e})}function h({children:e}){return(0,a.jsx)("div",{className:"mx-10 text-center",children:e})}function x({children:e}){return(0,a.jsx)("div",{className:"space-x-6",children:e})}function m({current:e,text:t,setCurrent:n,onNext:r,allowNext:o}){const{0:i,1:c}=(0,s.useState)(!1);(0,s.useEffect)((()=>{o&&i&&n((e=>e+1))}),[o,i,n]);const u=i&&!o?"Loading":t||"Next";return(0,a.jsx)(l.yI,{color:"blue",onClick:()=>{r&&r(),c(!0)},children:u})}function y({children:e,onClick:t=(()=>{}),className:n,disabled:r=!1}){return(0,a.jsx)("button",{type:"button",onClick:t,disabled:r,className:o()(n,"max-w-max items-center rounded-md border border-transparent bg-primaryAccent px-3 py-1.5 font-medium text-white shadow-sm hover:bg-primaryAccentHover focus:outline-none focus:ring-2 focus:ring-primaryAccent focus:ring-offset-2"),children:e})}function g({children:e,theme:t="dark"}){return(0,a.jsx)(u.Provider,{value:{theme:t},children:(0,a.jsxs)("div",{className:o()("fixed z-50 grid h-full w-full bg-black text-white"),children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)(i.ZP,{options:{maskTransparency:"transparent"},blurMask:!1,children:e})]})})}},23800:function(e,t,n){"use strict";n.d(t,{SS:function(){return i},WN:function(){return l},cM:function(){return c},y1:function(){return a}});var r=n(66220),o=n(98369),s=n(81834);const l=()=>new URL(window.location.href).searchParams.get("teaminvite"),i=(e,t)=>1===e&&0===t;function c(e){return(0,s.I)(e,r.Nag.FIRST_REPLAY_2)&&(0,o.sP)()}function a(e,t){return(0,o.sP)()?(t(r.Nag.DOWNLOAD_REPLAY),!1):(0,s.I)(e,r.Nag.DOWNLOAD_REPLAY)}},61379:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/browser/import-settings",function(){return n(21768)}])},41664:function(e,t,n){e.exports=n(7942)},58771:function(e,t,n){"use strict";var r=n(67294);const o=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))}));t.Z=o}},function(e){e.O(0,[9774,2888,179],(function(){return t=61379,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=import-settings-8c525c5ea42395f0.js.map