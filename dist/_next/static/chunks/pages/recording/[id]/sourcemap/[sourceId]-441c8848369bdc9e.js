(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2681],{47056:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var o=t(11163),r=t(67294),i=t(20753);function l(e,n,t,o){const r=o.getElementById("toolbar"),i=o.getElementById("statusBar"),l=o.getElementById("originalStatus"),a=o.getElementById("generatedStatus"),s=new Uint8Array(128),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let k=0;k<s.length;k++)s[k]=255;for(let k=0;k<c.length;k++)s[c.charCodeAt(k)]=k;function d(e){try{e=JSON.parse(e)}catch(a){throw showLoadingError(`The imported source map contains invalid JSON data: ${a&&a.message||a}`),a}if(!(e.sources instanceof Array)||e.sources.some((e=>"string"!==typeof e)))throw showLoadingError('The imported source map is invalid. Expected the "sources" field to be an array of strings.'),new Error("Invalid source map");if("string"!==typeof e.mappings)throw showLoadingError('The imported source map is invalid. Expected the "mappings" field to be a string.'),new Error("Invalid source map");const{sources:n,sourcesContent:t,names:o,mappings:r}=e,i=new Int32Array(0);for(let s=0;s<n.length;s++)n[s]={name:n[s],content:t&&t[s]||"",data:i,dataLength:0};const l=function(e,n,t){const o=e.length;let r=new Int32Array(1024),i=0,l=0,a=0,c=0,d=0,u=0,h=0,g=0,f=!1,m=0;function p(e){const n=`Invalid VLQ data at index ${m}: ${e}`;throw showLoadingError(`The "mappings" field of the imported source map contains invalid data. ${n}.`),new Error(n)}function x(){let n=0,t=0;for(;;){m>=e.length&&p("Unexpected early end of mapping data");const o=e.charCodeAt(m);(127&o)!==o&&p(`Invalid mapping character: ${JSON.stringify(String.fromCharCode(o))}`);const r=s[127&o];if(255===r&&p(`Invalid mapping character: ${JSON.stringify(String.fromCharCode(o))}`),m++,t|=(31&r)<<n,n+=5,0===(32&r))break}return 1&t?-(t>>1):t>>1}for(;m<o;){let s=e.charCodeAt(m);if(59===s){if(f)for(let e=a+6;e<i;e+=6){const n=r[e],t=r[e+1],o=r[e+2],i=r[e+3],l=r[e+4],s=r[e+5];let c=e-6;for(;c>=a&&r[c+1]>t;c-=6)r[c+6]=r[c],r[c+7]=r[c+1],r[c+8]=r[c+2],r[c+9]=r[c+3],r[c+10]=r[c+4],r[c+11]=r[c+5];r[c+6]=n,r[c+7]=t,r[c+8]=o,r[c+9]=i,r[c+10]=l,r[c+11]=s}l++,c=0,a=i,f=!1,m++;continue}if(44===s){m++;continue}const C=x();C<0&&(f=!0),c+=C,c<0&&p(`Invalid generated column: ${c}`);let I=!0,w=!0;if(m<o&&(s=e.charCodeAt(m),44===s?m++:59!==s&&(I=!1,d+=x(),(d<0||d>=n)&&p(`Original source index ${d} is invalid (there are ${n} sources)`),u+=x(),u<0&&p(`Invalid original line: ${u}`),h+=x(),h<0&&p(`Invalid original column: ${h}`),m<o&&(s=e.charCodeAt(m),44===s?m++:59!==s&&(w=!1,g+=x(),(g<0||g>=t)&&p(`Original name index ${g} is invalid (there are ${t} names)`),m<o&&(s=e.charCodeAt(m),44===s?m++:59!==s&&p(`Invalid character after mapping: ${JSON.stringify(String.fromCharCode(s))}`)))))),i+6>r.length){const e=new Int32Array(r.length<<1);e.set(r),r=e}r[i]=l,r[i+1]=c,I?(r[i+2]=-1,r[i+3]=-1,r[i+4]=-1):(r[i+2]=d,r[i+3]=u,r[i+4]=h),r[i+5]=w?-1:g,i+=6}return r.subarray(0,i)}(r,n.length,o.length);return function(e,n){let t=0;for(let i=0,l=n.length;i<l;i+=6){const o=n[i+2];if(-1===o)continue;const r=e[o];let l=r.data,a=r.dataLength;if(a+6>l.length){const e=l.length<<1,n=new Int32Array(e>1024?e:1024);n.set(l),r.data=l=n}l[a]=n[i],l[a+1]=n[i+1],l[a+2]=o,l[a+3]=n[i+3],l[a+4]=n[i+4],l[a+5]=n[i+5],a+=6,r.dataLength=a,a>t&&(t=a)}const o=new Int32Array(t);for(const i of e){const e=i.data.subarray(0,i.dataLength);let n=!1;Object.defineProperty(i,"data",{get:()=>(n||(o.set(e),r(o,0,e.length,e),n=!0),e)})}function r(e,n,t,o){if(t-n<=6)return;const i=6*(t/6+n/6>>1);r(o,n,i,e),r(o,i,t,e),function(e,n,t,o,r){let i=n,l=t;for(let a=n;a<o;a+=6)i<t&&(l>=o||e[i+3]<e[l+3]||e[i+3]===e[l+3]&&e[i+4]<=e[l+4])?(r[a]=e[i],r[a+1]=e[i+1],r[a+2]=e[i+2],r[a+3]=e[i+3],r[a+4]=e[i+4],r[a+5]=e[i+5],i+=6):(r[a]=e[l],r[a+1]=e[l+1],r[a+2]=e[l+2],r[a+3]=e[l+3],r[a+4]=e[l+4],r[a+5]=e[l+5],l+=6)}(e,n,i,t,o)}}(n,l),{sources:n,names:o,data:l}}const u=32;const h=["rgba(25, 133, 255, 0.3)","rgba(174, 97, 174, 0.3)","rgba(255, 97, 106, 0.3)","rgba(250, 192, 61, 0.3)","rgba(115, 192, 88, 0.3)"],g=[[0,24,24,0,12,0,0,12,0,24],[0,28,28,0,40,0,0,40,0,28],[0,44,44,0,56,0,0,56,0,44],[12,64,24,64,64,24,64,12,12,64],[0,60,0,64,8,64,64,8,64,0,60,0,0,60],[28,64,40,64,64,40,64,28,28,64],[0,8,8,0,0,0,0,8],[44,64,56,64,64,56,64,44,44,64],[64,64,64,60,60,64,64,64]],f=h.map((e=>{let n,t,r,i=o.createElement("canvas"),l=i.getContext("2d");return(o,a)=>{if(devicePixelRatio!==n){n=devicePixelRatio,t=Math.round(64*n)/64,i.width=i.height=Math.round(64*t),l.scale(t,t),l.beginPath();for(const e of g)for(let n=0;n<e.length;n+=2)0===n?l.moveTo(e[n],e[n+1]):l.lineTo(e[n],e[n+1]);l.fillStyle=e.replace(" 0.3)"," 0.2)"),l.fill(),r=p.createPattern(i,"repeat")}return r.setTransform(new DOMMatrix([1/t,0,0,1/t,o,a])),r}})),m=o.createElement("canvas"),p=m.getContext("2d"),x="14px monospace",C=21,I=6,w=64;let b,M,S=!0,L=null;function y({sourceIndex:e,unsortedSourceIndex:n,text:t,mappings:r,mappingsOffset:i,otherSource:s,originalName:c,bounds:d}){const u=16;let{lines:g,longestLineInColumns:m}=function(e){p.font=x;const n=p.measureText(" ").width,t=e.split(/\r\n|\r|\n/g),o=new Map;let r=0;for(let i=0;i<t.length;i++){let e=t[i],l=[],a=0,s=e.length+1,c=0;for(;a<s;){let r=a,d=c,u=0,h=!1;for(;a<s;){let t,i=e.charCodeAt(a);if(9===i){if(a>r)break;h=!0,c+=2,c-=c%2,a++,u=i;break}if(i!==i){if(a>r)break;h=!0,c++,a++,u=10;break}if(i<32||i>126){if(a>r)break;for(h=!0,a++,a<s&&i>=55296&&i<=56319&&(t=e.charCodeAt(a))>=56320&&t<=57343&&a++;a<s;)if(i=e.charCodeAt(a),65024===(-16&i))a++;else if(55356===i&&a+1<s&&(t=e.charCodeAt(a+1))>=57339&&t<=57343)a+=2;else{if(8204===i){a++;break}if(8205!==i)break;a++,a<s&&(i=e.charCodeAt(a),a++,i>=55296&&i<=56319&&a<s&&(t=e.charCodeAt(a))>=56320&&t<=57343&&a++)}const l=e.slice(r,a);let d=o.get(l);void 0===d&&(d=Math.round(p.measureText(l).width/n),d<1&&(d=1),o.set(l,d)),c+=d;break}if(32===i){if(a===r)u=i;else if(!u)break}else if(u)break;c++,a++}l.push({whitespace:u,startIndex:r,endIndex:a,startColumn:d,endColumn:c,isSingleChunk:h,text:u?32===u?"\xb7".repeat(a-r):10===u?i+1===t.length?"\u2205":"\u21b5":"\u2192":e.slice(r,a)})}t[i]={raw:e,runs:l,endIndex:a,endColumn:c},r=Math.max(r,c)}return{lines:t,longestLineInColumns:r}}(t),I=null,y=g.length-1,v=0,T=0;for(let o=0,l=r.length;o<l;o+=6){let e=r[o+i],n=r[o+i+1];if(e<g.length){const{endIndex:t,endColumn:o}=g[e];n>o&&(n=n-t+o)}else e>y&&(y=e);n>m&&(m=n)}function k(){let{width:e,height:n}=d();p.font="14px monospace";let t=p.measureText(" ".repeat(64)).width/64,o=Math.round(m*t+10+w+u-e),r=Math.round(y*C),i=null,l=null;if(v=Math.max(0,Math.min(v,o)),T=Math.max(0,Math.min(T,r)),o>0){const n=e-w-8;i={trackLength:n,thumbLength:Math.max(32,n/(1+o/n))}}if(r>0){const e=n-8;l={trackLength:e,thumbLength:Math.max(32,e/(1+r/e))}}return{columnWidth:t,maxScrollX:o,maxScrollY:r,scrollbarX:i,scrollbarY:l}}const P=[];function E(e,n,t,o){let l=n,a=0,s=0,c=e<g.length?g[e].runs:P,d=c.length,u=0,h=0,f=0,m=!1;if(d>0){let e=c[d-1];for(u=e.endIndex,h=e.endColumn,f=e.startIndex,m=10===e.whitespace,a=0;d>0;){let e=d>>1,t=a+e;c[t].endColumn<n?(a=t+1,d-=e+1):d=e}for(a>=c.length&&a--,s=a;c[s].startColumn>n&&s>0;)s--;for(;c[s].endColumn<n&&s+1<c.length;)s++;let r=c[s];r.isSingleChunk&&n<=r.endColumn?"round"===o&&t>=(r.startColumn+r.endColumn)/2||"floor"===o&&t>=r.endColumn?(l=r.endIndex,n=r.endColumn):(l=r.startIndex,n=r.startColumn):l=r.startIndex+n-r.startColumn}let p=0,x=r.length;for(;x>0;){let n=6*(x/6>>1),t=p+n,o=r[t+i];o<e||o===e&&r[t+i+1]<l?(p=t+6,x-=n+6):x=n}p>0&&r[p-6+i]===e&&(p>=r.length||r[p+i]>e||r[p+i+1]>l)&&(p-=6);const C=r[p+i+1];for(;p>0&&r[p-6+i]===e&&r[p-6+i+1]===C;)p-=6;function I(e){let n=e;if(c.length>0){for(;c[s].startIndex>e&&s>0;)s--;for(;c[s].endIndex<e&&s+1<c.length;)s++;let t=c[s];n=e===t.endIndex?t.endColumn:t.startColumn+e-t.startIndex}return n}return{index:l,column:n,firstRun:a,runs:c,firstMapping:p,endOfLineIndex:u,endOfLineColumn:h,columnToIndex:function(e){let n=e;if(c.length>0){for(;c[s].startColumn>e&&s>0;)s--;for(;c[s].endColumn<e&&s+1<c.length;)s++;let t=c[s];n=e===t.endColumn?t.endIndex:t.endIndex+e-t.startColumn}return n},indexToColumn:I,rangeOfMapping:function(n){if(r[n+i]!==e)return null;let t=r[n+i+1],o=t>u?t:m&&t<f?f:u,l=!1;if(n>0&&r[n-6+i]===e&&r[n-6+i+1]===t)return null;for(;n+6<r.length&&r[n+6+i]===e&&r[n+6+i+1]===t;)n+=6;return n+6<r.length&&r[n+6+i]===e?o=r[n+6+i+1]:o===t&&(l=!0),{startIndex:t,startColumn:I(t),endIndex:o,endColumn:I(o),isLastMappingInLine:l}}}}function A(e,n,t,o,{startColumn:r,endColumn:i}){const l=Math.round(e-v+w+5+r*o+1),a=Math.round(e-v+w+5+(r===i?r*o+4:i*o)-1);return[l,Math.round(n+1-T+t*C+2),a,Math.round(n+1-T+(t+1)*C-2)]}return{sourceIndex:e,unsortedSourceIndex:n,bounds:d,getHoverRect(){const n=null===e?L.mapping.generatedLine:L.mapping.originalLine,t=null===e?L.mapping.generatedColumn:L.mapping.originalColumn,o=E(n,t,t,"floor").indexToColumn(t),{firstMapping:r,rangeOfMapping:i}=E(n,o,o,"floor"),l=i(r);if(!l)return null;const{x:a,y:s}=d(),{columnWidth:c}=k(),[u,h,g,f]=A(a,s,n,c,l);return[u,h,g-u,f-h]},onwheel(e){let{x:n,y:t,width:o,height:r}=d();e.pageX>=n&&e.pageX<n+o&&e.pageY>=t&&e.pageY<t+r&&(v=Math.round(v+e.deltaX),T=Math.round(T+e.deltaY),k(),S=!0,this.onmousemove(e))},onmousemove(n){const{x:t,y:o,width:i,height:l}=d();if(n.pageX>=t+w&&n.pageX<t+i&&n.pageY>=o&&n.pageY<o+l){const{columnWidth:i}=k(),l=(n.pageX-t-w-5+v)/i,a=Math.round(l);if(a>=0){const t=Math.floor((n.pageY-o-1+T)/C);if(t>=0){const n=Math.floor(l),{index:o,column:i}=E(t,a,l,"round"),{index:s,firstMapping:c,rangeOfMapping:d}=E(t,n,l,"floor");let u=null;const h=d(c);null!==h&&(h.isLastMappingInLine&&h.startIndex===o||s>=h.startIndex&&s<h.endIndex)&&(u={generatedLine:r[c],generatedColumn:r[c+1],originalSource:r[c+2],originalLine:r[c+3],originalColumn:r[c+4],originalName:r[c+5]}),L={sourceIndex:e,row:t,column:i,index:o,mapping:u}}}}},onmousedown(n){const{x:t,y:r,width:i,height:l}=d(),a=n.pageX-t,s=n.pageY-r;if(a<0||s<0||a>=i||s>=l)return;const{maxScrollX:c,maxScrollY:h,scrollbarX:g,scrollbarY:f}=k();let m;if(g&&s>l-u){let e=v;m=n=>{v=Math.round(e+(n.pageX-t-a)*c/(g.trackLength-g.thumbLength)),k(),S=!0}}else{if(!(f&&a>i-u))return void(L&&L.mapping&&(null!==e?M.scrollTo(L.mapping.generatedColumn,L.mapping.generatedLine):(b.unsortedSourceIndex!==L.mapping.originalSource&&(fileList.selectedIndex=L.mapping.originalSource,fileList.onchange()),b.scrollTo(L.mapping.originalColumn,L.mapping.originalLine))));{let e=T;m=n=>{T=Math.round(e+(n.pageY-r-s)*h/(f.trackLength-f.thumbLength)),k(),S=!0}}}let p=()=>{o.removeEventListener("mousemove",m),o.removeEventListener("mouseup",p)};o.addEventListener("mousemove",m),o.addEventListener("mouseup",p),n.preventDefault()},scrollTo(e,n){const t=Date.now(),o=v,r=T,{width:i,height:l}=d(),{columnWidth:a}=k(),{indexToColumn:s}=E(n,e,e,"floor"),c=s(e),{firstMapping:u,rangeOfMapping:h}=E(n,c,c,"floor"),g=h(u),f=g?g.startColumn+Math.min((g.endColumn-g.startColumn)/2,(i-w)/4/a):c,m=Math.max(0,Math.round(f*a-(i-w)/2)),p=Math.max(0,Math.round((n+.5)*C-l/2));if(o===m&&r===p)return;I=()=>{S=!0;let e=(Date.now()-t)/250;e>=1?(v=m,T=p,I=null):(e*=e*(3-2*e),v=o+(m-o)*e,T=r+(p-r)*e)},I()},draw(n){I&&I();const{x:t,y:o,width:m,height:b}=d(),M=n.color,S=n.backgroundColor,{columnWidth:P,maxScrollX:O,maxScrollY:R,scrollbarX:N,scrollbarY:$}=k(),X=Math.max(0,Math.floor((v-5)/P)),Y=Math.max(0,Math.ceil((v-5+m-w)/P)),j=Math.max(0,Math.floor((T-1)/C)),W=Math.max(0,Math.ceil((T-1+b)/C)),_=[],D=L&&L.mapping,B=[],H=[],U=[],J=[];let z=null;for(let e=0;e<h.length;e++)B.push([]),H.push([]);for(let l=j;l<=W;l++){let n=t-v+w+5,a=o-T+1;a+=(l+.7)*C;const{firstRun:s,runs:d,firstMapping:u,endOfLineColumn:f,rangeOfMapping:m,columnToIndex:p}=E(l,X,X,"floor"),x=p(Y);if(s<d.length){let e=s;for(;e+1<d.length&&d[e+1].startColumn<Y;)e++;let t=X;for(let o=s;o<=e;o++){let{whitespace:e,text:r,startColumn:i,endColumn:l,isSingleChunk:s}=d[o];s||(i<t&&(r=r.slice(t-i),i=t),l>Y&&(r=r.slice(0,Y-i),l=Y)),(e?U:J).push(r,n+i*P,a),t=l}}for(let I=u;I<r.length&&!(r[I+i]!==l||r[I+i+1]>=x);I+=6){if(-1===r[I+2])continue;const n=m(I);if(null===n)continue;const{startColumn:i,endColumn:a}=n,s=r[I+3]%h.length,[d,u,p,x]=A(t,o,l,P,n);let b=!1;if(D){const i=null===e,a=null===L.sourceIndex,s=r[I]===D.generatedLine&&r[I+1]===D.generatedColumn,d=r[I+2]===D.originalSource&&r[I+3]===D.originalLine&&r[I+4]===D.originalColumn;b=D&&(i!==a?s||d:i?s:d),i&&s&&-1!==D.originalName&&(z={text:c(D.originalName),x:Math.round(t-v+w+5+n.startColumn*P-2),y:Math.round(o+1-T+(l+1.2)*C)})}if(b)_.push({color:s,rect:[d-2,u-2,p-d+4,x-u+4]});else if(l>=g.length||i>f)H[s].push(d,u,p-d,x-u);else if(a>f){let e=Math.round(d+(f-i)*P);B[s].push(d,u,e-d,x-u),H[s].push(e,u,p-e,x-u)}else B[s].push(d,u,p-d,x-u)}}p.save(),p.beginPath(),p.rect(t,o,m,b),p.clip();for(let e=0;e<B.length;e++){let n=B[e];if(n.length>0){p.fillStyle=h[e];for(let e=0;e<n.length;e+=4)p.fillRect(n[e],n[e+1],n[e+2],n[e+3])}if(n=H[e],n.length>0){p.fillStyle=f[e](-v,-T);for(let e=0;e<n.length;e+=4)p.fillRect(n[e],n[e+1],n[e+2],n[e+3])}}let F="";if(_.length>0){p.shadowBlur=20,p.fillStyle="black";for(const{rect:[e,n,t,o],color:r}of _)p.shadowColor=h[r].replace(" 0.3)"," 1)"),p.fillRect(e-1,n-1,t+2,o+2);p.shadowColor="transparent";for(const{rect:[e,n,t,o]}of _)p.clearRect(e,n,t,o);p.strokeStyle=M,p.lineWidth=2;for(const{rect:[e,n,t,o]}of _)p.strokeRect(e,n,t,o);for(const{rect:[e,n,t,o]}of _)p.clearRect(e+2,n+1,t-4,o-2)}else if(L&&L.sourceIndex===e){const e=Math.round(t-v+w+5+L.column*P),n=Math.round(o-T+1+L.row*C);p.fillStyle=M,p.globalAlpha=.5,p.fillRect(e,n,1,C),p.globalAlpha=1,F=`Line ${L.row+1}, Offset ${L.index}`}if(D&&-1!==D.originalColumn&&(null===e?F=`Line ${D.generatedLine+1}, Offset ${D.generatedColumn}`:(F=`Line ${D.originalLine+1}, Offset ${D.originalColumn}`,D.originalSource!==e&&(F+=` in ${s(D.originalSource)}`))),(null===e?a:l).textContent=F,p.textBaseline="alphabetic",p.textAlign="left",U.length>0){p.fillStyle="rgba(150, 150, 150, 0.4)";for(let e=0;e<U.length;e+=3)p.fillText(U[e],U[e+1],U[e+2])}if(J.length>0){p.fillStyle=M;for(let e=0;e<J.length;e+=3)p.fillText(J[e],J[e+1],J[e+2])}if(z){const{text:e,x:n,y:t}=z,o=10+p.measureText(e).width,r=C,i=4;p.beginPath(),p.arc(n+i,t+i,i,-Math.PI,-Math.PI/2,!1),p.arc(n+o-i,t+i,i,-Math.PI/2,0,!1),p.arc(n+o-i,t+r-i,i,0,Math.PI/2,!1),p.arc(n+i,t+r-i,i,Math.PI/2,Math.PI,!1),p.save(),p.shadowColor="rgba(0, 0, 0, 0.5)",p.shadowOffsetY=3,p.shadowBlur=10,p.fillStyle=M,p.fill(),p.restore(),p.fillStyle=S,p.fillText(e,n+5,t+14.7)}if(v>0){let e=p.createLinearGradient(t+w,0,t+w+16,0);for(let n=0;n<=10;n++){let t=n/10;e.addColorStop(t,`rgba(0, 0, 0, ${(1-t)*(1-t)*.2})`)}p.fillStyle=e,p.fillRect(t+w,o,16,b)}if(N){let e=t+w+v/O*(N.trackLength-N.thumbLength),n=o+b-u;p.fillStyle="rgba(127, 127, 127, 0.5)",p.beginPath(),p.arc(e+8,n+8,4,Math.PI/2,3*Math.PI/2,!1),p.arc(e+N.thumbLength-8,n+8,4,-Math.PI/2,Math.PI/2,!1),p.fill()}if($){let e=t+m-u,n=o+T/R*($.trackLength-$.thumbLength);p.fillStyle="rgba(127, 127, 127, 0.5)",p.beginPath(),p.arc(e+8,n+8,4,-Math.PI,0,!1),p.arc(e+8,n+$.thumbLength-8,4,0,Math.PI,!1),p.fill()}p.fillStyle=S,p.fillRect(t,o,w,b),p.fillStyle="rgba(127, 127, 127, 0.1)",p.fillRect(t,o,w,b),p.fillStyle="rgba(127, 127, 127, 0.5)",p.fillRect(t+w-1,o,1,b),p.textAlign="right",p.fillStyle=M,p.font="11px monospace";for(let e=j;e<=W&&e<=y;e++){let n=t+w-5,r=o-T+1;r+=(e+.6)*C,p.globalAlpha=e<g.length?.625:.25,p.fillText((e+1).toString(),n,r)}p.font=x,p.globalAlpha=1,p.restore()}}}o.onmousemove=e=>{let n=L;L=null,b&&b.onmousemove(e),M&&M.onmousemove(e),JSON.stringify(L)!==JSON.stringify(n)&&(S=!0)},o.onmousedown=e=>{b&&b.onmousedown(e),M&&M.onmousedown(e)},onblur=()=>{L&&(L=null,S=!0)},m.addEventListener("wheel",(e=>{e.preventDefault(),b&&b.onwheel(e),M&&M.onwheel(e)}),{passive:!1}),onresize=()=>{let e=innerWidth,n=innerHeight,t=devicePixelRatio;m.style.width=e+"px",m.style.height=n+"px",m.width=Math.round(e*t),m.height=Math.round(n*t),p.scale(t,t),S=!0},o.body.appendChild(m),onresize(),function e(){if(requestAnimationFrame(e),!S)return;if(S=!1,p.clearRect(0,0,innerWidth,innerHeight),!M)return;const n=getComputedStyle(o.body);if(b&&b.draw(n),M.draw(n),p.fillStyle="rgba(127, 127, 127, 0.2)",p.fillRect((innerWidth>>>1)-(I>>1),u,I,innerHeight-u-32),L&&L.mapping&&b&&b.unsortedSourceIndex===L.mapping.originalSource){const e=b.getHoverRect(),t=M.getHoverRect();if(e&&t){const o=n.color,r=b.bounds(),i=M.bounds(),l=L.sourceIndex===M.unsortedSourceIndex,a=L.sourceIndex===b.unsortedSourceIndex,[s,c,d,h]=e,[g,f,,m]=t,x=Math.min(s+d,r.x+r.width)+(l?10:2),C=Math.max(g,i.x+w)-(a?10:2),I=c+h/2,S=f+m/2;p.save(),p.beginPath(),p.rect(0,u,innerWidth,innerHeight-u-32),p.clip(),p.beginPath(),p.moveTo(x,I),p.bezierCurveTo((x+2*C)/3+32,I,(2*x+C)/3-32,S,C,S),p.strokeStyle=o,p.lineWidth=2,p.stroke(),p.beginPath(),l&&(p.moveTo(x-10,I),p.lineTo(x,I+5),p.lineTo(x,I-5)),a&&(p.moveTo(C+10,S),p.lineTo(C,S+5),p.lineTo(C,S-5)),p.fillStyle=o,p.fill(),p.restore()}}}();let v=matchMedia("(prefers-color-scheme: dark)");try{v.addEventListener("change",(()=>S=!0))}catch(T){v.addListener((()=>S=!0))}!function(e,n){const l=Date.now();r.style.display="flex",i.style.display="flex",m.style.display="block";const a=d(n);let s=-1;const c=new Map;a.sources.forEach(((e,n)=>{c.set(e.name,n)}));const h=a.sources.slice().sort(((e,n)=>e.name.localeCompare(n.name)));for(let r=h,i=0,d=h.length;i<d;i++){const e=o.createElement("option");e.textContent=r[i].name,fileList.appendChild(e),r[i].name===t&&(s=i)}const g=e=>-1===e?null:h[e].name,f=e=>a.names[e];if(b=null,h.length>0){const e=()=>{const e=h[fileList.selectedIndex];b=y({sourceIndex:fileList.selectedIndex,unsortedSourceIndex:c.get(e.name),text:e.content,mappings:e.data,mappingsOffset:3,otherSource:g,originalName:f,bounds:()=>({x:0,y:u,width:(innerWidth>>>1)-(I>>1),height:innerHeight-u-32})}),S=!0};setTimeout((()=>{s>=0&&(fileList.selectedIndex=s),fileList.onchange=e,e()}),0)}else{const e=o.createElement("option");e.textContent="(no original code)",e.disabled=!0,fileList.appendChild(e)}fileList.selectedIndex=0,M=y({sourceIndex:null,text:e,mappings:a.data,mappingsOffset:0,otherSource:g,originalName:f,bounds(){const e=(innerWidth>>1)+(I+1>>1);return{x:e,y:u,width:innerWidth-e,height:innerHeight-u-32}}}),S=!0;const p=Date.now();console.log(`Finished loading in ${p-l}ms`)}(e,n)}var a=t(29675),s=t(24384),c=t(50155),d=t(55993),u=t(50734),h=t(6992),g=t(5852),f=t(85893),m=t(34155);function p({source:e,map:n,url:t}){const o=(0,h.TL)();return(0,r.useEffect)((()=>{document.body.className="sourcemap-visualizer",o((0,a.setAppMode)("sourcemap-visualizer")),l(e,n,t,document)}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{id:"toolbar",children:(0,f.jsx)("div",{id:"fileListParent",children:(0,f.jsx)("select",{id:"fileList"})})}),(0,f.jsxs)("div",{id:"statusBar",children:[(0,f.jsx)("section",{children:(0,f.jsx)("div",{id:"originalStatus"})}),(0,f.jsx)("section",{children:(0,f.jsx)("div",{id:"generatedStatus"})})]})]})}function x(){const e=(0,h.qr)(),n=(0,u.useGetRecordingId)(),t=(0,o.useRouter)().query.sourceId,{0:l,1:x}=(0,r.useState)();if((0,r.useEffect)((()=>{(async function(e,n,t){try{if(!(await t.dispatch((0,s.getAccessibleRecording)(e))))return{error:"The recording is not accessible"};const o=new URL(location.href).searchParams.get("dispatch")||m.env.NEXT_PUBLIC_DISPATCH_URL,r=(0,i.initSocket)(o);null!=window.app&&(window.app.socket=r);const l=await g.Z.getToken();l.token&&await i.client.Authentication.setAccessToken({accessToken:l.token});const{sessionId:c}=await i.client.Recording.createSession({recordingId:e});i.client.Session.ensureProcessed({level:"basic"},c),i.client.Session.addUnprocessedRegionsListener((e=>t.dispatch((0,a.onUnprocessedRegions)(e))));const d=await Promise.race([i.client.Debugger.findSources({},c),new Promise((e=>{i.client.Debugger.addNewSourceListener((t=>{if(t.sourceId===n)if(t.generatedSourceIds?.length){const n=t.url?decodeURI(t.url):void 0;e({id:t.generatedSourceIds[0],url:n})}else e({id:n})}))}))]);if(!("id"in d))return{error:"Source not found"};const{id:u,url:h}=d,{contents:f}=await i.client.Debugger.getSourceContents({sourceId:u},c),{contents:p}=await i.client.Debugger.getSourceMap({sourceId:u},c);return{source:f,map:p,url:h}}catch(o){return{error:o.message||"Failed to load sourcemap"}}})(n,t,e).then(x)}),[n,t,e]),!l)return(0,f.jsx)(d.Z,{fallbackMessage:"Loading source information..."});if("error"in l){const e={message:"Error",content:l.error};return(0,f.jsx)(c.Od,{error:e})}if(!l.map){const e={message:"No sourcemap",content:"There is no sourcemap for this source"};return(0,f.jsx)(c.Od,{error:e})}return(0,f.jsx)(p,{source:l.source,map:l.map,url:l.url})}},71833:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recording/[id]/sourcemap/[sourceId]",function(){return t(47056)}])}},function(e){e.O(0,[9774,2888,179],(function(){return n=71833,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=[sourceId]-441c8848369bdc9e.js.map