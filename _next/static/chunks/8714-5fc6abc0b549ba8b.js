(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8714],{53320:function(e,n,t){"use strict";t.d(n,{F$:function(){return m},ZP:function(){return j}});var r=t(59499),i=t(47166),s=t.n(i),a=(t(67294),t(15243)),o=t(81834),l=t(97125),c=t.n(l),d=t(85893);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const h=s().bind(c()),m=e=>(0,d.jsx)("img",p(p({"data-private":!0},e),{},{src:e.src||void 0,onError:e=>e.currentTarget.src="/images/clear.png"})),x=({user:e})=>(0,d.jsx)("div",{className:h("avatar authenticated firstPlayer"),children:(0,d.jsx)(m,{src:e.picture})});function j({player:e,isFirstPlayer:n,index:t}){let r=(0,a.Z)();return r.isAuthenticated&&n?(0,d.jsx)(x,{user:r.user}):e.name?(0,d.jsx)("div",{className:h("avatar"),title:e.name,children:(0,d.jsx)(m,{src:e.picture})}):(0,d.jsx)("div",{className:h("avatar"),title:"Anonymous User",style:{background:(0,o.h)(t)}})}},92182:function(e,n,t){"use strict";t.d(n,{Im:function(){return p},Lt:function(){return d},YV:function(){return h},hP:function(){return u}});var r=t(40414),i=t(94184),s=t.n(i),a=(t(67294),t(84337)),o=t(68925),l=t.n(o),c=t(85893);function d({children:e,menuItemsClassName:n,widthClass:t="w-56",fontSizeClass:i="text-sm"}){return(0,c.jsx)(r.v,{as:"div",className:"recording-options inline-block text-left shadow-lg",children:({open:a})=>(0,c.jsx)(r.v.Items,{static:!0,className:s()(n,t,i,"right-0 origin-top-right rounded-md border-modalBorder bg-menuBgcolor shadow-lg ring-1 ring-black ring-opacity-5 backdrop-blur-sm focus:outline-none"),children:(0,c.jsx)("div",{className:"py-1",children:e})})})}function u({children:e,onClick:n}){return(0,c.jsx)(r.v.Item,{children:({active:t})=>(0,c.jsx)("a",{href:"#",className:s()(t?"bg-menuHoverBgcolor text-menuHoverColor":"text-menuColor","block px-4 py-2"),onClick:n,children:e})})}function p({children:e,icon:n,selected:t}){return(0,c.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,c.jsx)("div",{className:s()("flex w-4 flex-row items-center"),children:(0,c.jsx)(a.Z,{filename:n,className:s()("group-hover:bg-primaryAccent",t?"bg-primaryAccent":"bg-gray-400")})}),(0,c.jsx)("span",{className:"overflow-hidden overflow-ellipsis whitespace-pre",children:e})]})}function h(){return(0,c.jsx)("div",{className:`w-full ${l().dropdownDivider}`})}},16626:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(67294),i=t(11877),s=t(53522),a=t(81217),o=t(85893);const l={"admin:all":"Create recordings","write:sourcemap":"Upload source maps"};function c({keyValue:e,onDone:n}){const{0:t,1:i}=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t&&setTimeout((()=>i(!1)),2e3)}),[t,i]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center justify-between space-x-3",children:[(0,o.jsx)("div",{className:"w-0 flex-auto",children:(0,o.jsxs)("div",{className:"flex h-9 w-full items-center rounded-md border border-textFieldBorder bg-themeTextFieldBgcolor px-2.5 text-themeTextFieldColor text-primaryAccent",children:[(0,o.jsx)("input",{readOnly:!0,value:e,className:"flex-auto truncate bg-themeTextFieldBgcolor focus:outline-none",onFocus:n=>n.target.setSelectionRange(0,e.length)}),t?(0,o.jsx)("div",{className:"text-primaryAccent",children:"Copied"}):(0,o.jsx)(a.Z,{className:"material-icons w-5 cursor-pointer text-primaryAccent hover:text-primaryAccentHover",iconSize:"lg",onClick:()=>navigator.clipboard.writeText(e).then((()=>i(!0))),children:"assignment_outline"})]})}),(0,o.jsx)("button",{className:"inline-flex h-9 items-center rounded-md border border-transparent bg-primaryAccent px-2.5 py-1.5 font-medium leading-4 text-buttontextColor shadow-sm hover:bg-primaryAccentHover focus:bg-primaryAccentHover focus:outline-none",onClick:n,children:"Done"})]}),(0,o.jsxs)("div",{className:"flex items-center rounded-md border border-textFieldBorder bg-red-100 p-2.5 text-red-800",children:["Make sure to copy your API key now. You won","'","t be able to see it again!"]})]})}function d({apiKeys:e,onDelete:n}){const{confirmDestructive:t}=(0,i.N4)();return 0===e.length?null:(0,o.jsxs)("section",{className:"flex flex-auto flex-col",children:[(0,o.jsx)("h3",{className:"text-base font-semibold uppercase",children:"API Keys"}),(0,o.jsx)("div",{className:"h-0 flex-auto overflow-auto",children:e.map((e=>{const r="number"===typeof e.maxRecordings?`(${e.recordingCount} / ${e.maxRecordings} recordings)`:`(${e.recordingCount} recordings)`;return(0,o.jsxs)("div",{className:"flex flex-row items-center py-1.5",children:[(0,o.jsxs)("span",{className:"flex-auto","data-private":!0,children:[e.label,(0,o.jsx)("span",{className:"ml-2 text-gray-500",children:r})]}),(0,o.jsx)("button",{className:"inline-flex items-center rounded-md bg-gray-100 p-2.5 text-sm leading-4 text-red-500 shadow-sm hover:text-red-700 focus:text-red-700 focus:outline-none",onClick:()=>{t({message:"Delete API key?",description:"This action will permanently delete this API key. \n\nAre you sure you want to proceed?",acceptLabel:"Delete API key"}).then((t=>{t&&n(e.id)}))},children:"Delete"})]},e.id)}))})]})}function u({apiKeys:e,description:n,error:t,loading:i,addKey:a,deleteKey:u,scopes:p=[]}){const h=(0,r.useRef)(null),{0:m,1:x}=(0,r.useState)(),{0:j,1:b}=(0,r.useState)(p),{0:v,1:f}=(0,r.useState)(""),y=v&&!i&&j.length>0,g=(0,r.useMemo)((()=>[...e].sort(((e,n)=>new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime()))),[e]);return(0,r.useEffect)((()=>{h.current?.focus()}),[m]),(0,o.jsxs)("div",{className:"flex h-0 flex-auto flex-col space-y-8",children:[(0,o.jsx)("label",{className:"setting-item",children:(0,o.jsx)("div",{className:"description",children:n})}),t?(0,o.jsx)("div",{children:"Unable to add an API key at this time. Please try again later."}):m?(0,o.jsx)(c,{keyValue:m,onDone:()=>x(void 0)}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("section",{className:"space-y-2.5 text-sm",children:[(0,o.jsx)("h3",{className:"text-xs font-semibold uppercase",children:"Create new API Key"}),(0,o.jsxs)("form",{className:"space-y-3",onSubmit:e=>{y&&a(v,j).then((e=>{b(p),x(e.keyValue),f("")})),e.preventDefault()},children:[(0,o.jsxs)("fieldset",{className:"flex w-full flex-row space-x-1.5",children:[(0,o.jsx)(s.Z,{disabled:i,placeholder:"API Key Label",onChange:e=>f(e.target.value),ref:h,value:v}),(0,o.jsx)("button",{type:"submit",disabled:!y,className:"inline-flex items-center rounded-md border border-transparent bg-primaryAccent px-2.5 py-1.5 font-medium leading-4 text-buttontextColor shadow-sm focus:outline-none "+(y?"hover:bg-primaryAccentHover focus:bg-primaryAccentHover":"opacity-60"),children:"Add"})]}),p&&p.length>1?(0,o.jsxs)("fieldset",{className:"w-full",children:[(0,o.jsx)("h4",{className:"text-sm font-semibold uppercase",children:"Permissions"}),p.map((e=>(0,o.jsxs)("label",{className:"mx-1.5 inline-block space-x-1.5",children:[(0,o.jsx)("input",{type:"checkbox",onChange:n=>b((t=>n.target.checked?[...t,e]:t.filter((n=>n!==e)))),checked:j.includes(e)}),(0,o.jsx)("span",{children:l[e]})]},e))),0===j.length?(0,o.jsx)("div",{className:"mt-2.5 flex items-center rounded-md border border-textFieldBorder bg-red-100 p-2.5",children:"At least one permission must be selected."}):null]}):null]})]}),(0,o.jsx)(d,{apiKeys:g,onDelete:e=>{u(e),h.current?.focus()}})]})]})}},59090:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(59499),i=t(4730),s=(t(67294),t(85893));const a=["src"];function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e){let{src:n}=e,t=(0,i.Z)(e,a);return n?(0,s.jsx)("img",l(l({},t),{},{src:`data:image/png;base64,${n}`})):null}},84337:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(59499),i=(t(67294),t(85893));function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const o={custom:{},small:{height:"1rem",width:"1rem"},medium:{height:"1.25rem",width:"1.25rem"},large:{height:"1.5rem",width:"1.5rem"},"extra-large":{height:"2rem",width:"2rem"}};function l({filename:e,className:n="bg-gray-800",size:t="medium",style:r={}}){const s=o[t];return(0,i.jsx)("div",{className:`icon ${e} ${n}`,style:a(a({},s),r)})}},91637:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(94184),i=t.n(r),s=t(67294),a=t(53368),o=t(85893);function l({text:e,isLarge:n=!1,isCenter:t=!1}){const{0:r,1:a}=(0,s.useState)(!1),l=(0,s.useRef)(null);return(0,o.jsxs)("div",{className:"relative flex w-full flex-col items-center p-0.5",children:[(0,o.jsx)("input",{className:i()(n?"text-xl":"text-sm",t?"text-center":"","block w-full rounded-md border border-textFieldBorder bg-themeTextFieldBgcolor px-2.5 py-1.5 text-themeTextFieldColor focus:border-primaryAccent focus:ring-primaryAccent"),type:"text",value:e,onKeyPress:e=>e.preventDefault(),onChange:e=>e.preventDefault(),onClick:()=>{navigator.clipboard.writeText(e),l.current&&clearTimeout(l.current),a(!0),l.current=setTimeout((()=>a(!1)),2e3)}}),r?(0,o.jsx)("div",{className:"absolute bottom-full mb-1.5 rounded-lg bg-gray-500 bg-opacity-90 p-1.5 text-base text-gray-200 shadow-2xl",children:"Copied"}):null]})}function c({workspace:e}){const n=a.Z.useUpdateWorkspaceCodeDomainLimitations();if("gmail.com"==e?.domain)return null;const t=(0,o.jsxs)("span",{children:["Restrict this invite link to users with a"," ",(0,o.jsx)("span",{className:"font-medium ",children:e.domain})," email address"]});return(0,o.jsxs)("div",{className:"flex flex-row items-center space-x-3 px-1.5",children:[(0,o.jsx)("input",{id:"domain-limited",className:"outline-none focus:outline-none",type:"checkbox",disabled:!e,checked:!!e?.isDomainLimitedCode,onChange:()=>{e&&n({variables:{workspaceId:e.id,isLimited:!e.isDomainLimitedCode}})}}),(0,o.jsx)("label",{htmlFor:"domain-limited",children:e?t:"Give access with anyone with a replay.io email address"})]})}function d({workspaceId:e,showDomainCheck:n=!0,isLarge:t=!1,hideHeader:r=!1,overlay:i=!1}){const{workspaces:s,loading:d}=a.Z.useGetNonPendingWorkspaces(),u=s?.find((n=>e==n.id));if(!u)return null;const p=d?"Loading URL":`https://app.replay.io/team/invitation?code=${u.invitationCode}`;return(0,o.jsxs)("div",{className:"relative flex w-full flex-col space-y-3",children:[i?(0,o.jsx)("div",{className:"pointer-events-none absolute -inset-8 top-0 bg-themeBase-60 opacity-10"}):null,r?null:(0,o.jsx)("div",{className:"font-bold",children:"Invite link"}),(0,o.jsx)(l,{text:p,isLarge:t}),n?(0,o.jsx)(c,{workspace:u}):null]})}},61753:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(59499),i=t(67294),s=t(73935),a=t(65036),o=t(6992),l=t(85893);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e){const n=(0,i.useRef)(null),{0:t,1:r}=(0,i.useState)(null),{buttonContent:c,children:u,position:p="bottom-left",buttonStyle:h="primary",style:m,expanded:x}=e,j=function(e,n,t){if(e.expanded&&n.current){const r=n.current.getBoundingClientRect(),i=document.body.getBoundingClientRect(),s=t?.getBoundingClientRect(),{left:a,right:o,top:l,bottom:c}=r,{width:d,height:u}=i,p=e.distance||5;let h=e.position||"bottom-left";switch(function(e,n){const t=[];if(!n)return[];e.bottom<n.bottom&&t.push("bottom");e.top>n.top&&t.push("top");return t}(i,s).forEach((e=>{h.includes(e)&&(h=function(e,n){const t={top:"bottom",bottom:"top"};return e.replace(n,t[n])}(h,e))})),h){case"top-right":return{bottom:u-l+p+"px",left:a+"px"};case"bottom-right":return{top:c+p+"px",left:a+"px"};case"top-left":return{bottom:u-l+p+"px",right:d-o+"px"};case"bottom-left":return{top:c+p+"px",right:d-o+"px"}}}return{}}(e,n,t),b=(0,o.CG)(a.getToolboxLayout);return(0,l.jsxs)("div",{className:"portal-dropdown-wrapper",children:[(0,l.jsx)("button",{type:"button",className:`expand-dropdown flex w-full ${h}`,disabled:e.disabled,id:"portal-dropdown-button","data-test-id":"consoleDockButton","data-test-state":b,onMouseDown:n=>{0===n.button&&(n.stopPropagation(),n.preventDefault(),e.setExpanded(!0))},ref:n,children:c}),x?(0,s.createPortal)((0,l.jsxs)("div",{className:"portal-dropdown-container",children:[(0,l.jsx)("div",{className:"mask",onClick:n=>{n.stopPropagation(),n.preventDefault(),e.setExpanded(!1)}}),(0,l.jsx)("div",{className:`content ${p}`,style:d(d({},m),j),ref:r,children:u})]}),document.body):null]})}},98481:function(e,n,t){"use strict";t.d(n,{VA:function(){return c},ZP:function(){return d},bF:function(){return l}});var r=t(59499),i=(t(67294),t(85893));function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o({children:e}){return(0,i.jsx)("main",{className:"flex w-full flex-col overflow-hidden p-8 pr-2 text-sm",children:e})}function l({children:e}){return(0,i.jsx)("h1",{className:"text-2xl",children:e})}function c({children:e}){return(0,i.jsx)("h2",{className:"text-lg",children:e})}function d({panelProps:e,selectedSetting:n}){const{title:t}=n;return(0,i.jsxs)(o,{children:[n.noTitle?null:(0,i.jsx)(l,{children:t}),(0,i.jsx)(n.component,a({},e))]})}},66916:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(94184),i=t.n(r),s=t(67294),a=t(2664),o=t(29675),l=t(85893);var c=(0,a.$j)(null,{hideModal:o.hideModal})((function({hideModal:e,children:n,showClose:t=!0}){return(0,l.jsxs)("div",{className:"modal-container",children:[(0,l.jsx)("div",{className:"modal-mask",onClick:e}),(0,l.jsxs)("div",{className:"modal-content overflow-hidden text-sm",children:[t&&(0,l.jsx)("button",{className:"modal-close",onClick:e,children:(0,l.jsx)("div",{className:"img close"})}),n]})]})})),d=t(98481),u=t(81217);function p({setting:e,selectedTab:n,setSelectedTab:t}){const{title:r,icon:s}=e;return(0,l.jsxs)("li",{onClick:()=>{t(r)},className:i()({selected:r===n}),children:[(0,l.jsx)(u.Z,{iconSize:"lg",children:s}),(0,l.jsx)("span",{children:r})]})}function h({hiddenTabs:e,settings:n,selectedTab:t,setSelectedTab:r,title:i="Settings"}){return(0,l.jsxs)("nav",{style:{maxWidth:240},children:[(0,l.jsx)(d.bF,{children:i}),(0,l.jsx)("ul",{children:n.filter((n=>!e||!e.includes(n.title))).map(((e,n)=>(0,s.createElement)(p,{setting:e,selectedTab:t,setSelectedTab:r,key:n})))})]})}var m=function({tab:e,hiddenTabs:n,loading:t,panelProps:r,settings:a,size:o="sm",title:u}){const{0:p,1:m}=(0,s.useState)(e),x=a.find((e=>e.title===p));return(0,s.useEffect)((()=>{e&&m(e)}),[e]),t?(0,l.jsx)("div",{className:"settings-modal",children:(0,l.jsx)(c,{})}):(0,l.jsx)("div",{className:i()("settings-modal",{"settings-modal-large":"lg"===o}),children:(0,l.jsxs)(c,{children:[(0,l.jsx)(h,{hiddenTabs:n,settings:a,selectedTab:p,setSelectedTab:m,title:u}),(0,l.jsx)(d.ZP,{selectedSetting:x,panelProps:r})]})})}},28714:function(e,n,t){"use strict";t.d(n,{I:function(){return Re},Z:function(){return Ue}});var r=t(67294),i=t(29675),s=t(43586),a=t(53368),o=t(9834),l=t(6992),c=t(37496),d=t(97138),u=t(59090),p=t(89289),h=t(11877),m=t(30573),x=t(91637),j=t(66916),b=t(94184),v=t.n(b);function f(e,n,t=500){const{0:i,1:s}=(0,r.useState)(e),a=(0,r.useRef)();return[i,e=>{s(e),a.current&&clearTimeout(a.current),a.current=setTimeout((()=>n(e)),t)},s]}var y=t(85893);const g=({className:e,children:n})=>(0,y.jsx)("div",{className:v()(e,"w-4/12 flex-shrink-0"),children:(0,y.jsx)("label",{children:n})}),w=({children:e})=>(0,y.jsx)("div",{className:"w-8/12",children:e}),N=({children:e})=>(0,y.jsx)("div",{className:"flex items-center",children:e});var k=({workspaceId:e})=>{const{workspace:n}=a.Z.useGetWorkspace(e),t=a.Z.useUpdateWorkspaceSettings(),i=a.Z.useUpdateWorkspaceLogo(),{img:s,err:o,onUpload:l}=((e,n,t)=>{const{0:i,1:s}=(0,r.useState)(),{0:a,1:o}=(0,r.useState)(e);return{img:a,err:i,onUpload:e=>{e.files?.[0]&&e.files[0].arrayBuffer().then((e=>{if(n&&e.byteLength>1024*n)return void s(`Image must be less than ${n} kilobytes`);const r=new Uint8Array(e).reduce(((e,n)=>e+String.fromCharCode(n)),""),i=btoa(r);s(void 0),o(i),t(i)}))}}})(n?.logo,50,(n=>i({variables:{workspaceId:e,logo:n}}))),[c,d]=f(n?.name,(n=>n&&t({variables:{workspaceId:e,name:n}})));return n?(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsxs)(N,{children:[(0,y.jsx)(g,{children:"Name"}),n.isOrganization?(0,y.jsx)(w,{children:(0,y.jsx)("input",{className:"w-full rounded-md border-textFieldBorder bg-themeTextFieldBgcolor text-sm",type:"text",value:c,onChange:e=>d(e.currentTarget.value)})}):(0,y.jsx)("div",{className:"w-8/12",children:(0,y.jsx)("div",{className:"py-2 text-sm",children:c})})]}),(0,y.jsxs)(N,{children:[(0,y.jsx)(g,{className:"self-start",children:"Logo"}),(0,y.jsx)(w,{children:(0,y.jsxs)("div",{className:"flex flex-col items-start space-y-4",children:[s?(0,y.jsx)("img",{className:"block max-h-12",src:`data:image/png;base64,${s}`}):null,(0,y.jsxs)("label",{className:"flex-inline cursor-pointer items-center justify-center rounded-md border p-2",children:[(0,y.jsx)("input",{type:"file",className:"invisible h-1 w-0",accept:"image/png",onChange:e=>l(e.currentTarget)}),(0,y.jsx)("span",{children:"Upload"}),(0,y.jsx)("span",{className:"material-icons ml-2 text-sm",children:"upload"})]}),o?(0,y.jsx)("div",{className:"text-red-500",children:o}):null]})})]})]}):null},S=t(9014),P=t(59499),C=t(72896);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,P.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function A(e){return"canceled"===e.status&&e.effectiveUntil}const I=e=>"trialing"===e.status&&null!=e.paymentMethods&&0===e.paymentMethods.length;function D(e){return`${T(e.card.brand)} ending with ${e.card.last4}`}const T=e=>{switch(e){case"visa":return"Visa";case"amex":return"American Express";case"diners":return"Diners Club";case"jcb":return"JCB";case"mastercard":return"Mastercard";default:return"Card"}},B=e=>M(M({},e),(e=>{switch((0,C.hu)(e.plan?.key,"Workspace does not have a planKey"),e.plan.key){case"beta-v1":case"test-beta-v1":return{billingSchedule:null,displayName:"Beta Tester Appreciation",seatPrice:0,discount:0,trial:I(e)};case"team-oss-v1":return{billingSchedule:"monthly",displayName:"OSS Team",seatPrice:0,discount:0,trial:!1};case"team-internal-v1":return{billingSchedule:"monthly",displayName:"Replay Team",seatPrice:0,discount:0,trial:!1};case"team-v1":case"test-team-v1":return{billingSchedule:"monthly",displayName:"Team",seatPrice:20,discount:0,trial:I(e)};case"team-annual-v1":return{billingSchedule:"annual",displayName:"Team",seatPrice:20,discount:.1,trial:I(e)};case"org-v1":return{billingSchedule:"monthly",displayName:"Organization",seatPrice:75,discount:0,trial:I(e)};case"org-annual-v1":return{billingSchedule:"annual",displayName:"Organization",seatPrice:75,discount:.1,trial:I(e)};case"ent-v1":return{billingSchedule:"contract",displayName:"Enterprise",seatPrice:0,discount:0,trial:!1}}})(e)),E=e=>e.billingSchedule&&e.seatCount?e.seatPrice*e.seatCount*(e=>"annual"===e.billingSchedule?12:1)(e):0,L=e=>e.billingSchedule?Z(-1*E(e)*e.discount):Z(0),_=e=>Z(E(e)*(1-e.discount));function Z(e){return new Intl.NumberFormat("en-us",{style:"currency",currency:"USD"}).format(e)}const F=new RegExp("^([^:/?#.]+:)//([*\\w\\d\\-\\u0100-\\uffff.%]*)(?::([*0-9]+))?","u");function R({disabled:e,id:n,value:t,onChange:r}){const[i,s]=f(t,(e=>r(e.split(",").map((e=>e.trim())).map((e=>{try{const[,n,t,r]=e.match(F)||[];return n&&t?`${n}//${t}${r?":"+r:""}`:""}catch{return""}})).filter(Boolean))));return(0,y.jsx)("textarea",{id:n,className:v()("h-20 w-full rounded-md text-sm",{"bg-themeTextFieldBgcolor":e,"border-textFieldBorder":e}),disabled:e,onChange:e=>s(e.currentTarget.value),value:i})}const G=({className:e,children:n,help:t})=>(0,y.jsxs)("div",{className:v()(e,"w-5/12 flex-shrink-0 justify-between space-x-2"),children:[(0,y.jsx)("label",{children:n}),t?(0,y.jsx)("span",{title:t,children:(0,y.jsx)(S.Z,{className:"h-4 w-4"})}):null]}),W=({children:e})=>(0,y.jsx)("div",{className:"w-8/12",children:e}),K=({children:e})=>(0,y.jsx)("div",{className:"flex items-center space-x-2",children:e});var U=({workspaceId:e})=>{const{workspace:n,loading:t}=a.Z.useGetWorkspace(e),i=a.Z.useUpdateWorkspaceSettings(),[s,o,l]=f(n?.settings?.motd||void 0,(n=>i({variables:{workspaceId:e,motd:n}}))),c=n?.settings?.features||{},d=n=>{i({variables:{workspaceId:e,features:n}})};if((0,r.useEffect)((()=>{n&&l(n.settings?.motd||"")}),[n?.id,l]),!n)return null;const u=!n.isOrganization;return(0,y.jsxs)("div",{className:v()("-mr-4 max-h-full space-y-4 overflow-y-auto pr-4",{"text-gray-500":u}),children:[u?(0,y.jsxs)("p",{children:["These features are only available to teams on our Organization Plan. Want to upgrade?"," ",(0,y.jsx)("a",{href:"mailto:sales@replay.io",rel:"noreferrer noopener",target:"_blank",className:"underline",children:"Get in touch!"})]}):null,(0,y.jsx)("div",{className:"text-xs font-semibold uppercase",children:"Recordings"}),(0,y.jsxs)(K,{children:[(0,y.jsx)(G,{children:"Disable Public Recordings"}),(0,y.jsx)(W,{children:(0,y.jsx)("label",{className:"flex items-center",htmlFor:"disable_public_recordings",children:(0,y.jsx)("input",{className:v()("ml-0 rounded-sm text-sm",{"bg-toolbarBackground":u,"border-gray-300":u}),disabled:u,type:"checkbox",id:"disable_public_recordings",name:"disable_public_recordings",onChange:e=>d({recording:{public:!e.currentTarget.checked}}),checked:!c?.recording?.public})})})]}),(0,y.jsxs)(K,{children:[(0,y.jsx)(G,{className:"flex flex-row items-center self-start",help:"If set, any recorded URL must match at least one of these domains.",children:"Allow Recordings From"}),(0,y.jsx)(W,{children:(0,y.jsx)(R,{id:"allow_list",value:c?.recording?.allowList?.join(", "),disabled:u,onChange:e=>d({recording:{allowList:e}})})})]}),(0,y.jsxs)(K,{children:[(0,y.jsx)(G,{className:"flex flex-row items-center self-start",help:"If set, any recorded URL must not match any of these domains.",children:"Block Recordings From"}),(0,y.jsx)(W,{children:(0,y.jsx)(R,{id:"block_list",value:c?.recording?.blockList?.join(", "),disabled:u,onChange:e=>d({recording:{blockList:e}})})})]}),(0,y.jsx)("div",{className:"text-xs font-semibold uppercase",children:"Members"}),(0,y.jsxs)(K,{children:[(0,y.jsx)(G,{children:"Disable My Library"}),(0,y.jsx)(W,{children:(0,y.jsx)("label",{className:"flex items-center",htmlFor:"restrict_users_to_domain",children:(0,y.jsx)("input",{className:v()("ml-0 rounded-sm text-sm",{"bg-toolbarBackground":u,"border-gray-300":u}),disabled:u,type:"checkbox",id:"restrict_users_to_domain",name:"restrict_users_to_domain",checked:!c?.user?.library,onChange:e=>d({user:{library:!e.currentTarget.checked}})})})})]}),(0,y.jsxs)(K,{children:[(0,y.jsx)(G,{children:"Automatically Add Users"}),(0,y.jsx)(W,{children:(0,y.jsx)("label",{className:"flex items-center",htmlFor:"auto_add_users",children:(0,y.jsxs)("select",{className:v()("ml-0 rounded-sm text-sm",{"bg-toolbarBackground":u,"border-gray-300":u}),disabled:u,id:"auto_add_users",name:"auto_add_users",value:c?.user?.autoJoin||0,onChange:e=>d({user:{autoJoin:Number(e.currentTarget.selectedOptions.item(0)?.value)||null}}),children:[(0,y.jsx)("option",{value:"0",children:"None"}),(0,y.jsx)("option",{value:"1",children:"Viewer"}),(0,y.jsx)("option",{value:"3",children:"Developer"}),(0,y.jsx)("option",{value:"131",children:"Admin"})]})})})]}),(0,y.jsxs)(K,{children:[(0,y.jsx)(G,{className:"self-start",children:"Welcome Message"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("textarea",{className:v()("h-20 w-full rounded-md text-sm",{"bg-themeTextFieldBgcolor":u,"border-textFieldBorder":u}),disabled:u,onChange:e=>o(e.currentTarget.value),value:s}),u?null:(0,y.jsx)("a",{href:"/browser/new-tab",rel:"noreferrer noopener",target:"_blank",children:"Preview"})]})]})]})},z=t(16626);var H=t(2664),V=t(53320),$=t(92182),J=t(61753),Y=t(81217);const q={admin:"Admin",debugger:"Developer",viewer:"User"};function Q(e){return e.roles?.includes("debugger")?"debugger":"viewer"}function X({value:e,selected:n,onSelect:t}){return(0,y.jsxs)("label",{className:v()("permissions-dropdown-item block",{"font-bold":n}),children:[(0,y.jsx)("input",{type:"admin"==e?"checkbox":"radio",name:"workspaceUserRole",className:"appearance-none checked:bg-blue-500 indeterminate:bg-gray-300",value:e,checked:n,onChange:n=>t(e)}),(0,y.jsx)("span",{className:"pl-2",children:q[e]})]})}function ee({isAdmin:e,member:n,onClick:t}){const i=Q(n),s=function(e){return e.roles?.includes("admin")||!1}(n),{updateWorkspaceMemberRole:o}=a.Z.useUpdateWorkspaceMemberRole(),{0:l,1:c}=(0,r.useState)(i);(0,r.useEffect)((()=>c(i)),[i]);const d=e=>{let r;t(),"admin"!==e?(r=[e],s&&r.push("admin")):(r=[i],s||r.push("admin")),c(e),o({variables:{id:n.membershipId,roles:r}}).catch((e=>{console.error(e),c(l)}))};return(0,y.jsxs)("div",{children:[(0,y.jsx)(X,{value:"viewer",onSelect:d,selected:"viewer"==i}),(0,y.jsx)(X,{value:"debugger",onSelect:d,selected:"debugger"==i}),e?(0,y.jsx)(X,{value:"admin",onSelect:d,selected:s}):null]})}function ne({member:e,hideArrow:n=!1,title:t}){return(0,y.jsxs)("div",{className:v()("flex flex-row items-center",{italic:e.pending}),title:t,children:[(0,y.jsxs)("span",{className:"whitespace-pre",children:[q[Q(e)],e.pending?" (pending)":""]}),(0,y.jsx)(Y.Z,{className:v()("material-icons opacity-0",{"group-hover:opacity-100":!n}),iconSize:"xl",children:"expand_more"})]})}function te({member:e,isAdmin:n}){const t=a.Z.useDeleteUserFromWorkspace(),{0:i,1:s}=(0,r.useState)(!1),{confirmDestructive:o}=(0,h.N4)();return(0,y.jsxs)("li",{className:"flex flex-row items-center space-x-1.5",children:[(0,y.jsx)("div",{className:"grid items-center justify-center",style:{width:"28px",height:"28px"},children:(0,y.jsx)(Y.Z,{iconSize:"xl",children:"mail_outline"})}),(0,y.jsx)("div",{className:"flex-grow overflow-hidden overflow-ellipsis whitespace-pre",children:e.email}),(0,y.jsx)(J.Z,{buttonContent:(0,y.jsx)(ne,{member:e}),setExpanded:s,expanded:i,buttonStyle:"group",position:"bottom-right",children:(0,y.jsxs)($.Lt,{children:[(0,y.jsx)(ee,{member:e,isAdmin:n,onClick:()=>s(!1)}),(0,y.jsx)($.YV,{}),(0,y.jsx)($.hP,{onClick:()=>{s(!1),o({message:"Remove team member?",description:`Are you sure you want to remove ${e.email} from this team?`,acceptLabel:"Remove them"}).then((n=>{n&&t({variables:{membershipId:e.membershipId}})}))},children:"Remove"})]})})]})}function re({canLeave:e,member:n,hideModal:t,isAdmin:i}){const o=(0,s.t5)(!0),{0:l,1:c}=(0,r.useState)(!1),d=a.Z.useDeleteUserFromWorkspace(),u=a.Z.useUpdateDefaultWorkspace(),{userId:p}=a.Z.useGetUserId(),{userId:h,membershipId:m}=n;return e?(0,y.jsx)(J.Z,{buttonContent:(0,y.jsx)(ne,{member:n}),setExpanded:c,expanded:l,buttonStyle:"group",position:"bottom-right",children:(0,y.jsxs)($.Lt,{children:[p!==h?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(ee,{member:n,isAdmin:i,onClick:()=>c(!1)}),(0,y.jsx)($.YV,{})]}):null,(0,y.jsx)($.hP,{onClick:()=>{c(!1);const e=`Are you sure you want to remove ${n.user.name} from this team?`,r=p==h,i=r?"Are you sure you want to leave this team?":e;window.confirm(i)&&(d({variables:{membershipId:m}}),r&&(t(),u({variables:{workspaceId:null}}),o("me")))},children:n.pending?"Cancel":p==h?"Leave":"Remove"})]})}):(0,y.jsx)(ne,{member:n,hideArrow:!0,title:"Promote another team member to admin in order to leave this team"})}var ie=(0,H.$j)((()=>({})),{hideModal:i.hideModal})((function({member:e,hideModal:n,isAdmin:t,canLeave:r=!1}){return(0,y.jsxs)("li",{className:"flex flex-row items-center space-x-1.5",children:[(0,y.jsx)(V.F$,{src:e.user.picture,className:"avatar rounded-full",style:{width:"28px",height:"28px"}}),(0,y.jsx)("div",{className:"flex-grow overflow-hidden overflow-ellipsis whitespace-pre","data-private":!0,children:e.user.name}),(0,y.jsx)(re,{member:e,hideModal:n,isAdmin:t,canLeave:r})]})})),se=t(86664),ae=t(54465),oe=t(98369),le=t(98481),ce=t(4730);const de=["children","className"];function ue(e){let{children:n,className:t}=e;(0,ce.Z)(e,de);return(0,y.jsx)("div",{className:v()(t,"grid grid-cols-3 items-center gap-4 border-t border-themeBase-90 pt-5"),children:n})}function pe({children:e,className:n,id:t,label:r}){return(0,y.jsxs)(ue,{className:n,children:[(0,y.jsx)("label",{htmlFor:t,className:"mt-px block pt-2 text-sm font-medium text-bodyColor",children:r}),(0,y.jsx)("div",{className:"col-span-2 mt-1 mt-0",children:e})]})}const he=["children","className","id","label"];function me(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function xe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?me(Object(t),!0).forEach((function(n){(0,P.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function je(e){let{children:n,className:t,id:r,label:i}=e,s=(0,ce.Z)(e,he);return(0,y.jsx)(pe,{id:r,className:t,label:i,children:(0,y.jsx)("select",xe(xe({},s),{},{className:"mt-1 block w-full rounded-md border-themeBorder bg-themeTextFieldBgcolor py-2 pl-3 pr-10 text-base focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",children:n}))})}function be(){return(0,y.jsxs)(je,{id:"country",required:!0,label:"Country",autoComplete:"country",children:[(0,y.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Choose your country"}),(0,y.jsx)("option",{value:"AF",children:"Afghanistan"}),(0,y.jsx)("option",{value:"AX",children:"\xc5land"}),(0,y.jsx)("option",{value:"AL",children:"Albania"}),(0,y.jsx)("option",{value:"DZ",children:"Algeria"}),(0,y.jsx)("option",{value:"AS",children:"American Samoa"}),(0,y.jsx)("option",{value:"AD",children:"Andorra"}),(0,y.jsx)("option",{value:"AO",children:"Angola"}),(0,y.jsx)("option",{value:"AI",children:"Anguilla"}),(0,y.jsx)("option",{value:"AQ",children:"Antarctica"}),(0,y.jsx)("option",{value:"AG",children:"Antigua and Barbuda"}),(0,y.jsx)("option",{value:"AR",children:"Argentina"}),(0,y.jsx)("option",{value:"AM",children:"Armenia"}),(0,y.jsx)("option",{value:"AW",children:"Aruba"}),(0,y.jsx)("option",{value:"AU",children:"Australia"}),(0,y.jsx)("option",{value:"AT",children:"Austria"}),(0,y.jsx)("option",{value:"AZ",children:"Azerbaijan"}),(0,y.jsx)("option",{value:"BS",children:"Bahamas"}),(0,y.jsx)("option",{value:"BH",children:"Bahrain"}),(0,y.jsx)("option",{value:"BD",children:"Bangladesh"}),(0,y.jsx)("option",{value:"BB",children:"Barbados"}),(0,y.jsx)("option",{value:"BY",children:"Belarus"}),(0,y.jsx)("option",{value:"BE",children:"Belgium"}),(0,y.jsx)("option",{value:"BZ",children:"Belize"}),(0,y.jsx)("option",{value:"BJ",children:"Benin"}),(0,y.jsx)("option",{value:"BM",children:"Bermuda"}),(0,y.jsx)("option",{value:"BT",children:"Bhutan"}),(0,y.jsx)("option",{value:"BO",children:"Bolivia"}),(0,y.jsx)("option",{value:"BQ",children:"Bonaire, Sint Eustatius and Saba"}),(0,y.jsx)("option",{value:"BA",children:"Bosnia and Herzegovina"}),(0,y.jsx)("option",{value:"BW",children:"Botswana"}),(0,y.jsx)("option",{value:"BV",children:"Bouvet Island"}),(0,y.jsx)("option",{value:"BR",children:"Brazil"}),(0,y.jsx)("option",{value:"IO",children:"British Indian Ocean Territory"}),(0,y.jsx)("option",{value:"BN",children:"Brunei Darussalam"}),(0,y.jsx)("option",{value:"BG",children:"Bulgaria"}),(0,y.jsx)("option",{value:"BF",children:"Burkina Faso"}),(0,y.jsx)("option",{value:"BI",children:"Burundi"}),(0,y.jsx)("option",{value:"KH",children:"Cambodia"}),(0,y.jsx)("option",{value:"CM",children:"Cameroon"}),(0,y.jsx)("option",{value:"CA",children:"Canada"}),(0,y.jsx)("option",{value:"CV",children:"Cape Verde"}),(0,y.jsx)("option",{value:"KY",children:"Cayman Islands"}),(0,y.jsx)("option",{value:"CF",children:"Central African Republic"}),(0,y.jsx)("option",{value:"TD",children:"Chad"}),(0,y.jsx)("option",{value:"CL",children:"Chile"}),(0,y.jsx)("option",{value:"CN",children:"China"}),(0,y.jsx)("option",{value:"CX",children:"Christmas Island"}),(0,y.jsx)("option",{value:"CC",children:"Cocos (Keeling) Islands"}),(0,y.jsx)("option",{value:"CO",children:"Colombia"}),(0,y.jsx)("option",{value:"KM",children:"Comoros"}),(0,y.jsx)("option",{value:"CG",children:"Congo (Brazzaville)"}),(0,y.jsx)("option",{value:"CD",children:"Congo (Kinshasa)"}),(0,y.jsx)("option",{value:"CK",children:"Cook Islands"}),(0,y.jsx)("option",{value:"CR",children:"Costa Rica"}),(0,y.jsx)("option",{value:"CI",children:"C\xf4te d'Ivoire"}),(0,y.jsx)("option",{value:"HR",children:"Croatia"}),(0,y.jsx)("option",{value:"CW",children:"Cura\xe7ao"}),(0,y.jsx)("option",{value:"CY",children:"Cyprus"}),(0,y.jsx)("option",{value:"CZ",children:"Czech Republic"}),(0,y.jsx)("option",{value:"DK",children:"Denmark"}),(0,y.jsx)("option",{value:"DJ",children:"Djibouti"}),(0,y.jsx)("option",{value:"DM",children:"Dominica"}),(0,y.jsx)("option",{value:"DO",children:"Dominican Republic"}),(0,y.jsx)("option",{value:"EC",children:"Ecuador"}),(0,y.jsx)("option",{value:"EG",children:"Egypt"}),(0,y.jsx)("option",{value:"SV",children:"El Salvador"}),(0,y.jsx)("option",{value:"GQ",children:"Equatorial Guinea"}),(0,y.jsx)("option",{value:"ER",children:"Eritrea"}),(0,y.jsx)("option",{value:"EE",children:"Estonia"}),(0,y.jsx)("option",{value:"ET",children:"Ethiopia"}),(0,y.jsx)("option",{value:"FK",children:"Falkland Islands"}),(0,y.jsx)("option",{value:"FO",children:"Faroe Islands"}),(0,y.jsx)("option",{value:"FJ",children:"Fiji"}),(0,y.jsx)("option",{value:"FI",children:"Finland"}),(0,y.jsx)("option",{value:"FR",children:"France"}),(0,y.jsx)("option",{value:"GF",children:"French Guiana"}),(0,y.jsx)("option",{value:"PF",children:"French Polynesia"}),(0,y.jsx)("option",{value:"TF",children:"French Southern Lands"}),(0,y.jsx)("option",{value:"GA",children:"Gabon"}),(0,y.jsx)("option",{value:"GM",children:"Gambia"}),(0,y.jsx)("option",{value:"GE",children:"Georgia"}),(0,y.jsx)("option",{value:"DE",children:"Germany"}),(0,y.jsx)("option",{value:"GH",children:"Ghana"}),(0,y.jsx)("option",{value:"GI",children:"Gibraltar"}),(0,y.jsx)("option",{value:"GR",children:"Greece"}),(0,y.jsx)("option",{value:"GL",children:"Greenland"}),(0,y.jsx)("option",{value:"GD",children:"Grenada"}),(0,y.jsx)("option",{value:"GP",children:"Guadeloupe"}),(0,y.jsx)("option",{value:"GU",children:"Guam"}),(0,y.jsx)("option",{value:"GT",children:"Guatemala"}),(0,y.jsx)("option",{value:"GG",children:"Guernsey"}),(0,y.jsx)("option",{value:"GN",children:"Guinea"}),(0,y.jsx)("option",{value:"GW",children:"Guinea-Bissau"}),(0,y.jsx)("option",{value:"GY",children:"Guyana"}),(0,y.jsx)("option",{value:"HT",children:"Haiti"}),(0,y.jsx)("option",{value:"HM",children:"Heard and McDonald Islands"}),(0,y.jsx)("option",{value:"HN",children:"Honduras"}),(0,y.jsx)("option",{value:"HK",children:"Hong Kong"}),(0,y.jsx)("option",{value:"HU",children:"Hungary"}),(0,y.jsx)("option",{value:"IS",children:"Iceland"}),(0,y.jsx)("option",{value:"IN",children:"India"}),(0,y.jsx)("option",{value:"ID",children:"Indonesia"}),(0,y.jsx)("option",{value:"IR",children:"Iran"}),(0,y.jsx)("option",{value:"IQ",children:"Iraq"}),(0,y.jsx)("option",{value:"IE",children:"Ireland"}),(0,y.jsx)("option",{value:"IM",children:"Isle of Man"}),(0,y.jsx)("option",{value:"IL",children:"Israel"}),(0,y.jsx)("option",{value:"IT",children:"Italy"}),(0,y.jsx)("option",{value:"JM",children:"Jamaica"}),(0,y.jsx)("option",{value:"JP",children:"Japan"}),(0,y.jsx)("option",{value:"JE",children:"Jersey"}),(0,y.jsx)("option",{value:"JO",children:"Jordan"}),(0,y.jsx)("option",{value:"KZ",children:"Kazakhstan"}),(0,y.jsx)("option",{value:"KE",children:"Kenya"}),(0,y.jsx)("option",{value:"KI",children:"Kiribati"}),(0,y.jsx)("option",{value:"KR",children:"Korea, South"}),(0,y.jsx)("option",{value:"KW",children:"Kuwait"}),(0,y.jsx)("option",{value:"KG",children:"Kyrgyzstan"}),(0,y.jsx)("option",{value:"LA",children:"Laos"}),(0,y.jsx)("option",{value:"LV",children:"Latvia"}),(0,y.jsx)("option",{value:"LB",children:"Lebanon"}),(0,y.jsx)("option",{value:"LS",children:"Lesotho"}),(0,y.jsx)("option",{value:"LR",children:"Liberia"}),(0,y.jsx)("option",{value:"LY",children:"Libya"}),(0,y.jsx)("option",{value:"LI",children:"Liechtenstein"}),(0,y.jsx)("option",{value:"LT",children:"Lithuania"}),(0,y.jsx)("option",{value:"LU",children:"Luxembourg"}),(0,y.jsx)("option",{value:"MO",children:"Macau"}),(0,y.jsx)("option",{value:"MK",children:"Macedonia"}),(0,y.jsx)("option",{value:"MG",children:"Madagascar"}),(0,y.jsx)("option",{value:"MW",children:"Malawi"}),(0,y.jsx)("option",{value:"MY",children:"Malaysia"}),(0,y.jsx)("option",{value:"MV",children:"Maldives"}),(0,y.jsx)("option",{value:"ML",children:"Mali"}),(0,y.jsx)("option",{value:"MT",children:"Malta"}),(0,y.jsx)("option",{value:"MH",children:"Marshall Islands"}),(0,y.jsx)("option",{value:"MQ",children:"Martinique"}),(0,y.jsx)("option",{value:"MR",children:"Mauritania"}),(0,y.jsx)("option",{value:"MU",children:"Mauritius"}),(0,y.jsx)("option",{value:"YT",children:"Mayotte"}),(0,y.jsx)("option",{value:"MX",children:"Mexico"}),(0,y.jsx)("option",{value:"FM",children:"Micronesia"}),(0,y.jsx)("option",{value:"MD",children:"Moldova"}),(0,y.jsx)("option",{value:"MC",children:"Monaco"}),(0,y.jsx)("option",{value:"MN",children:"Mongolia"}),(0,y.jsx)("option",{value:"ME",children:"Montenegro"}),(0,y.jsx)("option",{value:"MS",children:"Montserrat"}),(0,y.jsx)("option",{value:"MA",children:"Morocco"}),(0,y.jsx)("option",{value:"MZ",children:"Mozambique"}),(0,y.jsx)("option",{value:"MM",children:"Myanmar"}),(0,y.jsx)("option",{value:"NA",children:"Namibia"}),(0,y.jsx)("option",{value:"NR",children:"Nauru"}),(0,y.jsx)("option",{value:"NP",children:"Nepal"}),(0,y.jsx)("option",{value:"NL",children:"Netherlands"}),(0,y.jsx)("option",{value:"NC",children:"New Caledonia"}),(0,y.jsx)("option",{value:"NZ",children:"New Zealand"}),(0,y.jsx)("option",{value:"NI",children:"Nicaragua"}),(0,y.jsx)("option",{value:"NE",children:"Niger"}),(0,y.jsx)("option",{value:"NG",children:"Nigeria"}),(0,y.jsx)("option",{value:"NU",children:"Niue"}),(0,y.jsx)("option",{value:"NF",children:"Norfolk Island"}),(0,y.jsx)("option",{value:"MP",children:"Northern Mariana Islands"}),(0,y.jsx)("option",{value:"NO",children:"Norway"}),(0,y.jsx)("option",{value:"OM",children:"Oman"}),(0,y.jsx)("option",{value:"PK",children:"Pakistan"}),(0,y.jsx)("option",{value:"PW",children:"Palau"}),(0,y.jsx)("option",{value:"PS",children:"Palestine"}),(0,y.jsx)("option",{value:"PA",children:"Panama"}),(0,y.jsx)("option",{value:"PG",children:"Papua New Guinea"}),(0,y.jsx)("option",{value:"PY",children:"Paraguay"}),(0,y.jsx)("option",{value:"PE",children:"Peru"}),(0,y.jsx)("option",{value:"PH",children:"Philippines"}),(0,y.jsx)("option",{value:"PN",children:"Pitcairn"}),(0,y.jsx)("option",{value:"PL",children:"Poland"}),(0,y.jsx)("option",{value:"PT",children:"Portugal"}),(0,y.jsx)("option",{value:"PR",children:"Puerto Rico"}),(0,y.jsx)("option",{value:"QA",children:"Qatar"}),(0,y.jsx)("option",{value:"RE",children:"Reunion"}),(0,y.jsx)("option",{value:"RO",children:"Romania"}),(0,y.jsx)("option",{value:"RU",children:"Russian Federation"}),(0,y.jsx)("option",{value:"RW",children:"Rwanda"}),(0,y.jsx)("option",{value:"BL",children:"Saint Barth\xe9lemy"}),(0,y.jsx)("option",{value:"SH",children:"Saint Helena"}),(0,y.jsx)("option",{value:"KN",children:"Saint Kitts and Nevis"}),(0,y.jsx)("option",{value:"LC",children:"Saint Lucia"}),(0,y.jsx)("option",{value:"MF",children:"Saint Martin (French part)"}),(0,y.jsx)("option",{value:"PM",children:"Saint Pierre and Miquelon"}),(0,y.jsx)("option",{value:"VC",children:"Saint Vincent and the Grenadines"}),(0,y.jsx)("option",{value:"WS",children:"Samoa"}),(0,y.jsx)("option",{value:"SM",children:"San Marino"}),(0,y.jsx)("option",{value:"ST",children:"Sao Tome and Principe"}),(0,y.jsx)("option",{value:"SA",children:"Saudi Arabia"}),(0,y.jsx)("option",{value:"SN",children:"Senegal"}),(0,y.jsx)("option",{value:"RS",children:"Serbia"}),(0,y.jsx)("option",{value:"SC",children:"Seychelles"}),(0,y.jsx)("option",{value:"SL",children:"Sierra Leone"}),(0,y.jsx)("option",{value:"SG",children:"Singapore"}),(0,y.jsx)("option",{value:"SX",children:"Sint Maarten (Dutch part)"}),(0,y.jsx)("option",{value:"SK",children:"Slovakia"}),(0,y.jsx)("option",{value:"SI",children:"Slovenia"}),(0,y.jsx)("option",{value:"SB",children:"Solomon Islands"}),(0,y.jsx)("option",{value:"SO",children:"Somalia"}),(0,y.jsx)("option",{value:"ZA",children:"South Africa"}),(0,y.jsx)("option",{value:"GS",children:"South Georgia and South Sandwich Islands"}),(0,y.jsx)("option",{value:"SS",children:"South Sudan"}),(0,y.jsx)("option",{value:"ES",children:"Spain"}),(0,y.jsx)("option",{value:"LK",children:"Sri Lanka"}),(0,y.jsx)("option",{value:"SD",children:"Sudan"}),(0,y.jsx)("option",{value:"SR",children:"Suriname"}),(0,y.jsx)("option",{value:"SJ",children:"Svalbard and Jan Mayen Islands"}),(0,y.jsx)("option",{value:"SZ",children:"Swaziland"}),(0,y.jsx)("option",{value:"SE",children:"Sweden"}),(0,y.jsx)("option",{value:"CH",children:"Switzerland"}),(0,y.jsx)("option",{value:"TW",children:"Taiwan"}),(0,y.jsx)("option",{value:"TJ",children:"Tajikistan"}),(0,y.jsx)("option",{value:"TZ",children:"Tanzania"}),(0,y.jsx)("option",{value:"TH",children:"Thailand"}),(0,y.jsx)("option",{value:"TL",children:"Timor-Leste"}),(0,y.jsx)("option",{value:"TG",children:"Togo"}),(0,y.jsx)("option",{value:"TK",children:"Tokelau"}),(0,y.jsx)("option",{value:"TO",children:"Tonga"}),(0,y.jsx)("option",{value:"TT",children:"Trinidad and Tobago"}),(0,y.jsx)("option",{value:"TN",children:"Tunisia"}),(0,y.jsx)("option",{value:"TR",children:"Turkey"}),(0,y.jsx)("option",{value:"TM",children:"Turkmenistan"}),(0,y.jsx)("option",{value:"TC",children:"Turks and Caicos Islands"}),(0,y.jsx)("option",{value:"TV",children:"Tuvalu"}),(0,y.jsx)("option",{value:"UG",children:"Uganda"}),(0,y.jsx)("option",{value:"UA",children:"Ukraine"}),(0,y.jsx)("option",{value:"AE",children:"United Arab Emirates"}),(0,y.jsx)("option",{value:"GB",children:"United Kingdom"}),(0,y.jsx)("option",{value:"UM",children:"United States Minor Outlying Islands"}),(0,y.jsx)("option",{value:"US",children:"United States of America"}),(0,y.jsx)("option",{value:"UY",children:"Uruguay"}),(0,y.jsx)("option",{value:"UZ",children:"Uzbekistan"}),(0,y.jsx)("option",{value:"VU",children:"Vanuatu"}),(0,y.jsx)("option",{value:"VA",children:"Vatican City"}),(0,y.jsx)("option",{value:"VE",children:"Venezuela"}),(0,y.jsx)("option",{value:"VN",children:"Vietnam"}),(0,y.jsx)("option",{value:"VG",children:"Virgin Islands, British"}),(0,y.jsx)("option",{value:"VI",children:"Virgin Islands, U.S."}),(0,y.jsx)("option",{value:"WF",children:"Wallis and Futuna Islands"}),(0,y.jsx)("option",{value:"EH",children:"Western Sahara"}),(0,y.jsx)("option",{value:"YE",children:"Yemen"}),(0,y.jsx)("option",{value:"ZM",children:"Zambia"}),(0,y.jsx)("option",{value:"ZW",children:"Zimbabwe"})]})}const ve=["className","id","label"];function fe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ye(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fe(Object(t),!0).forEach((function(n){(0,P.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ge(e){let{className:n,id:t,label:r}=e,i=(0,ce.Z)(e,ve);return(0,y.jsx)(pe,{id:t,className:n,label:r,children:(0,y.jsx)("div",{className:"flex max-w-lg rounded-md shadow-sm",children:(0,y.jsx)("input",ye(ye({type:"text"},i),{},{name:t,id:t,className:"block w-full min-w-0 flex-1 rounded-md border-themeBorder bg-themeTextFieldBgcolor text-sm text-themeTextFieldColor focus:border-indigo-500 focus:ring-indigo-500"}))})})}const we=(e,n)=>{const t=e.elements.namedItem(n);if(t instanceof HTMLInputElement)return t.value};function Ne(e){const n=document.querySelector("#stripe-card-element");return!!n&&n.classList.contains(`StripeElement--${e}`)}function ke({onCancel:e,onSave:n,workspaceId:t,stripePromise:i}){const{0:s,1:o}=(0,r.useState)(!1),{0:l,1:c}=(0,r.useState)(),{0:d,1:u}=(0,r.useState)(),h=(0,se.useStripe)(),m=(0,se.useElements)(),{prepareWorkspacePaymentMethod:x,loading:j}=a.Z.usePrepareWorkspacePaymentMethod();(0,r.useEffect)((()=>{i.catch((()=>c("Unable to add a payment method at this time.")))}),[i]),(0,r.useEffect)((()=>{const e=m?.getElement(se.CardElement);function n(){Ne("complete")?u(""):Ne("invalid")&&u("Payment method is invalid")}return e?.on("blur",n),()=>{e?.off("blur",n)}}),[m,u]);if(l)return(0,y.jsx)("p",{className:"text-red-500",children:l});const b=window.getComputedStyle(document.documentElement).getPropertyValue("--body-color");return(0,y.jsxs)("form",{className:"space-y-4",onSubmit:e=>(async e=>{if(e.preventDefault(),!h||!m||j||s)return;const r=m.getElement(se.CardElement),i=e.currentTarget,a={name:we(i,"fullName"),address:{city:we(i,"city"),country:we(i,"country"),line1:we(i,"line1"),line2:we(i,"line2"),postal_code:we(i,"postalCode"),state:we(i,"state")}};if(r){if(!Ne("complete"))return u("Payment method is invalid"),void r.focus();try{const e=await x({variables:{workspaceId:t}});if(!e.data?.prepareWorkspacePaymentMethod.paymentSecret)throw new Error("Failed to create payment seret");c(void 0),o(!0);const i=await h.confirmCardSetup(e.data.prepareWorkspacePaymentMethod.paymentSecret,{payment_method:{card:r,billing_details:a}});if(i.error)throw i.error;n({paymentMethodBillingId:i.setupIntent.payment_method})}catch(l){console.error(l),c("Failed to create payment method. Please try again later.")}finally{o(!1)}}else console.error("Unable to find card element")})(e),children:[(0,y.jsxs)(ue,{children:[d?(0,y.jsx)("p",{className:"col-span-3 text-red-500",children:d}):null,(0,y.jsx)(se.CardElement,{className:"col-span-3 p-1",options:{hidePostalCode:!0,style:{base:{iconColor:b,color:b,":-webkit-autofill":{color:b},"::placeholder":{color:b}},invalid:{iconColor:"red",color:"red"}}},id:"stripe-card-element"})]}),(0,y.jsx)(ge,{id:"fullName",required:!0,label:"Cardholder Name",autoComplete:"name"}),(0,y.jsx)(ge,{id:"line1",required:!0,label:"Address",autoComplete:"street-address"}),(0,y.jsx)(ge,{id:"city",required:!0,label:"City",autoComplete:"city"}),(0,y.jsx)(ge,{id:"state",required:!0,label:"State / Province",autoComplete:"address-level1"}),(0,y.jsx)(ge,{id:"postalCode",required:!0,label:"Postal Code",autoComplete:"postal-code"}),(0,y.jsx)(be,{}),(0,y.jsxs)("div",{className:"flex flex-row items-center justify-end space-x-4 border-t border-gray-200 pt-5 pb-2",children:[(0,y.jsx)(p.zx,{size:"sm",color:"blue",style:"secondary",onClick:e,className:s?"opacity-60":void 0,type:"button",children:"Cancel"}),(0,y.jsx)(p.zx,{size:"sm",color:"blue",style:"primary",type:"submit",className:s?"opacity-60":void 0,children:"Save"})]})]})}function Se({workspaceId:e,subscription:n,onDone:t}){const{deleteWorkspacePaymentMethod:r,loading:i,error:s}=a.Z.useDeleteWorkspacePaymentMethod();return s||null==n.paymentMethods?(0,y.jsx)("section",{className:"text-red",children:"Unable to remove a payment method at this time."}):(0,y.jsxs)("section",{className:"space-y-6",children:[(0,y.jsx)("p",{children:"Removing a payment method will prevent any future charges for this subscription. Add a new payment method to continue your subscription beyond the current billing cycle."}),(0,y.jsxs)("p",{children:["Are you sure you want to remove ",D(n.paymentMethods[0]),"?"]}),(0,y.jsxs)("div",{className:"flex flex-row justify-center space-x-6",children:[(0,y.jsx)("button",{className:v()("rounded-md border border-primaryAccent px-6 py-3 text-primaryAccent",{"opacity-60":i}),onClick:i?void 0:t,children:"Cancel"}),(0,y.jsx)("button",{disabled:i,className:v()("rounded-md bg-red-500 px-6 py-3 text-white",{"opacity-60":i}),onClick:i?void 0:()=>r({variables:{workspaceId:e,paymentMethodId:n.paymentMethods[0].id}}).then(t),children:"Remove Payment Method"})]})]})}var Pe=t(81260);function Ce({children:e,icon:n,type:t}){return(0,y.jsxs)("div",{className:v()("flex flex-row items-center space-x-3 rounded-md p-3",{"bg-primaryAccent text-white":"primary"===t,"bg-yellow-300 text-black":"warning"===t}),children:[n,(0,y.jsx)("span",{className:"flex-grow",children:e})]})}function Oe(e,n="relative"){if("RelativeTimeFormat"in Intl&&"relative"===n){const n=new Intl.RelativeTimeFormat("en",{localeMatcher:"best fit",numeric:"auto",style:"long"}),t=Math.ceil((new Date(e).getTime()-Date.now())/864e5);return n.format(t,"day")}return new Intl.DateTimeFormat("en",{year:"numeric",month:"long",day:"numeric"}).format(new Date(new Date(e)))}function Me({confirmed:e,workspace:n,onResubscribe:t}){const r=n.subscription;if(e)return(0,y.jsx)(Ce,{icon:(0,y.jsx)(Y.Z,{iconSize:"xl",children:"check_circle_outline"}),type:"primary",children:"Payment method added successfully, thank you!"});if("beta-v1"===r?.plan?.key)return(0,y.jsx)(Ce,{icon:(0,y.jsx)("span",{className:"text-3xl",children:"\ud83d\ude0d"}),type:"primary",children:"We\u2019ve gifted you a team plan for being a beta tester. Thank you!"});if("trialing"===r?.status)return(0,y.jsxs)(Ce,{icon:(0,y.jsx)(Y.Z,{iconSize:"xl",children:"access_time"}),type:"warning",children:["Trial ends ",Oe(r.trialEnds)]});if(r&&A(r)){const e=Date.now()-new Date(r.effectiveUntil).getTime()>0;return(0,y.jsx)(Ce,{icon:(0,y.jsx)(Y.Z,{iconSize:"xl",children:"access_time"}),type:"warning",children:e?(0,y.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,y.jsx)("span",{children:"Subscription expired"}),(0,y.jsx)("button",{className:"text-black underline",onClick:t,children:n.hasPaymentMethod?"Resume Subscription":"Add payment method"})]}):`Subscription ends ${Oe(r.effectiveUntil)}.`})}return null}var Ae=t(18029),Ie=t.n(Ae);function De({subscription:e}){if(e.plan?.key.includes("beta")||!e.effectiveUntil)return null;let n="Renewal date";return I(e)?n="Your team\u2019s start date":"canceled"===e.status&&(n="Subscription end date"),(0,y.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-themeBase-85 py-2",children:[(0,y.jsx)("span",{children:n}),(0,y.jsx)("span",{children:Oe(e.effectiveUntil,"long")})]})}function Te({subscription:e}){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(De,{subscription:e}),(0,y.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-themeBase-85 py-2",children:[(0,y.jsx)("span",{children:"Renewal Schedule"}),(0,y.jsx)("span",{children:Ie()(e.billingSchedule||"monthly")})]}),(0,y.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-themeBase-85 py-2",children:[(0,y.jsx)("span",{children:"Number of seats"}),(0,y.jsx)("span",{children:e.seatCount})]}),e.billingSchedule&&"contract"!==e.billingSchedule&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-themeBase-85 py-2",children:[(0,y.jsx)("span",{children:"Cost per seat"}),(0,y.jsx)("span",{children:Z(e.seatPrice)})]}),e.discount?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-themeBase-85 py-2 font-bold",children:[(0,y.jsx)("span",{children:"Subtotal"}),(0,y.jsx)("span",{children:(t=e,Z(E(t)))})]}),(0,y.jsxs)("div",{className:"ml-3 flex flex-row items-center justify-between border-b border-themeBase-85 py-2",children:[(0,y.jsxs)("span",{children:["Discount (",(n=e.discount,new Intl.NumberFormat("en-us",{style:"percent"}).format(n)),")"]}),(0,y.jsx)("span",{children:L(e)})]})]}):null,(0,y.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-themeBase-85 py-2 font-bold",children:[(0,y.jsxs)("span",{children:[Ie()(e.billingSchedule)," charge"]}),(0,y.jsx)("span",{children:_(e)})]})]})]});var n,t}function Be({workspace:e,onSelectPricing:n,expiresIn:t}){const r=t<=0;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(le.bF,{children:r?"Trial Expired":"Trial Expiring Soon"}),(0,y.jsx)("div",{className:"p-4",children:(0,y.jsxs)("div",{style:{boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"},className:"space-y-6 rounded bg-themeBase-95 px-6 pt-8 pb-4 text-lg text-bodyColor",children:[!r&&(0,y.jsxs)("p",{children:[e?.name," Free Trial will be expiring in"," ",(0,y.jsx)("span",{className:"whitespace-nowrap font-bold",children:1===t?"1 day":`${t} days`}),"."]}),(0,y.jsxs)("p",{children:["Existing replays will continue to be debuggable. New replays will require an active subscription. Feel free to ",(0,y.jsx)("a",{href:"mailto:support@replay.io",children:"email"})," us if you have any questions."]}),(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)(p.zx,{size:"xl",color:"blue",style:"primary",type:"submit",className:"w-full justify-center",onClick:n,children:"Team Plan Pricing"})})]})})]})}function Ee({subscription:e,onAddPaymentMethod:n,onDeletePaymentMethod:t}){return(0,y.jsxs)("section",{children:[(0,y.jsx)(Te,{subscription:e}),A(e)||"contract"===e.billingSchedule||0===e.seatPrice?null:(0,y.jsxs)("div",{className:"flex flex-row items-center justify-between border-b border-themeBase-85 py-2",children:[(0,y.jsx)("span",{children:"Payment Method"}),(0,y.jsx)("span",{className:"flex flex-col items-end",children:e.paymentMethods&&e.paymentMethods.length>0?(0,y.jsx)("button",{className:"text-primaryAccent hover:underline",onClick:t,children:D(e.paymentMethods[0])}):(0,y.jsx)("button",{className:"text-primaryAccent hover:underline",onClick:n,children:"Add Payment Method"})})]})]})}function Le({subscription:e,onAddPaymentMethod:n,onDeletePaymentMethod:t,onResubscribe:r,workspace:i,confirmed:s}){if((0,Pe.sD)(i)){const e=(0,Pe.NU)(i);return(0,y.jsx)(Be,{workspace:i,expiresIn:e,onSelectPricing:n})}return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(le.bF,{children:`${e.displayName} Plan`}),(0,y.jsx)(Me,{workspace:i,confirmed:s,onResubscribe:r}),(0,y.jsx)(Ee,{subscription:e,onAddPaymentMethod:n,onDeletePaymentMethod:t})]})}var _e=t(32874);function Ze({subscription:e,onEnterCard:n}){return(0,y.jsxs)("section",{children:[(0,y.jsxs)("p",{className:"mb-4",children:["With a Replay ",e.displayName," Plan, you can expand your debugging superpowers with powerful collaboration features that make it easy to work together to fix bugs and understand your software better."," ",(0,y.jsx)(_e.Z,{href:"https://www.replay.io/pricing",className:"text-primaryAccent underline",children:"Learn More"})]}),(0,y.jsx)(Te,{subscription:e}),(0,y.jsx)(p.zx,{color:"blue",size:"xl",style:"primary",className:"my-6 w-full justify-center",onClick:n,children:"Add Payment Method"}),(0,y.jsx)(_e.Z,{href:"https://www.replay.io/terms-of-use",className:"underline",children:"Terms of service and cancellation policy"})]})}const Fe=(0,ae.J)((0,oe.yG)()?"pk_test_51IxKTQEfKucJn4vkBYgiHf8dIZPlzC96neLXfRmOKhEI0tmFwe21aRegxJLUntV8UoETbPj2XNuA3KSayIR4nWXt00Vd4mZq4Z":"pk_live_51IxKTQEfKucJn4vkdJyNElRNGAACWDbCZN5DEts1AwxLyO0XyKlkdktz3meLLBQCp63zmuozrnsVlzwIC9yhFPSM00UXegj4R1");function Re({members:e,isAdmin:n}){const t=(0,r.useMemo)((()=>e.slice().sort(((e,n)=>Number(n.pending)-Number(e.pending)))),[e]),i=e.length>1,s=i&&e.filter((e=>e.roles?.includes("admin"))).length>1;return(0,y.jsx)("ul",{className:"flex flex-col space-y-2.5",children:t.map((e=>e.email?(0,y.jsx)(te,{member:e,isAdmin:n},`non-registered-${e.email}`):(0,y.jsx)(ie,{member:e,isAdmin:n,canLeave:e.roles?.includes("admin")?s:i},`registered-${e.userId}`)))})}function Ge({members:e=[]}){const n=(0,s.Hv)(),{0:t,1:i}=(0,r.useState)(""),{0:o,1:l}=(0,r.useState)(null),{0:u,1:h}=(0,r.useState)(!1),x=a.Z.useInviteNewWorkspaceMember((()=>{i(""),h(!1)})),j=e.filter((e=>e.email)).map((e=>e.email));return(0,y.jsxs)("form",{className:"flex flex-col",onSubmit:async e=>{if(e.preventDefault(),!(0,c.oH)(t))return void l("Invalid email address");if(j.includes(t))return void l("Address has already been invited");l(null),h(!0);(await x({variables:{workspaceId:n,email:t,roles:["viewer","debugger"]}})).errors&&((0,d.L9)("error.add_member_error"),l("We're unable to add a member to your team at this time. We're looking into this and will be in touch soon."))},children:[(0,y.jsxs)("div",{className:"flex flex-grow flex-row space-x-3 p-0.5",children:[(0,y.jsx)(m.oi,{placeholder:"Email address",value:t,onChange:e=>{i(e.target.value)}}),u?(0,y.jsx)(p.ht,{children:"Loading"}):(0,y.jsx)(p.KM,{color:"blue",children:"Invite"})]}),o?(0,y.jsx)("div",{className:"py-3 text-xs text-red-500",children:o}):null]})}const We=[{component:k,icon:"settings",title:"Profile"},{component:U,icon:"business",title:"Organization"},{title:"Team Members",icon:"group",component:function({isAdmin:e,workspaceId:n}){const{members:t}=a.Z.useGetWorkspaceMembers(n);return(0,y.jsxs)("div",{className:"flex flex-grow flex-col space-y-3",children:[(0,y.jsx)("div",{children:"Manage members here so that everyone who belongs to this team can see each other's replays."}),(0,y.jsx)(Ge,{members:t}),(0,y.jsx)("div",{className:"text-xs font-semibold uppercase",children:"Members"}),(0,y.jsx)("div",{className:"flex-grow overflow-y-auto",children:(0,y.jsx)("div",{className:"workspace-members-container flex flex-col space-y-1.5",children:(0,y.jsx)("div",{className:"flex h-0 flex-col space-y-1.5",children:t?(0,y.jsx)(Re,{members:t,isAdmin:e}):null})})}),(0,y.jsx)(x.Z,{workspaceId:n,showDomainCheck:e,overlay:!0})]})}},{title:"Billing",icon:"payment",component:function({workspaceId:e}){const{0:n,1:t}=(0,r.useState)(),{0:i,1:s}=(0,r.useState)("details"),{0:o,1:l}=(0,r.useState)(!1),{0:c,1:u}=(0,r.useState)(!1),{workspace:p,loading:h}=a.Z.useGetWorkspace(e),{data:m,loading:x,error:j,refetch:b}=a.Z.useGetWorkspaceSubscription(e),{activateWorkspaceSubscription:v}=a.Z.useActivateWorkspaceSubscription();if((0,r.useEffect)((()=>{o&&"details"!==i&&l(!1)}),[o,i]),(0,r.useEffect)((()=>{j&&(0,d.ve)("DevtoolsGraphQLError",{source:"useGetWorkspaceSubscription",workspaceId:e,message:j,environment:(0,oe.yG)()?"dev":"prod"})})),x||!m?.node||h||!p)return null;(0,C.hu)("subscription"in m.node,"No subscription in GetWorkspaceSubscription response");const{subscription:f}=m.node;if(j||n)return(0,y.jsxs)("section",{className:"space-y-8",children:[(0,y.jsx)(le.bF,{children:"Eek!"}),(0,y.jsxs)("p",{children:[n||"Unable to load the subscription at this time."," We are looking into it on our end and feel free to email us at"," ",(0,y.jsx)("a",{href:"mailto:support@replay.io",children:"support@replay.io"})," if this problem persists."]})]});if(!f)return(0,y.jsx)("section",{className:"space-y-8",children:(0,y.jsx)("p",{children:"This team does not have an active subscription"})});const g=B(f);return(0,y.jsxs)("section",{className:"space-y-6 overflow-y-auto",style:{marginRight:-16,paddingRight:16},children:["details"===i&&(0,y.jsx)(Le,{confirmed:o,onAddPaymentMethod:()=>s("add-payment-method"),onDeletePaymentMethod:()=>s("delete-payment-method"),onResubscribe:async()=>{try{(0,C.hu)(m.node&&"subscription"in m.node,"No subscription in GetWorkspaceSubscription response");const n=m.node.subscription,t=n?.plan?.key;(0,C.hu)(t,"Workspace does not have a planKey"),n.paymentMethods?.length?((0,C.hu)(n.paymentMethods?.[0]?.id,"Payment method was not found"),await v({variables:{workspaceId:e,planKey:t,paymentMethodBillingId:n.paymentMethods[0].id}})):(u(!0),s("add-payment-method"))}catch(n){(0,d.ve)("devtools-billing",{workspaceId:p.id,errorMessage:n.message}),t("We had a problem resubscribing your team. We'll be in touch with you soon with more details.")}},subscription:g,workspace:p}),"add-payment-method"===i&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(le.bF,{children:`${g.displayName} Plan Pricing`}),(0,y.jsx)(Ze,{subscription:g,onEnterCard:()=>s("enter-payment-method")})]}),"enter-payment-method"===i&&(0,y.jsxs)(se.Elements,{stripe:Fe,children:[(0,y.jsx)(le.bF,{children:"Add Payment Method"}),(0,y.jsx)(ke,{onCancel:()=>s("details"),onSave:async({paymentMethodBillingId:n})=>{try{const t=p.subscription?.plan?.key;(0,C.hu)(t,"Workspace does not have a planKey"),s("details"),l(!0),await b(),c&&await v({variables:{workspaceId:e,planKey:t,paymentMethodBillingId:n}})}catch(r){(0,d.ve)("devtools-billing",{workspaceId:p.id,errorMessage:r.message}),t(c?"We had a problem resubscribing your team.":"We had a problem saving your payment method.")}},workspaceId:e,stripePromise:Fe})]}),"delete-payment-method"===i&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(le.bF,{children:"Remove Payment Method"}),(0,y.jsx)(Se,{subscription:g,workspaceId:e,onDone:()=>s("details")})]})]})},noTitle:!0},{title:"API Keys",icon:"vpn_key",component:function({workspaceId:e}){const{addWorkspaceApiKey:n,loading:t,error:r}=a.Z.useAddWorkspaceApiKey(),{deleteWorkspaceApiKey:i}=a.Z.useDeleteWorkspaceApiKey(),{data:s}=a.Z.useGetWorkspaceApiKeys(e);return s?.node?((0,C.hu)("apiKeys"in s.node,"No apiKeys in GetWorkspaceApiKeys response"),(0,y.jsx)(z.Z,{apiKeys:s.node.apiKeys,description:"API Keys allow you to upload recordings programmatically from your automated tests or from your continuous integration environment or upload source maps for sites that do not publish their source maps.",loading:t,error:r,addKey:(t,r)=>n({variables:{label:t,scopes:r??[],workspaceId:e}}).then((e=>e.data?.createWorkspaceAPIKey)),scopes:["admin:all","write:sourcemap"],deleteKey:e=>i({variables:{id:e}})})):null}},{title:"Delete Team",icon:"cancel",component:function({workspaceId:e}){const n=(0,l.TL)(),t=(0,s.t5)(!0),r=a.Z.useUpdateDefaultWorkspace(),o=a.Z.useDeleteWorkspace(),{confirmDestructive:c}=(0,h.N4)();return(0,y.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,y.jsx)("div",{className:"text-xs font-semibold uppercase ",children:"Danger Zone"}),(0,y.jsxs)("div",{className:"flex flex-row justify-between rounded-lg border border-red-300 p-1.5",children:[(0,y.jsxs)("div",{className:"flex flex-col",children:[(0,y.jsx)("div",{className:"font-semibold",children:"Delete this team"}),(0,y.jsx)("div",{className:"",children:"This cannot be reversed."})]}),(0,y.jsx)(p.zx,{color:"red",onClick:()=>{c({message:"Unexpected bad things will happen if you don't read this!",description:"This action cannot be undone. This will permanently delete this repository and delete all of the replays, api-keys, sourcemaps and remove all team member associations",acceptLabel:"Delete team"}).then((s=>{s&&(o({variables:{workspaceId:e,shouldDeleteRecordings:!0}}),n(i.hideModal()),r({variables:{workspaceId:null}}),t("me"))}))},size:"md",style:"primary",children:"Delete this team"})]})]})}}],Ke={billing:"Billing",members:"Team Members",api:"API Keys"};function Ue(){const e=(0,l.CG)((e=>{const n=o.getModalOptions(e),t=n&&"view"in n?n.view:null;return t&&Ke[t]})),n=(0,s.Hv)(),{members:t}=a.Z.useGetWorkspaceMembers(n),{workspace:r}=a.Z.useGetWorkspace(n),{userId:i}=a.Z.useGetUserId();if(!n||!r)return null;const c=e||"canceled"===r.subscription?.status?"Billing":"Team Members",d=t?.find((e=>e.userId===i))?.roles,p=d?.includes("admin")||!1,h=d?.includes("debugger")||!1,m=[];return p||(m.push("Delete Team"),m.push("Billing")),h||p||m.push("API Keys"),(0,y.jsx)(j.Z,{hiddenTabs:m,tab:c,panelProps:{isAdmin:p,workspaceId:n},settings:We,size:"lg",title:r.logo?(0,y.jsx)(u.Z,{src:r.logo,className:"max-h-12"}):r.name||"Team Settings"})}},97125:function(e){e.exports={avatar:"Avatar_avatar__E8Cex",authenticated:"Avatar_authenticated__weGMn",firstPlayer:"Avatar_firstPlayer__OhjBJ"}},68925:function(e){e.exports={libraryHeader:"Library_libraryHeader__Q6BUj",libraryWrapper:"Library_libraryWrapper__r3pJD",libraryRow:"Library_libraryRow__bJfe0",libraryRowSelected:"Library_libraryRowSelected__90gMl",teamRow:"Library_teamRow__YfBbJ",teamRowActive:"Library_teamRowActive__F8V2w",dropdownDivider:"Library_dropdownDivider__dG_PD",editButton:"Library_editButton__1jLbJ",recordingsBackground:"Library_recordingsBackground__tHlCM",navigation:"Library_navigation__GBDVP",workspaceName:"Library_workspaceName__zZEkn",runOverview:"Library_runOverview__L_KLG"}}}]);
//# sourceMappingURL=8714-5fc6abc0b549ba8b.js.map